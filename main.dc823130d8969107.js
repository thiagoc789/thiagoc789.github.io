"use strict";(self.webpackChunkComerciantesR=self.webpackChunkComerciantesR||[]).push([[179],{2011:(mt,Ce,N)=>{N.d(Ce,{Dh:()=>de,GT:()=>te,cc:()=>Te,hO:()=>He,on:()=>z,pX:()=>se,xv:()=>ue});var u=N(4650),J=N(9260),P=N(2122);mt=N.hmd(mt);const ie=["ngOnDestroy"],se=(Se,Me,Be,De={})=>new Proxy(Se,{get:(Ee,Ae)=>Be.runOutsideAngular(()=>{var Ve;if(Se[Ae])return!(null===(Ve=De?.spy)||void 0===Ve)&&Ve.get&&De.spy.get(Ae,Se[Ae]),Se[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const Pe=Me.toPromise().then(j=>{const _e=j&&j[Ae];return"function"==typeof _e?_e.bind(j):_e&&_e.then?_e.then(je=>Be.run(()=>je)):Be.run(()=>_e)});return new Proxy(()=>{},{get:(j,_e)=>Pe[_e],apply:(j,_e,je)=>Pe.then(qe=>{var _t;const tt=qe&&qe(...je);return!(null===(_t=De?.spy)||void 0===_t)&&_t.apply&&De.spy.apply(Ae,je,tt),tt})})})}),te=(Se,Me)=>{Me.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(De=>{Object.defineProperty(Se.prototype,De,Object.getOwnPropertyDescriptor(Be.prototype||Be,De))})})};class ge{constructor(Me){return Me}}const de=new u.OlP("angularfire2.app.options"),ue=new u.OlP("angularfire2.app.name");function z(Se,Me,Be){const Ee="object"==typeof Be&&Be||{};Ee.name=Ee.name||"string"==typeof Be&&Be||"[DEFAULT]";const Ve=J.Z.apps.filter(Pe=>Pe&&Pe.name===Ee.name)[0]||Me.runOutsideAngular(()=>J.Z.initializeApp(Se,Ee));try{JSON.stringify(Se)!==JSON.stringify(Ve.options)&&$("error",`${Ve.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(Ve)}const $=(Se,...Me)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Se](...Me)},Q={provide:ge,useFactory:z,deps:[de,u.R0b,[new u.FiY,ue]]};let He=(()=>{class Se{constructor(Be){J.Z.registerVersion("angularfire",P.q4.full,"core"),J.Z.registerVersion("angularfire",P.q4.full,"app-compat"),J.Z.registerVersion("angular",u.q4F.full,Be.toString())}static initializeApp(Be,De){return{ngModule:Se,providers:[{provide:de,useValue:Be},{provide:ue,useValue:De}]}}}return Se.\u0275fac=function(Be){return new(Be||Se)(u.LFG(u.Lbi))},Se.\u0275mod=u.oAB({type:Se}),Se.\u0275inj=u.cJS({providers:[Q]}),Se})();function Te(Se,Me,Be,De,Ee){const[,Ae,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Se)||[];if(Ae)return function Ge(Se,Me){try{return Se.toString()===Me.toString()}catch{return Se===Me}}(Ee,Ve)||(pe("error",`${Me} was already initialized on the ${Be} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Ee,was:Ve})),Ae;{const Pe=De();return globalThis.\u0275AngularfireInstanceCache.push([Se,Pe,Ee]),Pe}}const ot=!!mt.hot,pe=(Se,...Me)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Se](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(mt,Ce,N)=>{N.d(Ce,{q4:()=>Yl,iC:()=>Ns,HU:()=>bn,vb:()=>vo,JM:()=>$r});var u=N(4650),J=N(259),P=N(5861),ie=N(9681),se=N(2090),te=N(4859),ge=N(1877),de=N(8766);const ue="@firebase/installations",z="0.6.4",$=1e4,Q=`w:${z}`,He="FIS_v2",Te="https://firebaseinstallations.googleapis.com/v1",Ge=36e5,Me=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(I){return I instanceof se.ZR&&I.code.includes("request-failed")}function De({projectId:I}){return`${Te}/projects/${I}/installations`}function Ee(I){return{token:I.token,requestStatus:2,expiresIn:qe(I.expiresIn),creationTime:Date.now()}}function Ae(I,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(I,T){const B=(yield T.json()).error;return Me.create("request-failed",{requestName:I,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Pe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function _e(I){return je.apply(this,arguments)}function je(){return(je=(0,P.Z)(function*(I){const T=yield I();return T.status>=500&&T.status<600?I():T})).apply(this,arguments)}function qe(I){return Number(I.replace("s","000"))}function oe(){return(oe=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:T},{fid:O}){const B=De(I),X=Pe(I),U=T.getImmediate({optional:!0});if(U){const ut=yield U.getHeartbeatsHeader();ut&&X.append("x-firebase-client",ut)}const st={method:"POST",headers:X,body:JSON.stringify({fid:O,authVersion:He,appId:I.appId,sdkVersion:Q})},ft=yield _e(()=>fetch(B,st));if(ft.ok){const ut=yield ft.json();return{fid:ut.fid||O,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Ee(ut.authToken)}}throw yield Ae("Create Installation",ft)})).apply(this,arguments)}function he(I){return new Promise(T=>{setTimeout(T,I)})}const Oe=/^[cdef][\w-]{21}$/,Le="";function ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function Ye(I){return function ye(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Oe.test(O)?O:Le}catch{return Le}}function We(I){return`${I.appName}!${I.appId}`}const sn=new Map;function It(I,T){const O=We(I);Lt(O,T),function Hn(I,T){const O=function Tn(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=I=>{Lt(I.data.key,I.data.fid)}),mn}();O&&O.postMessage({key:I,fid:T}),function An(){0===sn.size&&mn&&(mn.close(),mn=null)}()}(O,T)}function Lt(I,T){const O=sn.get(I);if(O)for(const B of O)B(T)}let mn=null;const li="firebase-installations-database",Xs=1,ci="firebase-installations-store";let Zr=null;function Ts(){return Zr||(Zr=(0,de.X3)(li,Xs,{upgrade:(I,T)=>{0===T&&I.createObjectStore(ci)}})),Zr}function Sn(I,T){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,P.Z)(function*(I,T){const O=We(I),X=(yield Ts()).transaction(ci,"readwrite"),U=X.objectStore(ci),xe=yield U.get(O);return yield U.put(T,O),yield X.done,(!xe||xe.fid!==T.fid)&&It(I,T.fid),T})).apply(this,arguments)}function yt(I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,P.Z)(function*(I){const T=We(I),B=(yield Ts()).transaction(ci,"readwrite");yield B.objectStore(ci).delete(T),yield B.done})).apply(this,arguments)}function bi(I,T){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(I,T){const O=We(I),X=(yield Ts()).transaction(ci,"readwrite"),U=X.objectStore(ci),xe=yield U.get(O),st=T(xe);return void 0===st?yield U.delete(O):yield U.put(st,O),yield X.done,st&&(!xe||xe.fid!==st.fid)&&It(I,st.fid),st})).apply(this,arguments)}function Tr(I){return Js.apply(this,arguments)}function Js(){return Js=(0,P.Z)(function*(I){let T;const O=yield bi(I.appConfig,B=>{const X=function Ut(I){return Sr(I||{fid:ze(),registrationStatus:0})}(B),U=function wt(I,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Me.create("app-offline"))};const O={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},B=function Ot(I,T){return eo.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:B}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:wn(I)}:{installationEntry:T}}(I,X);return T=U.registrationPromise,U.installationEntry});return O.fid===Le?{installationEntry:yield T}:{installationEntry:O,registrationPromise:T}}),Js.apply(this,arguments)}function eo(){return eo=(0,P.Z)(function*(I,T){try{const O=yield function tt(I,T){return oe.apply(this,arguments)}(I,T);return Sn(I.appConfig,O)}catch(O){throw Be(O)&&409===O.customData.serverCode?yield yt(I.appConfig):yield Sn(I.appConfig,{fid:T.fid,registrationStatus:0}),O}}),eo.apply(this,arguments)}function wn(I){return zn.apply(this,arguments)}function zn(){return(zn=(0,P.Z)(function*(I){let T=yield Lr(I.appConfig);for(;1===T.registrationStatus;)yield he(100),T=yield Lr(I.appConfig);if(0===T.registrationStatus){const{installationEntry:O,registrationPromise:B}=yield Tr(I);return B||O}return T})).apply(this,arguments)}function Lr(I){return bi(I,T=>{if(!T)throw Me.create("installation-not-found");return Sr(T)})}function Sr(I){return function Oa(I){return 1===I.registrationStatus&&I.registrationTime+$<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ns(){return(ns=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:T},O){const B=function Jt(I,{fid:T}){return`${De(I)}/${T}/authTokens:generate`}(I,O),X=function j(I,{refreshToken:T}){const O=Pe(I);return O.append("Authorization",function _t(I){return`${He} ${I}`}(T)),O}(I,O),U=T.getImmediate({optional:!0});if(U){const ut=yield U.getHeartbeatsHeader();ut&&X.append("x-firebase-client",ut)}const st={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:Q,appId:I.appId}})},ft=yield _e(()=>fetch(B,st));if(ft.ok)return Ee(yield ft.json());throw yield Ae("Generate Auth Token",ft)})).apply(this,arguments)}function Br(I){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,P.Z)(function*(I,T=!1){let O;const B=yield bi(I.appConfig,U=>{if(!$t(U))throw Me.create("not-registered");const xe=U.authToken;if(!T&&function Mr(I){return 2===I.requestStatus&&!function H(I){const T=Date.now();return T<I.creationTime||I.creationTime+I.expiresIn<T+Ge}(I)}(xe))return U;if(1===xe.requestStatus)return O=function $e(I,T){return Ie.apply(this,arguments)}(I,T),U;{if(!navigator.onLine)throw Me.create("app-offline");const st=function V(I){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:T})}(U);return O=function At(I,T){return Bt.apply(this,arguments)}(I,st),st}});return O?yield O:B.authToken}),Bi.apply(this,arguments)}function Ie(){return(Ie=(0,P.Z)(function*(I,T){let O=yield it(I.appConfig);for(;1===O.authToken.requestStatus;)yield he(100),O=yield it(I.appConfig);const B=O.authToken;return 0===B.requestStatus?Br(I,T):B})).apply(this,arguments)}function it(I){return bi(I,T=>{if(!$t(T))throw Me.create("not-registered");return function K(I){return 1===I.requestStatus&&I.requestTime+$<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Bt(){return Bt=(0,P.Z)(function*(I,T){try{const O=yield function un(I,T){return ns.apply(this,arguments)}(I,T),B=Object.assign(Object.assign({},T),{authToken:O});return yield Sn(I.appConfig,B),O}catch(O){if(!Be(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const B=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Sn(I.appConfig,B)}else yield yt(I.appConfig);throw O}}),Bt.apply(this,arguments)}function $t(I){return void 0!==I&&2===I.registrationStatus}function re(){return(re=(0,P.Z)(function*(I){const T=I,{installationEntry:O,registrationPromise:B}=yield Tr(T);return B?B.catch(console.error):Br(T).catch(console.error),O.fid})).apply(this,arguments)}function Dt(){return Dt=(0,P.Z)(function*(I,T=!1){const O=I;return yield function rn(I){return St.apply(this,arguments)}(O),(yield Br(O,T)).token}),Dt.apply(this,arguments)}function St(){return(St=(0,P.Z)(function*(I){const{registrationPromise:T}=yield Tr(I);T&&(yield T)})).apply(this,arguments)}function Dl(I){return Me.create("missing-app-config-values",{valueName:I})}const Cc="installations",kn=I=>{const T=I.getProvider("app").getImmediate(),O=function ka(I){if(!I||!I.options)throw Dl("App Configuration");if(!I.name)throw Dl("App Name");const T=["projectId","apiKey","appId"];for(const O of T)if(!I.options[O])throw Dl(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(T);return{app:T,appConfig:O,heartbeatServiceProvider:(0,ie._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},qu=I=>{const T=I.getProvider("app").getImmediate(),O=(0,ie._getProvider)(T,Cc).getImmediate();return{getId:()=>function me(I){return re.apply(this,arguments)}(O),getToken:X=>function ct(I){return Dt.apply(this,arguments)}(O,X)}};(function Ic(){(0,ie._registerComponent)(new te.wA(Cc,kn,"PUBLIC")),(0,ie._registerComponent)(new te.wA("installations-internal",qu,"PRIVATE"))})(),(0,ie.registerVersion)(ue,z),(0,ie.registerVersion)(ue,z,"esm2017");const Ra="@firebase/remote-config",Gn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class no{constructor(T,O,B,X){this.client=T,this.storage=O,this.storageCache=B,this.logger=X}isCachedDataFresh(T,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-O,X=B<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${X}.`),X}fetch(T){var O=this;return(0,P.Z)(function*(){const[B,X]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(X&&O.isCachedDataFresh(T.cacheMaxAgeMillis,B))return X;T.eTag=X&&X.eTag;const U=yield O.client.fetch(T),xe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===U.status&&xe.push(O.storage.setLastSuccessfulFetchResponse(U)),yield Promise.all(xe),U})()}}function Ci(I=navigator){return I.languages&&I.languages[0]||I.language}class As{constructor(T,O,B,X,U,xe){this.firebaseInstallations=T,this.sdkVersion=O,this.namespace=B,this.projectId=X,this.apiKey=U,this.appId=xe}fetch(T){var O=this;return(0,P.Z)(function*(){const[B,X]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ft={sdk_version:O.sdkVersion,app_instance_id:B,app_instance_id_token:X,app_id:O.appId,language_code:Ci()},ut={method:"POST",headers:st,body:JSON.stringify(ft)},pt=fetch(xe,ut),Nt=new Promise((_r,yr)=>{T.signal.addEventListener(()=>{const Gi=new Error("The operation was aborted.");Gi.name="AbortError",yr(Gi)})});let Ln;try{yield Promise.race([pt,Nt]),Ln=yield pt}catch(_r){let yr="fetch-client-network";throw"AbortError"===_r?.name&&(yr="fetch-timeout"),Gn.create(yr,{originalErrorMessage:_r?.message})}let ir=Ln.status;const ua=Ln.headers.get("ETag")||void 0;let bo,da;if(200===Ln.status){let _r;try{_r=yield Ln.json()}catch(yr){throw Gn.create("fetch-client-parse",{originalErrorMessage:yr?.message})}bo=_r.entries,da=_r.state}if("INSTANCE_STATE_UNSPECIFIED"===da?ir=500:"NO_CHANGE"===da?ir=304:("NO_TEMPLATE"===da||"EMPTY_CONFIG"===da)&&(bo={}),304!==ir&&200!==ir)throw Gn.create("fetch-status",{httpStatus:ir});return{status:ir,eTag:ua,config:bo}})()}}class Vi{constructor(T,O){this.client=T,this.storage=O}fetch(T){var O=this;return(0,P.Z)(function*(){const B=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(T,B)})()}attemptFetch(T,{throttleEndTimeMillis:O,backoffCount:B}){var X=this;return(0,P.Z)(function*(){yield function is(I,T){return new Promise((O,B)=>{const X=Math.max(T-Date.now(),0),U=setTimeout(O,X);I.addEventListener(()=>{clearTimeout(U),B(Gn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,O);try{const U=yield X.client.fetch(T);return yield X.storage.deleteThrottleMetadata(),U}catch(U){if(!function _n(I){if(!(I instanceof se.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(U))throw U;const xe={throttleEndTimeMillis:Date.now()+(0,se.$s)(B),backoffCount:B+1};return yield X.storage.setThrottleMetadata(xe),X.attemptFetch(T,xe)}})()}}class jo{constructor(T,O,B,X,U){this.app=T,this._client=O,this._storageCache=B,this._storage=X,this._logger=U,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ro(I,T){const O=I.target.error||void 0;return Gn.create(T,{originalErrorMessage:O&&O?.message})}const jr="app_namespace_store";class Ii{constructor(T,O,B,X=function Yr(){return new Promise((I,T)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=B=>{T(ro(B,"storage-open"))},O.onsuccess=B=>{I(B.target.result)},O.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(jr,{keyPath:"compositeKey"})}}catch(O){T(Gn.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=T,this.appName=O,this.namespace=B,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var O=this;return(0,P.Z)(function*(){const B=yield O.openDbPromise;return new Promise((X,U)=>{const st=B.transaction([jr],"readonly").objectStore(jr),ft=O.createCompositeKey(T);try{const ut=st.get(ft);ut.onerror=pt=>{U(ro(pt,"storage-get"))},ut.onsuccess=pt=>{const Nt=pt.target.result;X(Nt?Nt.value:void 0)}}catch(ut){U(Gn.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(T,O){var B=this;return(0,P.Z)(function*(){const X=yield B.openDbPromise;return new Promise((U,xe)=>{const ft=X.transaction([jr],"readwrite").objectStore(jr),ut=B.createCompositeKey(T);try{const pt=ft.put({compositeKey:ut,value:O});pt.onerror=Nt=>{xe(ro(Nt,"storage-set"))},pt.onsuccess=()=>{U()}}catch(pt){xe(Gn.create("storage-set",{originalErrorMessage:pt?.message}))}})})()}delete(T){var O=this;return(0,P.Z)(function*(){const B=yield O.openDbPromise;return new Promise((X,U)=>{const st=B.transaction([jr],"readwrite").objectStore(jr),ft=O.createCompositeKey(T);try{const ut=st.delete(ft);ut.onerror=pt=>{U(ro(pt,"storage-delete"))},ut.onsuccess=()=>{X()}}catch(ut){U(Gn.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Na{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const O=T.storage.getLastFetchStatus(),B=T.storage.getLastSuccessfulFetchTimestampMillis(),X=T.storage.getActiveConfig(),U=yield O;U&&(T.lastFetchStatus=U);const xe=yield B;xe&&(T.lastSuccessfulFetchTimestampMillis=xe);const st=yield X;st&&(T.activeConfig=st)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Fa(){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,P.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Di(){(0,ie._registerComponent)(new te.wA("remote-config",function I(T,{instanceIdentifier:O}){const B=T.getProvider("app").getImmediate(),X=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gn.create("registration-window");if(!(0,se.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:U,apiKey:xe,appId:st}=B.options;if(!U)throw Gn.create("registration-project-id");if(!xe)throw Gn.create("registration-api-key");if(!st)throw Gn.create("registration-app-id");const ft=new Ii(st,B.name,O=O||"firebase"),ut=new Na(ft),pt=new ge.Yd(Ra);pt.logLevel=ge.in.ERROR;const Nt=new As(X,ie.SDK_VERSION,O,U,xe,st),Ln=new Vi(Nt,ft),ir=new no(Ln,ft,ut,pt),ua=new jo(B,ir,ut,ft,pt);return function Rn(I){const T=(0,se.m9)(I);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ua),ua},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Ra,"0.4.4"),(0,ie.registerVersion)(Ra,"0.4.4","esm2017")}();const Mc="/firebase-messaging-sw.js",ss="/firebase-cloud-messaging-push-scope",Ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",La="https://fcmregistrations.googleapis.com/v1",Ac="google.c.a.c_id",kh="google.c.a.c_l",Rh="google.c.a.ts",Tp="google.c.a.e";var io=(()=>{return(I=io||(io={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",io;var I})();function Ui(I){const T=new Uint8Array(I);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sp(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(O),X=new Uint8Array(B.length);for(let U=0;U<B.length;++U)X[U]=B.charCodeAt(U);return X}const $o="fcm_token_details_db",xc=5,Hr="fcm_token_object_Store";function Ku(){return Ku=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(U=>U.name).includes($o))return null;let T=null;return(yield(0,de.X3)($o,xc,{upgrade:(B=(0,P.Z)(function*(X,U,xe,st){var ft;if(U<2||!X.objectStoreNames.contains(Hr))return;const ut=st.objectStore(Hr),pt=yield ut.index("fcmSenderId").get(I);if(yield ut.clear(),pt)if(2===U){const Nt=pt;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;T={token:Nt.fcmToken,createTime:null!==(ft=Nt.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:Ui(Nt.vapidKey)}}}else if(3===U){const Nt=pt;T={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Ui(Nt.auth),p256dh:Ui(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Ui(Nt.vapidKey)}}}else if(4===U){const Nt=pt;T={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Ui(Nt.auth),p256dh:Ui(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Ui(Nt.vapidKey)}}}}),function(U,xe,st,ft){return B.apply(this,arguments)})})).close(),yield(0,de.Lj)($o),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),function so(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:T}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var B}),Ku.apply(this,arguments)}const Tl="firebase-messaging-database",oo=1,ao="firebase-messaging-store";let Sl=null;function Go(){return Sl||(Sl=(0,de.X3)(Tl,oo,{upgrade:(I,T)=>{0===T&&I.createObjectStore(ao)}})),Sl}function Ml(I){return qo.apply(this,arguments)}function qo(){return qo=(0,P.Z)(function*(I){const T=Zo(I),B=yield(yield Go()).transaction(ao).objectStore(ao).get(T);if(B)return B;{const X=yield function Oc(I){return Ku.apply(this,arguments)}(I.appConfig.senderId);if(X)return yield lo(I,X),X}}),qo.apply(this,arguments)}function lo(I,T){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*(I,T){const O=Zo(I),X=(yield Go()).transaction(ao,"readwrite");return yield X.objectStore(ao).put(T,O),yield X.done,T})).apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(I){const T=Zo(I),B=(yield Go()).transaction(ao,"readwrite");yield B.objectStore(ao).delete(T),yield B.done})).apply(this,arguments)}function Zo({appConfig:I}){return I.appId}const Fn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Al(I,T){return Un.apply(this,arguments)}function Un(){return(Un=(0,P.Z)(function*(I,T){const O=yield uo(I),B=Va(T),X={method:"POST",headers:O,body:JSON.stringify(B)};let U;try{U=yield(yield fetch(Yo(I.appConfig),X)).json()}catch(xe){throw Fn.create("token-subscribe-failed",{errorInfo:xe?.toString()})}if(U.error)throw Fn.create("token-subscribe-failed",{errorInfo:U.error.message});if(!U.token)throw Fn.create("token-subscribe-no-token");return U.token})).apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(I,T){const O=yield uo(I),B=Va(T.subscriptionOptions),X={method:"PATCH",headers:O,body:JSON.stringify(B)};let U;try{U=yield(yield fetch(`${Yo(I.appConfig)}/${T.token}`,X)).json()}catch(xe){throw Fn.create("token-update-failed",{errorInfo:xe?.toString()})}if(U.error)throw Fn.create("token-update-failed",{errorInfo:U.error.message});if(!U.token)throw Fn.create("token-update-no-token");return U.token})).apply(this,arguments)}function Wn(I,T){return kc.apply(this,arguments)}function kc(){return(kc=(0,P.Z)(function*(I,T){const B={method:"DELETE",headers:yield uo(I)};try{const U=yield(yield fetch(`${Yo(I.appConfig)}/${T}`,B)).json();if(U.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:U.error.message})}catch(X){throw Fn.create("token-unsubscribe-failed",{errorInfo:X?.toString()})}})).apply(this,arguments)}function Yo({projectId:I}){return`${La}/projects/${I}/registrations`}function uo(I){return ur.apply(this,arguments)}function ur(){return(ur=(0,P.Z)(function*({appConfig:I,installations:T}){const O=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Va({p256dh:I,auth:T,endpoint:O,vapidKey:B}){const X={web:{endpoint:O,auth:T,p256dh:I}};return B!==Ho&&(X.web.applicationPubKey=B),X}const Qo=6048e5;function os(){return os=(0,P.Z)(function*(I){const T=yield function Rc(I,T){return Pc.apply(this,arguments)}(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:T.endpoint,auth:Ui(T.getKey("auth")),p256dh:Ui(T.getKey("p256dh"))},B=yield Ml(I.firebaseDependencies);if(B){if(function Rl(I,T){return T.vapidKey===I.vapidKey&&T.endpoint===I.endpoint&&T.auth===I.auth&&T.p256dh===I.p256dh}(B.subscriptionOptions,O))return Date.now()>=B.createTime+Qo?function Pt(I,T){return Ol.apply(this,arguments)}(I,{token:B.token,createTime:Date.now(),subscriptionOptions:O}):B.token;try{yield Wn(I.firebaseDependencies,B.token)}catch(X){console.warn(X)}return Qu(I.firebaseDependencies,O)}return Qu(I.firebaseDependencies,O)}),os.apply(this,arguments)}function ja(){return ja=(0,P.Z)(function*(I){const T=yield Ml(I.firebaseDependencies);T&&(yield Wn(I.firebaseDependencies,T.token),yield function Yu(I){return Wo.apply(this,arguments)}(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),ja.apply(this,arguments)}function Ol(){return Ol=(0,P.Z)(function*(I,T){try{const O=yield function Ko(I,T){return co.apply(this,arguments)}(I.firebaseDependencies,T),B=Object.assign(Object.assign({},T),{token:O,createTime:Date.now()});return yield lo(I.firebaseDependencies,B),O}catch(O){throw yield function Ua(I){return ja.apply(this,arguments)}(I),O}}),Ol.apply(this,arguments)}function Qu(I,T){return kl.apply(this,arguments)}function kl(){return(kl=(0,P.Z)(function*(I,T){const B={token:yield Al(I,T),createTime:Date.now(),subscriptionOptions:T};return yield lo(I,B),B.token})).apply(this,arguments)}function Pc(){return(Pc=(0,P.Z)(function*(I,T){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sp(T)})})).apply(this,arguments)}function Ph(I){const T={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Nc(I,T){if(!T.notification)return;I.notification={};const O=T.notification.title;O&&(I.notification.title=O);const B=T.notification.body;B&&(I.notification.body=B);const X=T.notification.image;X&&(I.notification.image=X);const U=T.notification.icon;U&&(I.notification.icon=U)}(T,I),function fe(I,T){T.data&&(I.data=T.data)}(T,I),function tn(I,T){var O,B,X,U,xe;if(!(T.fcmOptions||null!==(O=T.notification)&&void 0!==O&&O.click_action))return;I.fcmOptions={};const st=null!==(X=null===(B=T.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==X?X:null===(U=T.notification)||void 0===U?void 0:U.click_action;st&&(I.fcmOptions.link=st);const ft=null===(xe=T.fcmOptions)||void 0===xe?void 0:xe.analytics_label;ft&&(I.fcmOptions.analyticsLabel=ft)}(T,I),T}function Xu(I,T){const O=[];for(let B=0;B<I.length;B++)O.push(I.charAt(B)),B<T.length&&O.push(T.charAt(B));return O.join("")}function Ha(I){return Fn.create("missing-app-config-values",{valueName:I})}Xu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pl{constructor(T,O,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function pr(I){if(!I||!I.options)throw Ha("App Configuration Object");if(!I.name)throw Ha("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const B of T)if(!O[B])throw Ha(B);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:X,installations:O,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Jr(I){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Mc,{scope:ss}),I.swRegistration.update().catch(()=>{})}catch(T){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Ju(){return(Ju=(0,P.Z)(function*(I,T){if(!T&&!I.swRegistration&&(yield Jr(I)),T||!I.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");I.swRegistration=T}})).apply(this,arguments)}function Ll(){return(Ll=(0,P.Z)(function*(I,T){T?I.vapidKey=T:I.vapidKey||(I.vapidKey=Ho)})).apply(this,arguments)}function ei(){return ei=(0,P.Z)(function*(I,T){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield function Lc(I,T){return Ll.apply(this,arguments)}(I,T?.vapidKey),yield function Fl(I,T){return Ju.apply(this,arguments)}(I,T?.serviceWorkerRegistration),function xl(I){return os.apply(this,arguments)}(I)}),ei.apply(this,arguments)}function ho(){return(ho=(0,P.Z)(function*(I,T,O){const B=function ji(I){switch(I){case io.NOTIFICATION_CLICKED:return"notification_open";case io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:O[Ac],message_name:O[kh],message_time:O[Rh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function za(){return za=(0,P.Z)(function*(I,T){const O=T.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===io.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ph(O)):I.onMessageHandler.next(Ph(O)));const B=O.data;(function Fc(I){return"object"==typeof I&&!!I&&Ac in I})(B)&&"1"===B[Tp]&&(yield function xs(I,T,O){return ho.apply(this,arguments)}(I,O.messageType,B))}),za.apply(this,arguments)}const td="@firebase/messaging",Vc=I=>{const T=new Pl(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function ed(I,T){return za.apply(this,arguments)}(T,O)),T},as=I=>{const T=I.getProvider("messaging").getImmediate();return{getToken:B=>function rr(I,T){return ei.apply(this,arguments)}(T,B)}};function Uc(){return rd.apply(this,arguments)}function rd(){return(rd=(0,P.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nd(){(0,ie._registerComponent)(new te.wA("messaging",Vc,"PUBLIC")),(0,ie._registerComponent)(new te.wA("messaging-internal",as,"PRIVATE")),(0,ie.registerVersion)(td,"0.12.4"),(0,ie.registerVersion)(td,"0.12.4","esm2017")}();const id="analytics",zr="firebase_id",Xo="origin",Cn=6e4,Jo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hc="https://www.googletagmanager.com/gtag/js",gr=new ge.Yd("@firebase/analytics");function Lh(I){return Promise.all(I.map(T=>T.catch(O=>O)))}function fo(){return(fo=(0,P.Z)(function*(I,T,O,B,X,U){const xe=B[X];try{if(xe)yield T[xe];else{const ft=(yield Lh(O)).find(ut=>ut.measurementId===X);ft&&(yield T[ft.appId])}}catch(st){gr.error(st)}I("config",X,U)})).apply(this,arguments)}function Os(){return(Os=(0,P.Z)(function*(I,T,O,B,X){try{let U=[];if(X&&X.send_to){let xe=X.send_to;Array.isArray(xe)||(xe=[xe]);const st=yield Lh(O);for(const ft of xe){const ut=st.find(Nt=>Nt.measurementId===ft),pt=ut&&T[ut.appId];if(!pt){U=[];break}U.push(pt)}}0===U.length&&(U=Object.values(T)),yield Promise.all(U),I("event",B,X||{})}catch(U){gr.error(U)}})).apply(this,arguments)}const hi=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vl=30,od=new class po{constructor(T={},O=1e3){this.throttleMetadata=T,this.intervalMillis=O}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,O){this.throttleMetadata[T]=O}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Bh(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ta(){return(ta=(0,P.Z)(function*(I){var T;const{appId:O,apiKey:B}=I,X={method:"GET",headers:Bh(B)},U=Jo.replace("{app-id}",O),xe=yield fetch(U,X);if(200!==xe.status&&304!==xe.status){let st="";try{const ft=yield xe.json();null!==(T=ft.error)&&void 0!==T&&T.message&&(st=ft.error.message)}catch{}throw hi.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:st})}return xe.json()})).apply(this,arguments)}function Wa(){return(Wa=(0,P.Z)(function*(I,T=od,O){const{appId:B,apiKey:X,measurementId:U}=I.options;if(!B)throw hi.create("no-app-id");if(!X){if(U)return{measurementId:U,appId:B};throw hi.create("no-api-key")}const xe=T.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new Za;return setTimeout((0,P.Z)(function*(){st.abort()}),void 0!==O?O:Cn),ls({appId:B,apiKey:X,measurementId:U},xe,st,T)})).apply(this,arguments)}function ls(I,T,O){return cs.apply(this,arguments)}function cs(){return cs=(0,P.Z)(function*(I,{throttleEndTimeMillis:T,backoffCount:O},B,X=od){var U;const{appId:xe,measurementId:st}=I;try{yield function na(I,T){return new Promise((O,B)=>{const X=Math.max(T-Date.now(),0),U=setTimeout(O,X);I.addEventListener(()=>{clearTimeout(U),B(hi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(B,T)}catch(ft){if(st)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:xe,measurementId:st};throw ft}try{const ft=yield function go(I){return ta.apply(this,arguments)}(I);return X.deleteThrottleMetadata(xe),ft}catch(ft){const ut=ft;if(!function $c(I){if(!(I instanceof se.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ut)){if(X.deleteThrottleMetadata(xe),st)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:xe,measurementId:st};throw ft}const pt=503===Number(null===(U=ut?.customData)||void 0===U?void 0:U.httpStatus)?(0,se.$s)(O,X.intervalMillis,Vl):(0,se.$s)(O,X.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+pt,backoffCount:O+1};return X.setThrottleMetadata(xe,Nt),gr.debug(`Calling attemptFetch again in ${pt} millis`),ls(I,Nt,B,X)}}),cs.apply(this,arguments)}class Za{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Ul,Ps;function Rs(){return(Rs=(0,P.Z)(function*(I,T,O,B,X){if(X&&X.global)I("event",O,B);else{const U=yield T;I("event",O,Object.assign(Object.assign({},B),{send_to:U}))}})).apply(this,arguments)}function Gc(){return(Gc=(0,P.Z)(function*(){if(!(0,se.hl)())return gr.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(I){return gr.warn(hi.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function el(){return el=(0,P.Z)(function*(I,T,O,B,X,U,xe){var st;const ft=function Pn(I){return Wa.apply(this,arguments)}(I);ft.then(ir=>{O[ir.measurementId]=ir.appId,I.options.measurementId&&ir.measurementId!==I.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>gr.error(ir)),T.push(ft);const ut=function Ja(){return Gc.apply(this,arguments)}().then(ir=>{if(ir)return B.getId()}),[pt,Nt]=yield Promise.all([ft,ut]);(function ea(I){const T=window.document.getElementsByTagName("script");for(const O of Object.values(T))if(O.src&&O.src.includes(Hc)&&O.src.includes(I))return O;return null})(U)||function xp(I,T){const O=document.createElement("script");O.src=`${Hc}?l=${I}&id=${T}`,O.async=!0,document.head.appendChild(O)}(U,pt.measurementId),Ps&&(X("consent","default",Ps),function Xa(I){Ps=I}(void 0)),X("js",new Date);const Ln=null!==(st=xe?.config)&&void 0!==st?st:{};return Ln[Xo]="firebase",Ln.update=!0,null!=Nt&&(Ln[zr]=Nt),X("config",pt.measurementId,Ln),Ul&&(X("set",Ul),function zl(I){Ul=I}(void 0)),pt.measurementId}),el.apply(this,arguments)}class ad{constructor(T){this.app=T}_delete(){return delete Hi[this.app.options.appId],Promise.resolve()}}let Hi={},$l=[];const _o={};let Gl,us,zi="dataLayer",ld="gtag",Ti=!1;function ql(I,T,O){!function cd(){const I=[];if((0,se.ru)()&&I.push("This is a browser extension environment."),(0,se.zI)()||I.push("Cookies are not available."),I.length>0){const T=I.map((B,X)=>`(${X+1}) ${B}`).join(" "),O=hi.create("invalid-analytics-context",{errorInfo:T});gr.warn(O.message)}}();const B=I.options.appId;if(!B)throw hi.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw hi.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hi[B])throw hi.create("already-exists",{id:B});if(!Ti){!function Op(I){let T=[];Array.isArray(window[I])?T=window[I]:window[I]=T}(zi);const{wrappedGtag:U,gtagCore:xe}=function qa(I,T,O,B,X){let U=function(...xe){window[B].push(arguments)};return window[X]&&"function"==typeof window[X]&&(U=window[X]),window[X]=function Ga(I,T,O,B){function U(){return U=(0,P.Z)(function*(xe,st,ft){try{"event"===xe?yield function zc(I,T,O,B,X){return Os.apply(this,arguments)}(I,T,O,st,ft):"config"===xe?yield function $a(I,T,O,B,X,U){return fo.apply(this,arguments)}(I,T,O,B,st,ft):"consent"===xe?I("consent","update",ft):I("set",st)}catch(ut){gr.error(ut)}}),U.apply(this,arguments)}return function X(xe,st,ft){return U.apply(this,arguments)}}(U,I,T,O),{gtagCore:U,wrappedGtag:window[X]}}(Hi,$l,_o,zi,ld);us=U,Gl=xe,Ti=!0}return Hi[B]=function mo(I,T,O,B,X,U,xe){return el.apply(this,arguments)}(I,$l,_o,T,Gl,zi,O),new ad(I)}function Wl(){return ds.apply(this,arguments)}function ds(){return(ds=(0,P.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const pn="@firebase/analytics";!function e_(){(0,ie._registerComponent)(new te.wA(id,(T,{options:O})=>ql(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ie._registerComponent)(new te.wA("analytics-internal",function I(T){try{const O=T.getProvider(id).getImmediate();return{logEvent:(B,X,U)=>function Uh(I,T,O,B){I=(0,se.m9)(I),function jl(I,T,O,B,X){return Rs.apply(this,arguments)}(us,Hi[I.app.options.appId],T,O,B).catch(X=>gr.error(X))}(O,B,X,U)}}catch(O){throw hi.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ie.registerVersion)(pn,"0.9.4"),(0,ie.registerVersion)(pn,"0.9.4","esm2017")}();var Wc=N(4408),pd=N(7565);const Kl=new class Zc extends pd.v{}(class yo extends Wc.o{constructor(T,O){super(T,O),this.scheduler=T,this.work=O}schedule(T,O=0){return O>0?super.schedule(T,O):(this.delay=O,this.state=T,this.scheduler.flush(this),this)}execute(T,O){return O>0||this.closed?super.execute(T,O):this._execute(T,O)}requestAsyncId(T,O,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(T,O,B):(T.flush(this),0)}});var jh=N(4986),Kc=N(8505),In=N(9468),rl=N(5363);const Yl=new u.GfV("7.5.0"),gd="__angularfire_symbol__analyticsIsSupportedValue",ti="__angularfire_symbol__analyticsIsSupported",$i="__angularfire_symbol__remoteConfigIsSupportedValue",Ql="__angularfire_symbol__remoteConfigIsSupported",aa="__angularfire_symbol__messagingIsSupportedValue",la="__angularfire_symbol__messagingIsSupported";function $r(I,T,O){if(T){if(1===T.length)return T[0];const U=T.filter(xe=>xe.app===O);if(1===U.length)return U[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[ti]||(globalThis[ti]=Wl().then(I=>globalThis[gd]=I).catch(()=>globalThis[gd]=!1)),globalThis[la]||(globalThis[la]=Uc().then(I=>globalThis[aa]=I).catch(()=>globalThis[aa]=!1)),globalThis[Ql]||(globalThis[Ql]=Fa().then(I=>globalThis[$i]=I).catch(()=>globalThis[$i]=!1));const vo=(I,T)=>{const O=T?[T]:(0,J.C6)(),B=[];return O.forEach(X=>{X.container.getProvider(I).instances.forEach(xe=>{B.includes(xe)||B.push(xe)})}),B};function Si(){}class ca{constructor(T,O=Kl){this.zone=T,this.delegate=O}now(){return this.delegate.now()}schedule(T,O,B){const X=this.zone;return this.delegate.schedule(function(xe){X.runGuarded(()=>{T.apply(this,[xe])})},O,B)}}class zh{constructor(T){this.zone=T,this.task=null}call(T,O){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Si,{},Si,Si)),O.pipe((0,Kc.b)({next:B,complete:B,error:B})).subscribe(T).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bn=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new ca(Zone.current)),this.insideAngular=O.run(()=>new ca(Zone.current,jh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Gr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ns(I){return Gr(),function Zn(I){return function(O){return(O=O.lift(new zh(I.ngZone))).pipe((0,In.R)(I.outsideAngular),(0,rl.Q)(I.insideAngular))}}(Gr())(I)}},2090:(mt,Ce,N)=>{N.d(Ce,{$s:()=>At,BH:()=>Ae,G6:()=>Oe,L:()=>ue,LL:()=>It,Pz:()=>Ee,Sg:()=>Ve,UG:()=>_e,US:()=>te,ZB:()=>Q,ZR:()=>sn,aH:()=>De,b$:()=>_t,eu:()=>ze,hl:()=>Le,jU:()=>je,m9:()=>Mr,ne:()=>Ut,pd:()=>Tr,r3:()=>ci,ru:()=>qe,tV:()=>z,uI:()=>j,vZ:()=>Kr,w1:()=>oe,xO:()=>bi,xb:()=>Ts,z$:()=>Pe,zI:()=>Ye,zd:()=>xn});const ie=function(H){const V=[];let K=0;for(let me=0;me<H.length;me++){let re=H.charCodeAt(me);re<128?V[K++]=re:re<2048?(V[K++]=re>>6|192,V[K++]=63&re|128):55296==(64512&re)&&me+1<H.length&&56320==(64512&H.charCodeAt(me+1))?(re=65536+((1023&re)<<10)+(1023&H.charCodeAt(++me)),V[K++]=re>>18|240,V[K++]=re>>12&63|128,V[K++]=re>>6&63|128,V[K++]=63&re|128):(V[K++]=re>>12|224,V[K++]=re>>6&63|128,V[K++]=63&re|128)}return V},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let re=0;re<H.length;re+=3){const ct=H[re],Dt=re+1<H.length,rn=Dt?H[re+1]:0,St=re+2<H.length,On=St?H[re+2]:0;let wi=(15&rn)<<2|On>>6,tr=63&On;St||(tr=64,Dt||(wi=64)),me.push(K[ct>>2],K[(3&ct)<<4|rn>>4],K[wi],K[tr])}return me.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(ie(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let K=0,me=0;for(;K<H.length;){const re=H[K++];if(re<128)V[me++]=String.fromCharCode(re);else if(re>191&&re<224){const ct=H[K++];V[me++]=String.fromCharCode((31&re)<<6|63&ct)}else if(re>239&&re<365){const St=((7&re)<<18|(63&H[K++])<<12|(63&H[K++])<<6|63&H[K++])-65536;V[me++]=String.fromCharCode(55296+(St>>10)),V[me++]=String.fromCharCode(56320+(1023&St))}else{const ct=H[K++],Dt=H[K++];V[me++]=String.fromCharCode((15&re)<<12|(63&ct)<<6|63&Dt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const K=V?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let re=0;re<H.length;){const ct=K[H.charAt(re++)],rn=re<H.length?K[H.charAt(re)]:0;++re;const On=re<H.length?K[H.charAt(re)]:64;++re;const Qt=re<H.length?K[H.charAt(re)]:64;if(++re,null==ct||null==rn||null==On||null==Qt)throw new ge;me.push(ct<<2|rn>>4),64!==On&&(me.push(rn<<4&240|On>>2),64!==Qt&&me.push(On<<6&192|Qt))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ue=function(H){return function(H){const V=ie(H);return te.encodeByteArray(V,!0)}(H).replace(/\./g,"")},z=function(H){try{return te.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Q(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const K in V)!V.hasOwnProperty(K)||!He(K)||(H[K]=Q(H[K],V[K]));return H}function He(H){return"__proto__"!==H}const Se=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=H&&z(H[1]);return V&&JSON.parse(V)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},De=()=>{var H;return null===(H=Se())||void 0===H?void 0:H.config},Ee=H=>{var V;return null===(V=Se())||void 0===V?void 0:V[`_${H}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,K)=>{this.resolve=V,this.reject=K})}wrapCallback(V){return(K,me)=>{K?this.reject(K):this.resolve(me),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(K):V(K,me))}}}function Ve(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=V||"demo-project",re=H.iat||0,ct=H.sub||H.user_id;if(!ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:re,exp:re+3600,auth_time:re,sub:ct,user_id:ct,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Dt)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function j(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function _e(){var H;const V=null===(H=Se())||void 0===H?void 0:H.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function qe(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){const H=Pe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Oe(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function ze(){return new Promise((H,V)=>{try{let K=!0;const me="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(me);re.onsuccess=()=>{re.result.close(),K||self.indexedDB.deleteDatabase(me),H(!0)},re.onupgradeneeded=()=>{K=!1},re.onerror=()=>{var ct;V((null===(ct=re.error)||void 0===ct?void 0:ct.message)||"")}}catch(K){V(K)}})}function Ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class sn extends Error{constructor(V,K,me){super(K),this.code=V,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(V,K,me){this.service=V,this.serviceName=K,this.errors=me}create(V,...K){const me=K[0]||{},re=`${this.service}/${V}`,ct=this.errors[V],Dt=ct?function nn(H,V){return H.replace(rt,(K,me)=>{const re=V[me];return null!=re?String(re):`<${me}?>`})}(ct,me):"Error";return new sn(re,`${this.serviceName}: ${Dt} (${re}).`,me)}}const rt=/\{\$([^}]+)}/g;function ci(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function Ts(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function Kr(H,V){if(H===V)return!0;const K=Object.keys(H),me=Object.keys(V);for(const re of K){if(!me.includes(re))return!1;const ct=H[re],Dt=V[re];if(yt(ct)&&yt(Dt)){if(!Kr(ct,Dt))return!1}else if(ct!==Dt)return!1}for(const re of me)if(!K.includes(re))return!1;return!0}function yt(H){return null!==H&&"object"==typeof H}function bi(H){const V=[];for(const[K,me]of Object.entries(H))Array.isArray(me)?me.forEach(re=>{V.push(encodeURIComponent(K)+"="+encodeURIComponent(re))}):V.push(encodeURIComponent(K)+"="+encodeURIComponent(me));return V.length?"&"+V.join("&"):""}function xn(H){const V={};return H.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[re,ct]=me.split("=");V[decodeURIComponent(re)]=decodeURIComponent(ct)}}),V}function Tr(H){const V=H.indexOf("?");if(!V)return"";const K=H.indexOf("#",V);return H.substring(V,K>0?K:void 0)}function Ut(H,V){const K=new wt(H,V);return K.subscribe.bind(K)}class wt{constructor(V,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{V(this)}).catch(me=>{this.error(me)})}next(V){this.forEachObserver(K=>{K.next(V)})}error(V){this.forEachObserver(K=>{K.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,K,me){let re;if(void 0===V&&void 0===K&&void 0===me)throw new Error("Missing Observer.");re=function eo(H,V){if("object"!=typeof H||null===H)return!1;for(const K of V)if(K in H&&"function"==typeof H[K])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:K,complete:me},void 0===re.next&&(re.next=wn),void 0===re.error&&(re.error=wn),void 0===re.complete&&(re.complete=wn);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),ct}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,V)}sendOne(V,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{K(this.observers[V])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}const Bi=1e3,$e=2,Ie=144e5,it=.5;function At(H,V=Bi,K=$e){const me=V*Math.pow(K,H),re=Math.round(it*me*(Math.random()-.5)*2);return Math.min(Ie,me+re)}function Mr(H){return H&&H._delegate?H._delegate:H}},7894:(mt,Ce,N)=>{var u=N(4650);let J=null;function P(){return J}class se{}const te=new u.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function de(){return(0,u.LFG)(z)}()},providedIn:"platform"}),n})();const ue=new u.OlP("Location Initialized");let z=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Q(){return new z((0,u.LFG)(te))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function He(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let ot=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Se)},providedIn:"root"}),n})();const pe=new u.OlP("appBaseHref");let Se=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return He(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ge(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Ge(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Ge(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(pe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Me=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=He(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Ge(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Ge(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(pe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ve(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(Ae(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ge(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ae(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=He,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(u.LFG(ot))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(){return new Be((0,u.LFG)(ot))}()},providedIn:"root"}),n})();function Ae(n){return n.replace(/\/index.html$/,"")}const ui=/\s+/,Qe=[];let jt=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=Qe,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ui):Qe}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ui):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ui).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class qn{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qn(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),Rn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Rn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Rn(n,e){n.context.$implicit=e.item}let $o=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const xc="browser",Hr="server";function so(n){return n===xc}function Tl(n){return n===Hr}let Go=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Ml((0,u.LFG)(te),window)}),n})();class Ml{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function lo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qo(this.window.history)||qo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Os extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ga extends Os{static makeCurrent(){!function ie(n){J||(J=n)}(new Ga)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ea(){return qa=qa||document.querySelector("base"),qa?qa.getAttribute("href"):null}();return null==t?null:function hi(n){ks=ks||document.createElement("a"),ks.setAttribute("href",n);const e=ks.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ar(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ks,qa=null;const Vl=new u.OlP("TRANSITION_ID"),po=[{provide:u.ip1,useFactory:function sd(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Vl,te,u.zs3],multi:!0}];let Bh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const go=new u.OlP("EventManagerPlugins");let ta=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(go),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Pn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Wa=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ls=(()=>{class n extends Wa{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},na=/%COMP%/g,ra=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ya(n,e){return e.flat(100).map(t=>t.replace(na,n))}function Hl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mr=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Qa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Gc?i.applyToHost(t):i instanceof Ja&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const c=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case u.ifc.Emulated:a=new Gc(c,f,r,this.appId,_);break;case u.ifc.ShadowDom:return new zl(c,f,t,r);default:a=new Ja(c,f,r,_)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ta),u.LFG(ls),u.LFG(u.AFp),u.LFG(ra))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Qa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(cs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Xa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=cs[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=cs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Hl(r)):this.eventManager.addEventListener(e,t,Hl(r))}}function Xa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zl extends Qa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ya(i.id,i.styles);for(const c of a){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ja extends Qa{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Ya(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Gc extends Ja{constructor(e,t,r,i,a){const c=i+"-"+r.id;super(e,t,r,a,c),this.contentAttr=function ia(n){return"_ngcontent-%COMP%".replace(na,n)}(c),this.hostAttr=function Ka(n){return"_nghost-%COMP%".replace(na,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let mo=(()=>{class n extends Pn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const el=["alt","control","meta","shift"],ad={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $l=(()=>{class n extends Pn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),el.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),c+=w+".")}),c+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=ad[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),el.forEach(c=>{c!==i&&(0,Hi[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ud=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:xc},{provide:u.g9A,useValue:function Ti(){Ga.makeCurrent()},multi:!0},{provide:te,useFactory:function cd(){return(0,u.RDi)(document),document},deps:[]}]),qc=new u.OlP(""),Wl=[{provide:u.rWj,useClass:class od{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ds=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function kp(){return new u.qLn},deps:[]},{provide:go,useClass:mo,multi:!0,deps:[te,u.R0b,u.Lbi]},{provide:go,useClass:$l,multi:!0,deps:[te]},{provide:mr,useClass:mr,deps:[ta,ls,u.AFp,ra]},{provide:u.FYo,useExisting:mr},{provide:Wa,useExisting:ls},{provide:ls,useClass:ls,deps:[te]},{provide:ta,useClass:ta,deps:[go,u.R0b]},{provide:class Yu{},useClass:Bh,deps:[]},[]];let oa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Vl,useExisting:u.AFp},po]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qc,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...ds,...Wl],imports:[$o,u.hGG]}),n})(),Uh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function tl(){return new Uh((0,u.LFG)(te))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var bn=N(8996),Gr=N(3269);function nt(...n){const e=(0,Gr.yG)(n);return(0,bn.D)(n,e)}var on=N(7579);class dn extends on.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ns=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Zn=N(9751);const{isArray:Yc}=Array,{getPrototypeOf:Jl,prototype:I,keys:T}=Object;function O(n){if(1===n.length){const e=n[0];if(Yc(e))return{args:e,keys:null};if(function B(n){return n&&"object"==typeof n&&Jl(n)===I}(e)){const t=T(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var X=N(4671),U=N(4004);const{isArray:xe}=Array;function ft(n){return(0,U.U)(e=>function st(n,e){return xe(e)?n(...e):n(e)}(n,e))}function ut(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var pt=N(5403),Nt=N(9672);function Ln(...n){const e=(0,Gr.yG)(n),t=(0,Gr.jO)(n),{args:r,keys:i}=O(n);if(0===r.length)return(0,bn.D)([],e);const a=new Zn.y(function ir(n,e,t=X.y){return r=>{ua(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)ua(e,()=>{const w=(0,bn.D)(n[_],e);let D=!1;w.subscribe((0,pt.x)(r,x=>{a[_]=x,D||(D=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ut(i,c):X.y));return t?a.pipe(ft(t)):a}function ua(n,e,t){n?(0,Nt.f)(t,n,e):e()}var bo=N(8189);function _r(...n){return function da(){return(0,bo.J)(1)}()((0,bn.D)(n,(0,Gr.yG)(n)))}var yr=N(8421);function Gi(n){return new Zn.y(e=>{(0,yr.Xf)(n()).subscribe(e)})}var Rp=N(9635),qi=N(576);function ha(n,e){const t=(0,qi.m)(n)?n:()=>n,r=i=>i.error(t());return new Zn.y(e?i=>e.schedule(r,0,i):r)}var wo=N(515),$h=N(727),vr=N(4482);function _d(){return(0,vr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,pt.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Gh extends Zn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $h.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pt.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$h.w0.EMPTY)}return e}refCount(){return _d()(this)}}function yn(n,e){return(0,vr.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,pt.x)(r,_=>{i?.unsubscribe();let w=0;const D=a++;(0,yr.Xf)(n(_,D)).subscribe(i=(0,pt.x)(r,x=>r.next(e?e(_,x,D,w++):x),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function sr(n){return n<=0?()=>wo.E:(0,vr.e)((e,t)=>{let r=0;e.subscribe((0,pt.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function yd(...n){const e=(0,Gr.yG)(n);return(0,vr.e)((t,r)=>{(e?_r(n,t,e):_r(n,t)).subscribe(r)})}function Kn(n,e){return(0,vr.e)((t,r)=>{let i=0;t.subscribe((0,pt.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var qr=N(5577);function qh(n){return(0,vr.e)((e,t)=>{let r=!1;e.subscribe((0,pt.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function t_(n=kb){return(0,vr.e)((e,t)=>{let r=!1;e.subscribe((0,pt.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function kb(){return new Ns}function fa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kn((i,a)=>n(i,a,r)):X.y,sr(1),t?qh(e):t_(()=>new Ns))}function Fs(n,e){return(0,qi.m)(e)?(0,qr.z)(n,e,1):(0,qr.z)(n,1)}var Yn=N(8505);function hs(n){return(0,vr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,pt.x)(t,void 0,void 0,c=>{a=(0,yr.Xf)(n(c,hs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function ec(n,e){return(0,vr.e)(function Pp(n,e,t,r,i){return(a,c)=>{let f=t,_=e,w=0;a.subscribe((0,pt.x)(c,D=>{const x=w++;_=f?n(_,D,x):(f=!0,D),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function vd(n){return n<=0?()=>wo.E:(0,vr.e)((e,t)=>{let r=[];e.subscribe((0,pt.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kn((i,a)=>n(i,a,r)):X.y,vd(1),t?qh(e):t_(()=>new Ns))}function Np(n){return(0,U.U)(()=>n)}function bd(n){return(0,vr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const zt="primary",Eo=Symbol("RouteTitle");class r_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function pa(n){return new r_(n)}function i_(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ls(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!wd(n[i],e[i]))return!1;return!0}function wd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function ni(n){return Array.prototype.concat.apply([],n)}function Qc(n){return n.length>0?n[n.length-1]:null}function dr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Bn(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,bn.D)(Promise.resolve(n)):nt(n)}const ga=!1,Lp={exact:function s_(n,e,t){if(!Mi(n.segments,e.segments)||!tc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!s_(n.children[r],e.children[r],t))return!1;return!0},subset:Vp},Zh={exact:function Bp(n,e){return Ls(n,e)},subset:function ma(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wd(n[t],e[t]))},ignored:()=>!0};function Kh(n,e,t){return Lp[t.paths](n.root,e.root,t.matrixParams)&&Zh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Vp(n,e,t){return Yh(n,e,e.segments,t)}function Yh(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Mi(i,t)||e.hasChildren()||!tc(i,t,r))}if(n.segments.length===t.length){if(!Mi(n.segments,t)||!tc(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Vp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Mi(n.segments,i)&&tc(n.segments,i,r)&&n.children[zt])&&Yh(n.children[zt],e,a,r)}}function tc(n,e,t){return e.every((r,i)=>Zh[t](n[i].parameters,r.parameters))}class _a{constructor(e=new Wt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pa(this.queryParams)),this._queryParamMap}toString(){return Qh.serialize(this)}}class Wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,dr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jc(this)}}class il{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=pa(this.parameters)),this._parameterMap}toString(){return Id(this)}}function Mi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Xc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new sl},providedIn:"root"}),n})();class sl{parse(e){const t=new u_(e);return new _a(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bs(e.root,!0)}`,r=function l_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${eu(t)}=${eu(i)}`).join("&"):`${eu(t)}=${eu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Up(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Qh=new sl;function Jc(n){return n.segments.map(e=>Id(e)).join("/")}function Bs(n,e){if(!n.hasChildren())return Jc(n);if(e){const t=n.children[zt]?Bs(n.children[zt],!1):"",r=[];return dr(n.children,(i,a)=>{a!==zt&&r.push(`${a}:${Bs(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function a_(n,e){let t=[];return dr(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),dr(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[Bs(n.children[zt],!1)]:[`${i}:${Bs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${Jc(n)}/${t[0]}`:`${Jc(n)}/(${t.join("//")})`}}function Ed(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(n){return Ed(n).replace(/%3B/gi,";")}function ol(n){return Ed(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cd(n){return decodeURIComponent(n)}function jp(n){return Cd(n.replace(/\+/g,"%20"))}function Id(n){return`${ol(n.path)}${function Xh(n){return Object.keys(n).map(e=>`;${ol(e)}=${ol(n[e])}`).join("")}(n.parameters)}`}const c_=/^[^\/()?;=#]+/;function ya(n){const e=n.match(c_);return e?e[0]:""}const Jh=/^[^=?&#]+/,ef=/^[^&#]+/;class u_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new Wt(e,t)),r}parseSegment(){const e=ya(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,ga);return this.capture(e),new il(Cd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ya(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ya(this.remaining);i&&(r=i,this.capture(r))}e[Cd(t)]=Cd(r)}parseQueryParam(e){const t=function Hp(n){const e=n.match(Jh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function zp(n){const e=n.match(ef);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=jp(t),a=jp(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ya(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,ga);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=zt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[zt]:new Wt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,ga)}}function Dd(n){return n.segments.length>0?new Wt([],{[zt]:n}):n}function tu(n){const e={};for(const r of Object.keys(n.children)){const a=tu(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function al(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new Wt(n.segments.concat(e.segments),e.children)}return n}(new Wt(n.segments,e))}function Zi(n){return n instanceof _a}const Td=!1;function f_(n,e,t,r,i){if(0===t.length)return Co(e.root,e.root,e.root,r,i);const a=function ru(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sd(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return dr(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Sd(t,e,r)}(t);return a.toRoot()?Co(e.root,e.root,new Wt([],{}),r,i):function c(_){const w=function ri(n,e,t,r){if(n.isAbsolute)return new fs(e.root,!0,0);if(-1===r)return new fs(t,t===e.root,0);return function va(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,Td&&"Invalid number of '../'");i=r.segments.length}return new fs(r,!1,i-a)}(t,r+(nc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),D=w.processChildren?ba(w.segmentGroup,w.index,a.commands):cl(w.segmentGroup,w.index,a.commands);return Co(e.root,w.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function nc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ll(n){return"object"==typeof n&&null!=n&&n.outlets}function Co(n,e,t,r,i){let c,a={};r&&dr(r,(_,w)=>{a[w]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),c=n===e?t:rc(n,e,t);const f=Dd(tu(c));return new _a(f,a,i)}function rc(n,e,t){const r={};return dr(n.children,(i,a)=>{r[a]=i===e?t:rc(i,e,t)}),new Wt(n.segments,r)}class Sd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nc(r[0]))throw new u.vHH(4003,Td&&"Root segment cannot have matrix parameters");const i=r.find(ll);if(i&&i!==Qc(r))throw new u.vHH(4004,Td&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fs{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function cl(n,e,t){if(n||(n=new Wt([],{})),0===n.segments.length&&n.hasChildren())return ba(n,e,t);const r=function Ad(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(ll(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Vs(_,w,c))return a;r+=2}else{if(!Vs(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Wt(n.segments.slice(0,r.pathIndex),{});return a.children[zt]=new Wt(n.segments.slice(r.pathIndex),n.children),ba(a,0,i)}return r.match&&0===i.length?new Wt(n.segments,{}):r.match&&!n.hasChildren()?tf(n,e,t):r.match?ba(n,0,i):tf(n,e,t)}function ba(n,e,t){if(0===t.length)return new Wt(n.segments,{});{const r=function Md(n){return ll(n[0])?n[0].outlets:{[zt]:n}}(t),i={};return!r[zt]&&n.children[zt]&&1===n.numberOfChildren&&0===n.children[zt].segments.length?ba(n.children[zt],e,t):(dr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=cl(n.children[c],e,a))}),dr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Wt(n.segments,i))}}function tf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(ll(a)){const _=Gp(a.outlets);return new Wt(r,_)}if(0===i&&nc(t[0])){r.push(new il(n.segments[e].path,qp(t[0]))),i++;continue}const c=ll(a)?a.outlets[zt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&nc(f)?(r.push(new il(c,qp(f))),i+=2):(r.push(new il(c,{})),i++)}return new Wt(r,{})}function Gp(n){const e={};return dr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=tf(new Wt([],{}),0,t))}),e}function qp(n){const e={};return dr(n,(t,r)=>e[r]=`${t}`),e}function Vs(n,e,t){return n==t.path&&Ls(e,t.parameters)}const ul="imperative";class Ai{constructor(e,t){this.id=e,this.url=t}}class iu extends Ai{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends Ai{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class su extends Ai{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kr extends Ai{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class xd extends Ai{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nf extends Ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rf extends Ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends Ai{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ic extends Ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ou extends Ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Od{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kd{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dl{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p_{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kp{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let m=(()=>{class n{createUrlTree(t,r,i,a,c,f){return f_(t||r.root,i,a,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return m.\u0275fac(e)},providedIn:"root"}),n})();class R{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Y(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Y(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ce(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ce(e,this._root).map(t=>t.value)}}function Y(n,e){if(n===e.value)return e;for(const t of e.children){const r=Y(n,t);if(r)return r}return null}function ce(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ce(n,t);if(r.length)return r.unshift(e),r}return[]}class Ne{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xe(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Mt extends R{constructor(e,t){super(e),this.snapshot=t,wa(this,e)}toString(){return this.snapshot.toString()}}function bt(n,e){const t=function hr(n,e){const c=new Do([],{},{},"",{},zt,e,null,n.root,-1,{});return new ps("",new Ne(c,[]))}(n,e),r=new dn([new il("",{})]),i=new dn({}),a=new dn({}),c=new dn({}),f=new dn(""),_=new br(r,i,c,f,a,zt,e,t.root);return _.snapshot=t.root,new Mt(new Ne(_,[]),t)}class br{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,U.U)(w=>w[Eo]))??nt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,U.U)(e=>pa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,U.U)(e=>pa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function au(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Yp(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Do{get title(){return this.data?.[Eo]}constructor(e,t,r,i,a,c,f,_,w,D,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=D,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ps extends R{constructor(e,t){super(t),this.url=e,wa(this,t)}toString(){return lu(this._root)}}function wa(n,e){e.value._routerState=n,e.children.forEach(t=>wa(n,t))}function lu(n){const e=n.children.length>0?` { ${n.children.map(lu).join(", ")} } `:"";return`${n.value}${e}`}function cu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ls(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ls(e.params,t.params)||n.params.next(t.params),function Wh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ls(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ls(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function uu(n,e){const t=Ls(n.params,e.params)&&function o_(n,e){return Mi(n,e)&&n.every((t,r)=>Ls(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||uu(n.parent,e.parent))}function du(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Rb(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return du(n,r,i);return du(n,r)})}(n,e,t);return new Ne(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>du(n,f)),c}}const r=function hu(n){return new br(new dn(n.url),new dn(n.params),new dn(n.queryParams),new dn(n.fragment),new dn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>du(n,a));return new Ne(r,i)}}const fu="ngNavigationCancelingError";function VI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Zi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function UI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[fu]=!0,r.cancellationCode=e,t&&(r.url=t),r}function g_(n){return Pb(n)&&Zi(n.url)}function Pb(n){return n&&n[fu]}class jI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new sf,this.attachRef=null}}let sf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jI,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xp=!1;let Jp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(sf),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Xp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Xp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Xp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,Xp);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new eg(t,f,i.injector);if(r&&function Nb(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(c);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class eg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===br?this.route:e===sf?this.childContexts:this.parent.get(e,t)}}let af=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Jp],encapsulation:2}),n})();function Fb(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function m_(n){const e=n.children&&n.children.map(m_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=af),t}function gs(n){return n.outlet||zt}function GI(n,e){const t=n.filter(r=>gs(r)===e);return t.push(...n.filter(r=>gs(r)!==e)),t}function ng(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class __{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),cu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Xe(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),dr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Xe(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Xe(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Xe(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new p_(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Zp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(cu(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),cu(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=ng(i.snapshot),_=f?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class y_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cf{constructor(e,t){this.component=e,this.route=t}}function Bb(n,e,t){const r=n._root;return Pd(r,e?e._root:null,t,[r.value])}function Rd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function Pd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Xe(e);return n.children.forEach(c=>{(function Vb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function v_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Mi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mi(n.url,e.url)||!Ls(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uu(n,e)||!Ls(n.queryParams,e.queryParams);default:return!uu(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new y_(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Pd(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new cf(f.outlet.component,c))}else c&&rg(e,f,i),i.canActivateChecks.push(new y_(r)),Pd(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),dr(a,(c,f)=>rg(c,t.getContext(f),i)),i}function rg(n,e,t){const r=Xe(n),i=n.value;dr(r,(a,c)=>{rg(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new cf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function pu(n){return"function"==typeof n}function w_(n){return n instanceof Ns||"EmptyError"===n?.name}const Nd=Symbol("INITIAL_VALUE");function hl(){return yn(n=>Ln(n.map(e=>e.pipe(sr(1),yd(Nd)))).pipe((0,U.U)(e=>{for(const t of e)if(!0!==t){if(t===Nd)return Nd;if(!1===t||t instanceof _a)return t}return!0}),Kn(e=>e!==Nd),sr(1)))}function Gb(n){return(0,Rp.z)((0,Yn.b)(e=>{if(Zi(e))throw VI(0,e)}),(0,U.U)(e=>!0===e))}const I_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D_(n,e,t,r,i){const a=T_(n,e,t);return a.matched?function C_(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?nt(i.map(c=>{const f=Rd(c,n);return Bn(function WI(n){return n&&pu(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(hl(),Gb()):nt(!0)}(r=Fb(e,r),e,t).pipe((0,U.U)(c=>!0===c?a:{...I_})):nt(a)}function T_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...I_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||i_)(t,n,e);if(!i)return{...I_};const a={};dr(i.posParams,(f,_)=>{a[_]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function uf(n,e,t,r){if(t.length>0&&function df(n,e,t){return t.some(r=>fl(n,e,r)&&gs(r)!==zt)}(n,t,r)){const a=new Wt(e,function XI(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&gs(a)!==zt){const c=new Wt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[gs(a)]=c}return i}(n,e,r,new Wt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function JI(n,e,t){return t.some(r=>fl(n,e,r))}(n,t,r)){const a=new Wt(n.segments,function LO(n,e,t,r,i){const a={};for(const c of r)if(fl(n,t,c)&&!i[gs(c)]){const f=new Wt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[gs(c)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new Wt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function fl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ld(n,e,t,r){return!!(gs(n)===r||r!==zt&&fl(e,t,n))&&("**"===n.path||T_(e,n,t).matched)}function qb(n,e,t){return 0===e.length&&!n.children[t]}const hf=!1;class sg{constructor(e){this.segmentGroup=e||null}}class Wb{constructor(e){this.urlTree=e}}function ff(n){return ha(new sg(n))}function S_(n){return ha(new Wb(n))}class eD{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=uf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Wt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,zt).pipe((0,U.U)(a=>this.createUrlTree(tu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hs(a=>{if(a instanceof Wb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof sg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,zt).pipe((0,U.U)(i=>this.createUrlTree(tu(i),e.queryParams,e.fragment))).pipe(hs(i=>{throw i instanceof sg?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,hf)}createUrlTree(e,t,r){const i=Dd(e);return new _a(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,U.U)(a=>new Wt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,bn.D)(i).pipe(Fs(a=>{const c=r.children[a],f=GI(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,U.U)(_=>({segment:_,outlet:a})))}),ec((a,c)=>(a[c.outlet]=c.segment,a),{}),Wi())}expandSegment(e,t,r,i,a,c){return(0,bn.D)(r).pipe(Fs(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(hs(w=>{if(w instanceof sg)return nt(null);throw w}))),fa(f=>!!f),hs((f,_)=>{if(w_(f))return qb(t,i,a)?nt(new Wt([],{})):ff(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return Ld(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):ff(t):ff(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?S_(a):this.lineralizeSegments(r,a).pipe((0,qr.z)(c=>{const f=new Wt(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:D}=T_(t,i,a);if(!f)return ff(t);const x=this.applyRedirectCommands(_,i.redirectTo,D);return i.redirectTo.startsWith("/")?S_(x):this.lineralizeSegments(i,x).pipe((0,qr.z)(L=>this.expandSegment(e,t,r,L.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Fb(r,e),r.loadChildren?(r._loadedRoutes?nt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,U.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Wt(i,{})))):nt(new Wt(i,{}))):D_(t,r,i,e).pipe(yn(({matched:c,consumedSegments:f,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,qr.z)(D=>{const x=D.injector??e,L=D.routes,{segmentGroup:G,slicedSegments:q}=uf(t,f,_,L),ne=new Wt(G.segments,G.children);if(0===q.length&&ne.hasChildren())return this.expandChildren(x,L,ne).pipe((0,U.U)(gt=>new Wt(f,gt)));if(0===L.length&&0===q.length)return nt(new Wt(f,{}));const be=gs(r)===a;return this.expandSegment(x,ne,L,q,be?zt:a,!0).pipe((0,U.U)(dt=>new Wt(f.concat(dt.segments),dt.children)))})):ff(t)))}getChildConfig(e,t,r){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function QI(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?nt(!0):nt(i.map(c=>{const f=Rd(c,n);return Bn(function b_(n){return n&&pu(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(hl(),Gb())}(e,t,r).pipe((0,qr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Yn.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function M_(n){return ha(UI(hf,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[zt])return e.redirectTo,ha(new u.vHH(4e3,hf));i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new _a(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return dr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return dr(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new Wt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,hf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class tD{}class iD{constructor(e,t,r,i,a,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=uf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,zt).pipe((0,U.U)(t=>{if(null===t)return null;const r=new Do([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ne(r,t),a=new ps(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=au(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,bn.D)(Object.keys(r.children)).pipe(Fs(i=>{const a=r.children[i],c=GI(t,i);return this.processSegmentGroup(e,c,a,i)}),ec((i,a)=>i&&a?(i.push(...a),i):null),function n_(n,e=!1){return(0,vr.e)((t,r)=>{let i=0;t.subscribe((0,pt.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),qh(null),Wi(),(0,U.U)(i=>{if(null===i)return null;const a=_u(i);return function sD(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,bn.D)(t).pipe(Fs(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),fa(c=>!!c),hs(c=>{if(w_(c))return qb(r,i,a)?nt([]):nt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Ld(t,r,i,a))return nt(null);let c;if("**"===t.path){const f=i.length>0?Qc(i).parameters:{},_=Yb(r)+i.length;c=nt({snapshot:new Do(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lD(t),gs(t),t.component??t._loadedComponent??null,t,Kb(r),_,O_(t)),consumedSegments:[],remainingSegments:[]})}else c=D_(r,t,i,e).pipe((0,U.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:D})=>{if(!f)return null;const x=Yb(r)+_.length;return{snapshot:new Do(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lD(t),gs(t),t.component??t._loadedComponent??null,t,Kb(r),x,O_(t)),consumedSegments:_,remainingSegments:w}}));return c.pipe(yn(f=>{if(null===f)return nt(null);const{snapshot:_,consumedSegments:w,remainingSegments:D}=f;e=t._injector??e;const x=t._loadedInjector??e,L=function oD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:G,slicedSegments:q}=uf(r,w,D,L.filter(be=>void 0===be.redirectTo));if(0===q.length&&G.hasChildren())return this.processChildren(x,L,G).pipe((0,U.U)(be=>null===be?null:[new Ne(_,be)]));if(0===L.length&&0===q.length)return nt([new Ne(_,[])]);const ne=gs(t)===a;return this.processSegment(x,L,G,q,ne?zt:a).pipe((0,U.U)(be=>null===be?null:[new Ne(_,be)]))}))}}function aD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function _u(n){const e=[],t=new Set;for(const r of n){if(!aD(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=_u(r.children);e.push(new Ne(r.value,i))}return e.filter(r=>!t.has(r))}function Kb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Yb(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function lD(n){return n.data||{}}function O_(n){return n.resolve||{}}function e0(n){return"string"==typeof n.title||null===n.title}function ms(n){return yn(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,U.U)(()=>e)):nt(e)})}const Vd=new u.OlP("ROUTES");let R_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Bn(t.loadComponent()).pipe((0,U.U)(t0),(0,Yn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),bd(()=>{this.componentLoaders.delete(t)})),i=new Gh(r,()=>new on.x).pipe(_d());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,U.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,D=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=ni(_.get(Vd,[],u.XFs.Self|u.XFs.Optional)));return{routes:w.map(m_),injector:_}}),bd(()=>{this.childrenLoaders.delete(r)})),c=new Gh(a,()=>new on.x).pipe(_d());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Bn(t()).pipe((0,U.U)(t0),(0,qr.z)(i=>i instanceof u.YKP||Array.isArray(i)?nt(i):(0,bn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t0(n){return function hD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let og=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new on.x,this.configLoader=(0,u.f3M)(R_),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(Xc),this.rootContexts=(0,u.f3M)(sf),this.navigationId=0,this.afterPreactivation=()=>nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Wp(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Od(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new dn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ul,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kn(r=>0!==r.id),(0,U.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),yn(r=>{let i=!1,a=!1;return nt(r).pipe((0,Yn.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yn(c=>{const f=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new kr(c.id,t.serializeUrl(r.rawUrl),D,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),wo.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return n0(c.source)&&(t.browserUrlTree=c.extractedUrl),nt(c).pipe(yn(D=>{const x=this.transitions?.getValue();return this.events.next(new iu(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),x!==this.transitions?.getValue()?wo.E:Promise.resolve(D)}),function x_(n,e,t,r){return yn(i=>function A_(n,e,t,r,i){return new eD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,U.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Yn.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function BO(n,e,t,r,i){return(0,qr.z)(a=>function rD(n,e,t,r,i,a,c="emptyOnly"){return new iD(n,e,t,r,i,c,a).recognize().pipe(yn(f=>null===f?function nD(n){return new Zn.y(e=>e.error(n))}(new tD):nt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,U.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Yn.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const L=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(L,D)}t.browserUrlTree=D.urlAfterRedirects}const x=new nf(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(x)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:x,source:L,restoredState:G,extras:q}=c,ne=new iu(D,this.urlSerializer.serialize(x),L,G);this.events.next(ne);const be=bt(x,this.rootComponentType).snapshot;return nt(r={...c,targetSnapshot:be,urlAfterRedirects:x,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const D="";return this.events.next(new kr(c.id,t.serializeUrl(r.extractedUrl),D,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),wo.E}}),(0,Yn.b)(c=>{const f=new rf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,U.U)(c=>r={...c,guards:Bb(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function mu(n,e){return(0,qr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?nt({...t,guardsResult:!0}):function zb(n,e,t,r){return(0,bn.D)(n).pipe((0,qr.z)(i=>function YI(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?nt(a.map(f=>{const _=ng(e)??i,w=Rd(f,_);return Bn(function gu(n){return n&&pu(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(fa())})).pipe(hl()):nt(!0)}(i.component,i.route,t,e,r)),fa(i=>!0!==i,!0))}(c,r,i,n).pipe((0,qr.z)(f=>f&&function qI(n){return"boolean"==typeof n}(f)?function E_(n,e,t,r){return(0,bn.D)(e).pipe(Fs(i=>_r(function KI(n,e){return null!==n&&e&&e(new kd(n)),nt(!0)}(i.route.parent,r),function ZI(n,e){return null!==n&&e&&e(new dl(n)),nt(!0)}(i.route,r),function Fd(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function FO(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Gi(()=>nt(c.guards.map(_=>{const w=ng(c.node)??t,D=Rd(_,w);return Bn(function jb(n){return n&&pu(n.canActivateChild)}(D)?D.canActivateChild(r,n):w.runInContext(()=>D(r,n))).pipe(fa())})).pipe(hl())));return nt(a).pipe(hl())}(n,i.path,t),function $b(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(a=>Gi(()=>{const c=ng(e)??t,f=Rd(a,c);return Bn(function Ub(n){return n&&pu(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(fa())}));return nt(i).pipe(hl())}(n,i.route,t))),fa(i=>!0!==i,!0))}(r,a,n,e):nt(f)),(0,U.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Yn.b)(c=>{if(r.guardsResult=c.guardsResult,Zi(c.guardsResult))throw VI(0,c.guardsResult);const f=new Io(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Kn(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),ms(c=>{if(c.guards.canActivateChecks.length)return nt(c).pipe((0,Yn.b)(f=>{const _=new ic(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),yn(f=>{let _=!1;return nt(f).pipe(function Qb(n,e){return(0,qr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let a=0;return(0,bn.D)(i).pipe(Fs(c=>function Xb(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!e0(i)&&(a[Eo]=i.title),function cD(n,e,t,r){const i=function Jb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return nt({});const a={};return(0,bn.D)(i).pipe((0,qr.z)(c=>function uD(n,e,t,r){const i=ng(e)??r,a=Rd(n,i);return Bn(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(fa(),(0,Yn.b)(f=>{a[c]=f}))),vd(1),Np(a),hs(c=>w_(c)?wo.E:ha(c)))}(a,n,e,r).pipe((0,U.U)(c=>(n._resolvedData=c,n.data=au(n,t).resolve,i&&e0(i)&&(n.data[Eo]=i.title),null)))}(c.route,r,n,e)),(0,Yn.b)(()=>a++),vd(1),(0,qr.z)(c=>a===i.length?nt(t):wo.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Yn.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Yn.b)(f=>{const _=new ou(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),ms(c=>{const f=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Yn.b)(D=>{_.component=D}),(0,U.U)(()=>{})));for(const D of _.children)w.push(...f(D));return w};return Ln(f(c.targetSnapshot.root)).pipe(qh(),sr(1))}),ms(()=>this.afterPreactivation()),(0,U.U)(c=>{const f=function Qp(n,e,t){const r=du(n,e._root,t?t._root:void 0);return new Mt(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),(0,Yn.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,U.U)(r=>(new __(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,Yn.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ki(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),bd(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),hs(c=>{if(a=!0,Pb(c)){g_(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new su(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),g_(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||n0(r.source)};t.scheduleNavigation(_,ul,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new xd(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return wo.E}))}))}cancelNavigationTransition(t,r,i){const a=new su(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n0(n){return n!==ul}let r0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[Eo]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Zt)},providedIn:"root"}),n})(),Zt=(()=>{class n extends r0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Uh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(a0)},providedIn:"root"}),n})();class o0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let a0=(()=>{class n extends o0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ag=new u.OlP("",{providedIn:"root",factory:()=>({})});let l0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(pD)},providedIn:"root"}),n})(),pD=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gD(n){throw n}function mD(n,e,t){return e.parse("/")}const VO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(ag,{optional:!0})||{},this.errorHandler=this.options.errorHandler||gD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(l0),this.routeReuseStrategy=(0,u.f3M)(s0),this.urlCreationStrategy=(0,u.f3M)(S),this.titleStrategy=(0,u.f3M)(r0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ni((0,u.f3M)(Vd,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(og),this.urlSerializer=(0,u.f3M)(Xc),this.location=(0,u.f3M)(Be),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _a,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bt(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ul,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(m_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,w=_?this.currentUrlTree.fragment:c;let D=null;switch(f){case"merge":D={...this.currentUrlTree.queryParams,...a};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=a||null}return null!==D&&(D=this.removeEmptyProps(D)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,D,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Zi(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,ul,null,r)}navigate(t,r={skipLocationChange:!1}){return function yu(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...VO}:!1===r?{...c0}:r,Zi(t))return Kh(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Kh(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,_,w,D;return c?(f=c.resolve,_=c.reject,w=c.promise):w=new Promise((x,L)=>{f=x,_=L}),D="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cg=(()=>{class n{constructor(t,r,i,a,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new on.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ii),u.Y36(br),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ot))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),ug=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,a,c){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof Ki&&this.update()})}ngAfterContentInit(){nt(this.links.changes,nt(null)).pipe((0,bo.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,bn.D)(t).pipe((0,bo.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function P_(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ii),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(cg,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,cg,5),2&t){let a;u.iGM(a=u.CRH())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class u0{}let UO=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(t=>t instanceof Ki),Fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,bn.D)(i).pipe((0,bo.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nt(null);const a=i.pipe((0,qr.z)(c=>null===c?nt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,bn.D)([a,c]).pipe((0,bo.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ii),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(u0),u.LFG(R_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N_=new u.OlP("");let F_=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof iu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ki&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var Us=(()=>((Us=Us||{})[Us.COMPLETE=0]="COMPLETE",Us[Us.FAILED=1]="FAILED",Us[Us.REDIRECTING=2]="REDIRECTING",Us))();const To=!1;function So(n,e){return{\u0275kind:n,\u0275providers:e}}const B_=new u.OlP("",{providedIn:"root",factory:()=>!1});function h0(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(ii),i=n.get(f0);1===n.get(V_)&&r.initialNavigation(),n.get(U_,null,u.XFs.Optional)?.setUpPreloading(),n.get(N_,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const f0=new u.OlP(To?"bootstrap done indicator":"",{factory:()=>new on.x}),V_=new u.OlP(To?"initial navigation":"",{providedIn:"root",factory:()=>1});function g0(){let n=[];return n=To?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(ii);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function y(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],So(1,n)}const U_=new u.OlP(To?"router preloader":"");function j_(n){return So(0,[{provide:U_,useExisting:UO},{provide:u0,useExisting:n}])}const dg=!1,H_=new u.OlP(dg?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),vD=[Be,{provide:Xc,useClass:sl},ii,sf,{provide:br,useFactory:function L_(n){return n.routerState.root},deps:[ii]},R_,dg?{provide:B_,useValue:!0}:[]];function _0(){return new u.PXZ("Router",ii)}let bD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vD,dg&&r?.enableTracing?g0().\u0275providers:[],{provide:Vd,multi:!0,useValue:t},{provide:H_,useFactory:z_,deps:[[ii,new u.FiY,new u.tp0]]},{provide:ag,useValue:r||{}},r?.useHash?{provide:ot,useClass:Me}:{provide:ot,useClass:Se},{provide:N_,useFactory:()=>{const n=(0,u.f3M)(Go),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(ag),r=(0,u.f3M)(og),i=(0,u.f3M)(Xc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new F_(i,r,n,e,t)}},r?.preloadingStrategy?j_(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:_0},r?.initialNavigation?mf(r):[],[{provide:fg,useFactory:h0},{provide:u.tb,multi:!0,useExisting:fg}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Vd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(H_,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[af]}),n})();function z_(n){if(dg&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mf(n){return["disabled"===n.initialNavigation?So(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(ii);return()=>{e.setUpLocationChangeListener()}}},{provide:V_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?So(2,[{provide:V_,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(ii),a=e.get(f0);(function _D(n,e){n.events.pipe(Kn(t=>t instanceof Ki||t instanceof su||t instanceof xd||t instanceof kr),(0,U.U)(t=>t instanceof Ki||t instanceof kr?Us.COMPLETE:t instanceof su&&(0===t.code||1===t.code)?Us.REDIRECTING:Us.FAILED),Kn(t=>t!==Us.REDIRECTING),sr(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(og).afterPreactivation=()=>(r(!0),a.closed?nt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const fg=new u.OlP(dg?"Router Initializer":"");class vu{constructor(){this.title="ComerciantesR",this.tabIndex=0}}vu.\u0275fac=function(e){return new(e||vu)},vu.\u0275cmp=u.Xpm({type:vu,selectors:[["app-root"]],decls:19,vars:0,consts:[[1,"navbar","fixed-bottom","navbar-expand-lg","navbar-expand-sm","navbar-sm"],[1,"nav","nav-tabs","justify-content-center","flex-nowrap",2,"width","100%"],[1,"nav-item","zoom"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-house-heart-fill","navbar-icon",2,"display","block"],["routerLink","/negocios","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-briefcase","navbar-icon",2,"display","block"],["routerLink","/eventos","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-calendar4-event","navbar-icon",2,"display","block"],["routerLink","/info","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-info-circle",2,"display","block"]],template:function(e,t){1&e&&(u.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),u._UZ(4,"i",4),u._uU(5," Inicio "),u.qZA()(),u.TgZ(6,"li",2)(7,"a",5),u._UZ(8,"i",6),u._uU(9," Negocios "),u.qZA()(),u.TgZ(10,"li",2)(11,"a",7),u._UZ(12,"i",8),u._uU(13," Eventos "),u.qZA()(),u.TgZ(14,"li",2)(15,"a",9),u._UZ(16,"i",10),u._uU(17," Info "),u.qZA()()()(),u._UZ(18,"router-outlet"))},dependencies:[Jp,cg,ug],styles:[".nav-link[_ngcontent-%COMP%]{color:#000;font-weight:700;width:auto;height:100%;font-size:small}.nav-link.active[_ngcontent-%COMP%]{color:#f50404a2}.nav-item[_ngcontent-%COMP%]{width:100%;text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#cac5c5d5;padding-top:0%;padding-bottom:0%}.bi.active[_ngcontent-%COMP%]{color:red;margin-right:5%}.navbar-icon[_ngcontent-%COMP%]{display:block;font-size:1rem;margin-bottom:0rem}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 0 7px 7px #2b292c52}"]});class gg{}class $_{}const Ea="*";function _f(n,e=null){return{type:4,styles:e,timings:n}}function G_(n,e=null){return{type:2,steps:n,options:e}}function Ca(n){return{type:6,styles:n,offset:null}}function yf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function yg(n){Promise.resolve().then(n)}class jd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yg(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class y0{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?yg(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const q_="!";function W_(n){return new u.vHH(3e3,!1)}function D0(){return typeof window<"u"&&typeof window.document<"u"}function ey(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function sc(n){switch(n.length){case 0:return new jd;case 1:return n[0];default:return new y0(n)}}function Hd(n,e,t,r,i=new Map,a=new Map){const c=[],f=[];let _=-1,w=null;if(r.forEach(D=>{const x=D.get("offset"),L=x==_,G=L&&w||new Map;D.forEach((q,ne)=>{let be=ne,et=q;if("offset"!==ne)switch(be=e.normalizePropertyName(be,c),et){case q_:et=i.get(ne);break;case Ea:et=a.get(ne);break;default:et=e.normalizeStyleValue(ne,be,et,c)}G.set(be,et)}),L||f.push(G),w=G,_=x}),c.length)throw function X_(n){return new u.vHH(3502,!1)}();return f}function ty(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&T0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&T0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&T0(t,"destroy",n)))}}function T0(n,e,t){const a=ny(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function ny(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function _s(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function S0(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ry=(n,e)=>!1,M0=(n,e,t)=>[],A0=null;function iy(n){const e=n.parentNode||n.host;return e===A0?null:e}(ey()||typeof Element<"u")&&(D0()?(A0=(()=>document.documentElement)(),ry=(n,e)=>{for(;e;){if(e===n)return!0;e=iy(e)}return!1}):ry=(n,e)=>n.contains(e),M0=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let bu=null,Ig=!1;const x0=ry,O0=M0;let k0=(()=>{class n{validateStyleProperty(t){return function UD(n){bu||(bu=function jD(){return typeof document<"u"?document.body:null}()||{},Ig=!!bu.style&&"WebkitAppearance"in bu.style);let e=!0;return bu.style&&!function sy(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bu.style,!e&&Ig&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bu.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return x0(t,r)}getParentElement(t){return iy(t)}query(t,r,i){return O0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new jd(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Dg=(()=>{class n{}return n.NOOP=new k0,n})();const R0=1e3,Tg="ng-enter",oy="ng-leave",wu="ng-trigger",Sg=".ng-trigger",N0="ng-animating",vf=".ng-animating";function ml(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Hs(parseFloat(e[1]),e[2])}function Hs(n,e){return"s"===e?n*R0:n}function oc(n,e,t){return n.hasOwnProperty("duration")?n:function fi(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(W_()),{duration:0,delay:0,easing:""};i=Hs(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=Hs(parseFloat(_),f[4]));const w=f[5];w&&(c=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function DD(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function TD(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,W_())}return{duration:i,delay:a,easing:c}}(n,e,t)}function Mo(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function bf(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ys(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Eu(n,e,t){return t?e+":"+t+";":""}function Cu(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Eu(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Eu(0,L0(t),n.style[t]));n.setAttribute("style",e)}function xi(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Ag(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),ey()&&Cu(n))}function $s(n,e){n.style&&(e.forEach((t,r)=>{const i=Ag(r);n.style[i]=""}),ey()&&Cu(n))}function Da(n){return Array.isArray(n)?1==n.length?n[0]:G_(n):n}const ac=new RegExp("{{\\s*(.+?)\\s*}}","g");function Iu(n){let e=[];if("string"==typeof n){let t;for(;t=ac.exec(n);)e.push(t[1]);ac.lastIndex=0}return e}function $d(n,e,t){const r=n.toString(),i=r.replace(ac,(a,c)=>{let f=e[c];return null==f&&(t.push(function SD(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function wf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const F0=/-+([a-z0-9])/g;function Ag(n){return n.replace(F0,(...e)=>e[1].toUpperCase())}function L0(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function MD(n){return new u.vHH(3004,!1)}()}}function ay(n,e){return window.getComputedStyle(n)[e]}const kg="*";function Rg(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Pg(n,e,t){if(":"==n[0]){const _=function ly(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function vg(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function LD(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(Fg(i,c));"<"==a[0]&&!(i==kg&&c==kg)&&e.push(Fg(c,i))}(r,t,e)):t.push(n),t}const Ng=new Set(["true","1"]),Gd=new Set(["false","0"]);function Fg(n,e){const t=Ng.has(n)||Gd.has(n),r=Ng.has(e)||Gd.has(e);return(i,a)=>{let c=n==kg||n==i,f=e==kg||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?Ng.has(n):Gd.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?Ng.has(e):Gd.has(e)),c&&f}}const z0=new RegExp("s*:selfs*,?","g");function Ef(n,e,t,r){return new $0(n).build(e,t,r)}class $0{constructor(e){this._driver=e}build(e,t,r){const i=new $D(t);return this._resetContextStyleTimingState(i),Yi(this,Da(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function xD(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function OD(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{Iu(_).forEach(w=>{c.hasOwnProperty(w)||a.add(w)})})}),a.size&&(wf(a.values()),t.errors.push(function Ia(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Yi(this,Da(e.animation),t);return{type:1,matchers:Rg(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:lc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Yi(this,r,t)),options:lc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=Yi(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:lc(e.options)}}visitAnimate(e,t){const r=function W0(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Lg(oc(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Lg(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=oc(t,e);return Lg(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Ca({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const w={};r.easing&&(w.easing=r.easing),c=Ca(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Ea?r.push(f):t.errors.push(new u.vHH(3002,!1)):r.push(bf(f));let a=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(_);let x=!0;D&&(a!=i&&a>=D.startTime&&i<=D.endTime&&(t.errors.push(function kD(n,e,t,r,i){return new u.vHH(3010,!1)}()),x=!1),a=D.startTime),x&&w.set(_,{startTime:a,endTime:i}),t.options&&function zd(n,e,t){const r=e.params||{},i=Iu(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Z_(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function v0(){return new u.vHH(3011,!1)}()),r;let a=0;const c=[];let f=!1,_=!1,w=0;const D=e.steps.map(et=>{const dt=this._makeStyleAst(et,t);let gt=null!=dt.offset?dt.offset:function q0(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(dt.styles),ht=0;return null!=gt&&(a++,ht=dt.offset=gt),_=_||ht<0||ht>1,f=f||ht<w,w=ht,c.push(ht),dt});_&&t.errors.push(function RD(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function PD(){return new u.vHH(3200,!1)}());const x=e.steps.length;let L=0;a>0&&a<x?t.errors.push(function ND(){return new u.vHH(3202,!1)}()):0==a&&(L=1/(x-1));const G=x-1,q=t.currentTime,ne=t.currentAnimateTimings,be=ne.duration;return D.forEach((et,dt)=>{const gt=L>0?dt==G?1:L*dt:c[dt],ht=gt*be;t.currentTime=q+ne.delay+ht,ne.duration=ht,this._validateStyleAst(et,t),et.offset=gt,r.styles.push(et)}),r}visitReference(e,t){return{type:8,animation:Yi(this,Da(e.animation),t),options:lc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:lc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:lc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function dy(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(z0,"")),n=n.replace(/@\*/g,Sg).replace(/@\w+/g,t=>Sg+"-"+t.slice(1)).replace(/:animating/g,vf),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,_s(t.collectedStyles,t.currentQuerySelector,new Map);const f=Yi(this,Da(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:lc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Y_(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:oc(e.timings,t.errors,!0);return{type:12,animation:Yi(this,Da(e.animation),t),timings:r,options:null}}}class $D{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lc(n){return n?(n=Mo(n)).params&&(n.params=function G0(n){return n?Mo(n):null}(n.params)):n={},n}function Lg(n,e,t){return{duration:n,delay:e,easing:t}}function hy(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class Cf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Bg=new RegExp(":enter","g"),Y0=new RegExp(":leave","g");function Vg(n,e,t,r,i,a=new Map,c=new Map,f,_,w=[]){return(new Q0).buildKeyframes(n,e,t,r,i,a,c,f,_,w)}class Q0{buildKeyframes(e,t,r,i,a,c,f,_,w,D=[]){w=w||new Cf;const x=new Ug(e,t,w,i,a,D,[]);x.options=_;const L=_.delay?ml(_.delay):0;x.currentTimeline.delayNextStep(L),x.currentTimeline.setStyles([c],null,x.errors,_),Yi(this,r,x);const G=x.timelines.filter(q=>q.containsAnimation());if(G.length&&f.size){let q;for(let ne=G.length-1;ne>=0;ne--){const be=G[ne];if(be.element===t){q=be;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,x.errors,_)}return G.length?G.map(q=>q.buildKeyframes()):[hy(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const c="number"==typeof a?a:ml($d(a,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?ml(r.duration):null,f=null!=r.delay?ml(r.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Yi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=If);const c=ml(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Yi(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?ml(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Yi(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return oc(t.params?$d(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?ml(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=If);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const x=t.createSubContext(e.options,w);a&&x.delayNextStep(a),w===t.element&&(_=x.currentTimeline),Yi(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const x=D.currentTime;Yi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const If={};class Ug{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=If,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Df(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ml(r.duration)),null!=r.delay&&(i.delay=ml(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=$d(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Ug(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=If,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new X0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Bg,"."+this._enterClassName)).replace(Y0,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&c.push(function FD(n){return new u.vHH(3014,!1)}()),f}}class Df{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Df(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ea),this._currentKeyframe.set(t,Ea);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},c=function cc(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Ea)}else ys(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const w=$d(_,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Ea),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=ys(f,new Map,this._backFill);w.forEach((D,x)=>{D===q_?e.add(x):D===Ea&&t.add(x)}),r||w.set("offset",_/this.duration),i.push(w)});const a=e.size?wf(e.values()):[],c=t.size?wf(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return hy(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class X0 extends Df{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=ys(e[0]);_.set("offset",0),a.push(_);const w=ys(e[0]);w.set("offset",Tf(f)),a.push(w);const D=e.length-1;for(let x=1;x<=D;x++){let L=ys(e[x]);const G=L.get("offset");L.set("offset",Tf((t+G*r)/c)),a.push(L)}r=c,t=0,i="",e=a}return hy(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Tf(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class py{}const Du=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gy extends py{normalizePropertyName(e,t){return Ag(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(Du.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function AD(n,e){return new u.vHH(3005,!1)}())}return c+a}}function ew(n,e,t,r,i,a,c,f,_,w,D,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:D,totalTime:x,errors:L}}const Sf={};class GD{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function qD(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,c,f,_,w,D){const x=[],L=this.ast.options&&this.ast.options.params||Sf,q=this.buildStyles(r,f&&f.params||Sf,x),ne=_&&_.params||Sf,be=this.buildStyles(i,ne,x),et=new Set,dt=new Map,gt=new Map,ht="void"===i,kt={params:WD(ne,L),delay:this.ast.options?.delay},Vt=D?[]:Vg(e,t,this.ast.animation,a,c,q,be,kt,w,x);let cn=0;if(Vt.forEach(zu=>{cn=Math.max(zu.duration+zu.delay,cn)}),x.length)return ew(t,this._triggerName,r,i,ht,q,be,[],[],dt,gt,cn,x);Vt.forEach(zu=>{const $u=zu.element,jB=_s(dt,$u,new Set);zu.preStyleProps.forEach(Ip=>jB.add(Ip));const Ab=_s(gt,$u,new Set);zu.postStyleProps.forEach(Ip=>Ab.add(Ip)),$u!==t&&et.add($u)});const Ds=wf(et.values());return ew(t,this._triggerName,r,i,ht,q,be,Vt,Ds,dt,gt,cn)}}function WD(n,e){const t=Mo(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class tw{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Mo(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=$d(c,i,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),r.set(f,c)})}),r}}class Rr{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new tw(i.style,i.options&&i.options.params||{},r))}),rw(this.states,"true","1"),rw(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new GD(e,i,this.states))}),this.fallbackTransition=function nw(n,e,t){return new GD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function rw(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const KD=new Cf;class iw{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=Ef(this._driver,t,r,i);if(r.length)throw function QO(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=Hd(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=Vg(this._driver,t,a,Tg,oy,new Map,new Map,r,KD,i),c.forEach(D=>{const x=_s(f,D.element,new Map);D.postStyleProps.forEach(L=>x.set(L,null))})):(i.push(function b0(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function w0(n){return new u.vHH(3504,!1)}();f.forEach((D,x)=>{D.forEach((L,G)=>{D.set(G,this._driver.computeStyle(x,G,Ea))})});const w=sc(c.map(D=>{const x=f.get(D.element);return this._buildPlayer(D,new Map,x)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function E0(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=ny(t,"","","");return ty(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const sw="ng-animate-queued",jg="ng-animate-disabled",aw=[],lw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ao="__ng_removed";class Hg{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Oo(n){return n??null}(r?e.value:e),r){const a=Mo(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Tu="void",Gs=new Hg(Tu);class XD{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ws(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function C0(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function J_(n){return new u.vHH(3303,!1)}();if(!function uw(n){return"start"==n||"done"==n}(r))throw function gl(n,e){return new u.vHH(3400,!1)}();const a=_s(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=_s(this._engine.statesByElement,e,new Map);return f.has(t)||(Ws(e,wu),Ws(e,wu+"-"+t),f.set(t,Gs)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function wg(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new qs(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ws(e,wu),Ws(e,wu+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new Hg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=Gs),w.value!==Tu&&_.value===w.value){if(!function tT(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ne=[],be=a.matchStyles(_.value,_.params,ne),et=a.matchStyles(w.value,w.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{$s(e,be),xi(e,et)})}return}const L=_s(this._engine.playersByElement,e,[]);L.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let G=a.matchTransition(_.value,w.value,e,w.params),q=!1;if(!G){if(!i)return;G=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:_,toState:w,player:c,isFallbackTransition:q}),q||(Ws(e,sw),c.onStart(()=>{uc(e,sw)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const be=this._engine.playersByElement.get(e);if(be){let et=be.indexOf(c);et>=0&&be.splice(et,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Sg,!0);r.forEach(i=>{if(i[Ao])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(c.set(w,_.value),this._triggers.has(w)){const D=this.trigger(e,w,Tu,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&sc(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,w=r.get(c)||Gs,D=new Hg(Tu),x=new qs(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:D,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ao];(!a||a===lw)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ws(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=ny(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,ty(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class JD{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new XD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Mf(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Mf(t))return;const a=t[Ao];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ws(e,jg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uc(e,jg))}removeNode(e,t,r,i){if(Mf(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ao]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Mf(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Sg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,vf,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ao];if(t&&t.setForRemoval){if(e[Ao]=lw,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(jg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ws(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?sc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Eg(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Cf,i=[],a=new Map,c=[],f=new Map,_=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(vt=>{D.add(vt);const Rt=this.driver.query(vt,".ng-animate-queued",!0);for(let Ht=0;Ht<Rt.length;Ht++)D.add(Rt[Ht])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),G=fw(L,this.collectedEnterElements),q=new Map;let ne=0;G.forEach((vt,Rt)=>{const Ht=Tg+ne++;q.set(Rt,Ht),vt.forEach(gn=>Ws(gn,Ht))});const be=[],et=new Set,dt=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const Rt=this.collectedLeaveElements[vt],Ht=Rt[Ao];Ht&&Ht.setForRemoval&&(be.push(Rt),et.add(Rt),Ht.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(gn=>et.add(gn)):dt.add(Rt))}const gt=new Map,ht=fw(L,Array.from(et));ht.forEach((vt,Rt)=>{const Ht=oy+ne++;gt.set(Rt,Ht),vt.forEach(gn=>Ws(gn,Ht))}),e.push(()=>{G.forEach((vt,Rt)=>{const Ht=q.get(Rt);vt.forEach(gn=>uc(gn,Ht))}),ht.forEach((vt,Rt)=>{const Ht=gt.get(Rt);vt.forEach(gn=>uc(gn,Ht))}),be.forEach(vt=>{this.processLeaveNode(vt)})});const kt=[],Vt=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach(Ht=>{const gn=Ht.player,vi=Ht.element;if(kt.push(gn),this.collectedEnterElements.length){const ts=vi[Ao];if(ts&&ts.setForMove){if(ts.previousTriggersValues&&ts.previousTriggersValues.has(Ht.triggerName)){const Dp=ts.previousTriggersValues.get(Ht.triggerName),xa=this.statesByElement.get(Ht.element);if(xa&&xa.has(Ht.triggerName)){const BI=xa.get(Ht.triggerName);BI.value=Dp,xa.set(Ht.triggerName,BI)}}return void gn.destroy()}}const Ec=!x||!this.driver.containsElement(x,vi),Lo=gt.get(vi),Ah=q.get(vi),fr=this._buildInstruction(Ht,r,Ah,Lo,Ec);if(fr.errors&&fr.errors.length)return void Vt.push(fr);if(Ec)return gn.onStart(()=>$s(vi,fr.fromStyles)),gn.onDestroy(()=>xi(vi,fr.toStyles)),void i.push(gn);if(Ht.isFallbackTransition)return gn.onStart(()=>$s(vi,fr.fromStyles)),gn.onDestroy(()=>xi(vi,fr.toStyles)),void i.push(gn);const $B=[];fr.timelines.forEach(ts=>{ts.stretchStartingKeyframe=!0,this.disabledNodes.has(ts.element)||$B.push(ts)}),fr.timelines=$B,r.append(vi,fr.timelines),c.push({instruction:fr,player:gn,element:vi}),fr.queriedElements.forEach(ts=>_s(f,ts,[]).push(gn)),fr.preStyleProps.forEach((ts,Dp)=>{if(ts.size){let xa=_.get(Dp);xa||_.set(Dp,xa=new Set),ts.forEach((BI,RO)=>xa.add(RO))}}),fr.postStyleProps.forEach((ts,Dp)=>{let xa=w.get(Dp);xa||w.set(Dp,xa=new Set),ts.forEach((BI,RO)=>xa.add(RO))})});if(Vt.length){const vt=[];Vt.forEach(Rt=>{vt.push(function BD(n,e){return new u.vHH(3505,!1)}())}),kt.forEach(Rt=>Rt.destroy()),this.reportError(vt)}const cn=new Map,Ds=new Map;c.forEach(vt=>{const Rt=vt.element;r.has(Rt)&&(Ds.set(Rt,Rt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,cn))}),i.forEach(vt=>{const Rt=vt.element;this._getPreviousPlayers(Rt,!1,vt.namespaceId,vt.triggerName,null).forEach(gn=>{_s(cn,Rt,[]).push(gn),gn.destroy()})});const zu=be.filter(vt=>_y(vt,_,w)),$u=new Map;hw($u,this.driver,dt,w,Ea).forEach(vt=>{_y(vt,_,w)&&zu.push(vt)});const Ab=new Map;G.forEach((vt,Rt)=>{hw(Ab,this.driver,new Set(vt),_,q_)}),zu.forEach(vt=>{const Rt=$u.get(vt),Ht=Ab.get(vt);$u.set(vt,new Map([...Array.from(Rt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const Ip=[],HB=[],zB={};c.forEach(vt=>{const{element:Rt,player:Ht,instruction:gn}=vt;if(r.has(Rt)){if(D.has(Rt))return Ht.onDestroy(()=>xi(Rt,gn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(gn.totalTime),void i.push(Ht);let vi=zB;if(Ds.size>1){let Lo=Rt;const Ah=[];for(;Lo=Lo.parentNode;){const fr=Ds.get(Lo);if(fr){vi=fr;break}Ah.push(Lo)}Ah.forEach(fr=>Ds.set(fr,vi))}const Ec=this._buildAnimation(Ht.namespaceId,gn,cn,a,Ab,$u);if(Ht.setRealPlayer(Ec),vi===zB)Ip.push(Ht);else{const Lo=this.playersByElement.get(vi);Lo&&Lo.length&&(Ht.parentPlayer=sc(Lo)),i.push(Ht)}}else $s(Rt,gn.fromStyles),Ht.onDestroy(()=>xi(Rt,gn.toStyles)),HB.push(Ht),D.has(Rt)&&i.push(Ht)}),HB.forEach(vt=>{const Rt=a.get(vt.element);if(Rt&&Rt.length){const Ht=sc(Rt);vt.setRealPlayer(Ht)}}),i.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<be.length;vt++){const Rt=be[vt],Ht=Rt[Ao];if(uc(Rt,oy),Ht&&Ht.hasAnimation)continue;let gn=[];if(f.size){let Ec=f.get(Rt);Ec&&Ec.length&&gn.push(...Ec);let Lo=this.driver.query(Rt,vf,!0);for(let Ah=0;Ah<Lo.length;Ah++){let fr=f.get(Lo[Ah]);fr&&fr.length&&gn.push(...fr)}}const vi=gn.filter(Ec=>!Ec.destroyed);vi.length?Af(this,Rt,vi):this.processLeaveNode(Rt)}return be.length=0,Ip.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const Rt=this.players.indexOf(vt);this.players.splice(Rt,1)}),vt.play()}),Ip}elementContainsData(e,t){let r=!1;const i=t[Ao];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==Tu;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||c.push(w)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,D=w!==a,x=_s(r,w,[]);this._getPreviousPlayers(w,D,c,f,t.toState).forEach(G=>{const q=G.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),G.destroy(),x.push(G)})}$s(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,w=[],D=new Set,x=new Set,L=t.timelines.map(q=>{const ne=q.element;D.add(ne);const be=ne[Ao];if(be&&be.removedBeforeQueried)return new jd(q.duration,q.delay);const et=ne!==_,dt=function eT(n){const e=[];return my(n,e),e}((r.get(ne)||aw).map(cn=>cn.getRealPlayer())).filter(cn=>!!cn.element&&cn.element===ne),gt=a.get(ne),ht=c.get(ne),kt=Hd(0,this._normalizer,0,q.keyframes,gt,ht),Vt=this._buildPlayer(q,kt,dt);if(q.subTimeline&&i&&x.add(ne),et){const cn=new qs(e,f,ne);cn.setRealPlayer(Vt),w.push(cn)}return Vt});w.forEach(q=>{_s(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function xo(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,q.element,q))}),D.forEach(q=>Ws(q,N0));const G=sc(L);return G.onDestroy(()=>{D.forEach(q=>uc(q,N0)),xi(_,t.toStyles)}),x.forEach(q=>{_s(i,q,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new jd(e.duration,e.delay)}}class qs{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new jd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ty(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_s(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Mf(n){return n&&1===n.nodeType}function dw(n,e){const t=n.style.display;return n.style.display=e??"none",t}function hw(n,e,t,r,i){const a=[];t.forEach(_=>a.push(dw(_)));const c=[];r.forEach((_,w)=>{const D=new Map;_.forEach(x=>{const L=e.computeStyle(w,x,i);D.set(x,L),(!L||0==L.length)&&(w[Ao]=cw,c.push(w))}),n.set(w,D)});let f=0;return t.forEach(_=>dw(_,a[f++])),c}function fw(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function c(f){if(!f)return r;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?r:c(w),a.set(f,_),_}return e.forEach(f=>{const _=c(f);_!==r&&t.get(_).push(f)}),t}function Ws(n,e){n.classList?.add(e)}function uc(n,e){n.classList?.remove(e)}function Af(n,e,t){sc(t).onDone(()=>n.processLeaveNode(e))}function my(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof y0?my(r.players,e):e.push(r)}}function _y(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class xf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new JD(e,t,r),this._timelineEngine=new iw(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],w=[],D=Ef(this._driver,a,_,w);if(_.length)throw function YO(n,e){return new u.vHH(3404,!1)}();f=function ZD(n,e,t){return new Rr(n,e,t)}(i,D,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=S0(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=S0(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let nT=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&xi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xi(this._element,this._initialStyles),this._endStyles&&(xi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($s(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($s(this._element,this._endStyles),this._endStyles=null),xi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $g(n){let e=null;return n.forEach((t,r)=>{(function pw(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Gg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:ay(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class qg{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return x0(e,t)}getParentElement(e){return iy(e)}query(e,t,r){return O0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w=new Map,D=c.filter(G=>G instanceof Gg);(function B0(n,e){return 0===n||0===e})(r,i)&&D.forEach(G=>{G.currentSnapshot.forEach((q,ne)=>w.set(ne,q))});let x=function zs(n){return n.length?n[0]instanceof Map?n:n.map(e=>bf(e)):[]}(t).map(G=>ys(G));x=function V0(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(f=>c.set(f,ay(n,f)))}}return e}(e,x,w);const L=function zg(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=$g(e[0]),e.length>1&&(r=$g(e[e.length-1]))):e instanceof Map&&(t=$g(e)),t||r?new nT(n,t,r):null}(e,x);return new Gg(e,x,_,L)}}let gw=(()=>{class n extends gg{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?G_(t):t;return yy(this._renderer,null,r,"register",[i]),new mw(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class mw extends $_{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _w(this._id,e,t||{},this._renderer)}}class _w{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yy(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function yy(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const vy="@.disabled";let yw=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new by("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(c,f,t,D.name,D)};return r.data.animation.forEach(_),new rT(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(xf),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class by{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==vy?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class rT extends by{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==vy?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function iT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function sT(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let oT=(()=>{class n extends xf{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te),u.LFG(Dg),u.LFG(py),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const vw=[{provide:gg,useClass:gw},{provide:py,useFactory:function aT(){return new gy}},{provide:xf,useClass:oT},{provide:u.FYo,useFactory:function lT(n,e,t){return new yw(n,e,t)},deps:[mr,xf,u.R0b]}],wy=[{provide:Dg,useFactory:()=>new qg},{provide:u.QbO,useValue:"BrowserAnimations"},...vw],bw=[{provide:Dg,useClass:k0},{provide:u.QbO,useValue:"NoopAnimations"},...vw];let cT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?bw:wy}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:wy,imports:[oa]}),n})();let Ew=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Su=(()=>{class n extends Ew{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ta=new u.OlP("NgValueAccessor"),Cw={provide:Ta,useExisting:(0,u.Gpc)(()=>Wd),multi:!0},Dw=new u.OlP("CompositionEventMode");let Wd=(()=>{class n extends Ew{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Iw(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Dw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([Cw]),u.qOj]}),n})();const Tw=!1,si=new u.OlP("NgValidators"),yl=new u.OlP("NgAsyncValidators");function xt(n){return null!=n}function xw(n){const e=(0,u.QGY)(n)?(0,bn.D)(n):n;if(Tw&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function Ow(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function kw(n,e){return e.map(t=>t(n))}function Rw(n){return n.map(e=>function Kd(n){return!n.validate}(e)?e:t=>e.validate(t))}function Yd(n){return null!=n?function kf(n){if(!n)return null;const e=n.filter(xt);return 0==e.length?null:function(t){return Ow(kw(t,e))}}(Rw(n)):null}function Qn(n){if(!n)return null;const e=n.filter(xt);return 0==e.length?null:function(t){return function ww(...n){const e=(0,Gr.jO)(n),{args:t,keys:r}=O(n),i=new Zn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,w=c;for(let D=0;D<c;D++){let x=!1;(0,yr.Xf)(t[D]).subscribe((0,pt.x)(a,L=>{x||(x=!0,w--),f[D]=L},()=>_--,void 0,()=>{(!_||!x)&&(w||a.next(r?ut(r,f):f),a.complete())}))}});return e?i.pipe(ft(e)):i}(kw(t,e).map(xw)).pipe((0,U.U)(Ow))}}function Pw(n){return null!=n?Qn(Rw(n)):null}function Sy(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zg(n){return n?Array.isArray(n)?n:[n]:[]}function Rf(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ay(n,e){const t=Zg(e);return Zg(n).forEach(i=>{Rf(t,i)||t.push(i)}),t}function xy(n,e){return Zg(e).filter(t=>!Rf(n,t))}class Fw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Pw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Oi extends Fw{get formDirective(){return null}get path(){return null}}class dc extends Fw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Oy=(()=>{class n extends Qd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dc,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})();const Xg="VALID",Py="INVALID",Au="PENDING",hc="DISABLED";function em(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class jw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xg}get invalid(){return this.status===Py}get pending(){return this.status==Au}get disabled(){return this.status===hc}get enabled(){return this.status!==hc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ay(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ay(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xy(e,this._rawAsyncValidators))}hasValidator(e){return Rf(this._rawValidators,e)}hasAsyncValidator(e){return Rf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Au,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xg||this.status===Au)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hc:Xg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Au,this._hasOwnPendingAsyncValidator=!0;const t=xw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?hc:this.errors?Py:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Au)?Au:this._anyControlsHaveStatus(Py)?Py:Xg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){em(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function vT(n){return Array.isArray(n)?Yd(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ff(n){return Array.isArray(n)?Pw(n):n||null}(this._rawAsyncValidators)}}const Sa=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>tm}),tm="always";function Bf(n,e,t=tm){(function Fy(n,e){const t=function My(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Sy(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Nw(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Sy(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();nm(e._rawValidators,i),nm(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ET(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ly(n,e)})}(n,e),function CT(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $w(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ly(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function zw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function nm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ly(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Kw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function jy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Yw=class extends jw{constructor(e=null,t,r){super(function Ny(n){return(em(n)?n.validators:n)||null}(t),function Jg(n,e){return(em(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),em(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=jy(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},OT={provide:dc,useExisting:(0,u.Gpc)(()=>vl)},Hy=(()=>Promise.resolve())();let zf,vl=(()=>{class n extends dc{constructor(t,r,i,a,c,f){super(),this._changeDetectorRef=c,this.callSetDisabledState=f,this.control=new Yw,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Vy(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Wd?t=a:function TT(n){return Object.getPrototypeOf(n.constructor)===Su}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function By(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Hy.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);Hy.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Lf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Oi,9),u.Y36(si,10),u.Y36(yl,10),u.Y36(Ta,10),u.Y36(u.sBO,8),u.Y36(Sa,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([OT]),u.qOj,u.TTD]}),n})(),nE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Jy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[nE]}),n})(),EE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sa,useValue:t.callSetDisabledState??tm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Jy]}),n})();try{zf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zf=!1}let Ou,nv=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?so(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $f(n){return function qT(){if(null==Ou&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ou=!0}))}finally{Ou=Ou||!1}return Ou}()?n:!!n.capture}let RS=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[RS]}),n})();function LS(n){return Array.isArray(n)?n:[n]}function av(n){return n instanceof u.SBq?n.nativeElement:n}var qf=N(4986),th=N(5032);function or(n){return(0,vr.e)((e,t)=>{(0,yr.Xf)(n).subscribe((0,pt.x)(t,()=>t.complete(),th.Z)),!t.closed&&e.subscribe(t)})}const HE=new Set;let nh,hR=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pR}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function fR(n){if(!HE.has(n))try{nh||(nh=document.createElement("style"),nh.setAttribute("type","text/css"),document.head.appendChild(nh)),nh.sheet&&(nh.sheet.insertRule(`@media ${n} {body{ }}`,0),HE.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(nv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pR(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zE=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new on.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return $E(LS(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Ln($E(LS(t)).map(c=>this._registerQuery(c).observable));return a=_r(a.pipe(sr(1)),a.pipe(function UE(n){return Kn((e,t)=>n<=t)}(1),function jE(n,e=qf.z){return(0,vr.e)((t,r)=>{let i=null,a=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function _(){const w=c+n,D=e.now();if(D<w)return i=this.schedule(void 0,w-D),void r.add(i);f()}t.subscribe((0,pt.x)(r,w=>{a=w,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe((0,U.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Zn.y(c=>{const f=_=>this._zone.run(()=>c.next(_));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(yd(r),(0,U.U)(({matches:c})=>({query:t,matches:c})),or(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hR),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $E(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const ZS="cdk-high-contrast-black-on-white",KS="cdk-high-contrast-white-on-black",XE="cdk-high-contrast-active";let YS=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(zE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(XE,ZS,KS),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(XE,ZS):2===r&&t.add(XE,KS)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(nv),u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YS))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[NS]}),n})(),E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const jn=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function qt(){return!0}});let Dn=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function TE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YS),u.LFG(jn,8),u.LFG(te))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[E,E]}),n})();class FV{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const FR=$f({passive:!0,capture:!0});class LV{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function QT(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const c=a.get(r);c?c.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,FR)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);a&&(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,FR)))}}const LR={enterDuration:225,exitDuration:150},BR=$f({passive:!0,capture:!0}),VR=["mousedown","touchstart"],UR=["mouseup","mouseleave","touchend","touchcancel"];class JE{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=av(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...LR,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function VV(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=f-c+"px",D.style.top=_-c+"px",D.style.height=2*c+"px",D.style.width=2*c+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D);const x=window.getComputedStyle(D),G=x.transitionDuration,q="none"===x.transitionProperty||"0s"===G||"0s, 0s"===G||0===i.width&&0===i.height,ne=new FV(this,D,r,q);D.style.transform="scale3d(1, 1, 1)",ne.state=0,r.persistent||(this._mostRecentTransientRipple=ne);let be=null;return!q&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const et=()=>this._finishRippleTransition(ne),dt=()=>this._destroyRipple(ne);D.addEventListener("transitionend",et),D.addEventListener("transitioncancel",dt),be={onTransitionEnd:et,onTransitionCancel:dt}}),this._activeRipples.set(ne,be),(q||!w)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...LR,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=av(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,VR.forEach(r=>{JE._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{UR.forEach(t=>{this._triggerElement.addEventListener(t,this,BR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function QE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function cv(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(VR.forEach(t=>JE._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&UR.forEach(t=>e.removeEventListener(t,this,BR)))}}JE._eventManager=new LV;let UV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Dn,Dn]}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Dn,$o,Dn]}),n})(),h2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),_2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$o,Dn,h2,UV,NS,s,Dn]}),n})();const pm=function mg(n,e){return{type:7,name:n,definitions:e,options:{}}}("fade",[yf(":enter",[Ca({opacity:0}),_f("800ms",Ca({opacity:1}))]),yf(":leave",[_f("800ms",Ca({opacity:1}))])]);var Xi=N(2122);function XS(){return(0,vr.e)((n,e)=>{let t,r=!1;n.subscribe((0,pt.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function v2(n,e){return n===e}var Et,wl=N(2011),b2=(N(4217),N(3942)),we=N(5861),Wf=N(9681),eC=N(4859),ih=N(1877),vn=N(2090),w2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pu={},JS=JS||{},Kt=w2||self;function tC(){}function nC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function dv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var eM="closure_uid_"+(1e9*Math.random()>>>0),C2=0;function I2(n,e,t){return n.call.apply(n.bind,arguments)}function D2(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ji(n,e,t){return(Ji=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?I2:D2).apply(null,arguments)}function rC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ki(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function sh(){this.s=this.s,this.o=this.o}sh.prototype.s=!1,sh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function E2(n){Object.prototype.hasOwnProperty.call(n,eM)&&n[eM]||(n[eM]=++C2)}(this)},sh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const HR=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function tM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zR(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(nC(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function es(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}es.prototype.h=function(){this.defaultPrevented=!0};var S2=function(){if(!Kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Kt.addEventListener("test",tC,e),Kt.removeEventListener("test",tC,e)}catch{}return n}();function iC(n){return/^[\s\xa0]*$/.test(n)}var $R=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function nM(n,e){return n<e?-1:n>e?1:0}function sC(){var n=Kt.navigator;return n&&(n=n.userAgent)?n:""}function gc(n){return-1!=sC().indexOf(n)}function rM(n){return rM[" "](n),n}rM[" "]=tC;var oC,n,A2=gc("Opera"),gm=gc("Trident")||gc("MSIE"),GR=gc("Edge"),iM=GR||gm,qR=gc("Gecko")&&!(-1!=sC().toLowerCase().indexOf("webkit")&&!gc("Edge"))&&!(gc("Trident")||gc("MSIE"))&&!gc("Edge"),x2=-1!=sC().toLowerCase().indexOf("webkit")&&!gc("Edge");function WR(){var n=Kt.document;return n?n.documentMode:void 0}e:{var sM="",oM=(n=sC(),qR?/rv:([^\);]+)(\)|;)/.exec(n):GR?/Edge\/([\d\.]+)/.exec(n):gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):x2?/WebKit\/(\S+)/.exec(n):A2?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(oM&&(sM=oM?oM[1]:""),gm){var aM=WR();if(null!=aM&&aM>parseFloat(sM)){oC=String(aM);break e}}oC=sM}var O2={};var R2=Kt.document&&gm&&(WR()||parseInt(oC,10))||void 0;function hv(n,e){if(es.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qR){e:{try{rM(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:P2[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hv.X.h.call(this)}}ki(hv,es);var P2={2:"touch",3:"pen",4:"mouse"};hv.prototype.h=function(){hv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fv="closure_listenable_"+(1e6*Math.random()|0),N2=0;function F2(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++N2,this.ba=this.ea=!1}function aC(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function cM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function KR(n){const e={};for(const t in n)e[t]=n[t];return e}const YR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QR(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<YR.length;a++)t=YR[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function lC(n){this.src=n,this.g={},this.h=0}function uM(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=HR(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(aC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dM(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}lC.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=dM(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new F2(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var hM="closure_lm_"+(1e6*Math.random()|0),fM={};function XR(n,e,t,r,i){if(r&&r.once)return eP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)XR(n,e[a],t,r,i);return null}return t=_M(t),n&&n[fv]?n.N(e,t,dv(r)?!!r.capture:!!r,i):JR(n,e,t,!1,r,i)}function JR(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=dv(i)?!!i.capture:!!i,f=gM(n);if(f||(n[hM]=f=new lC(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function L2(){const e=B2;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)S2||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(nP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function eP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)eP(n,e[a],t,r,i);return null}return t=_M(t),n&&n[fv]?n.O(e,t,dv(r)?!!r.capture:!!r,i):JR(n,e,t,!0,r,i)}function tP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)tP(n,e[a],t,r,i);else r=dv(r)?!!r.capture:!!r,t=_M(t),n&&n[fv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dM(a=n.g[e],t,r,i))&&(aC(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=gM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dM(e,t,r,i)),(t=-1<n?e[n]:null)&&pM(t))}function pM(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[fv])uM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=gM(e))?(uM(t,n),0==t.h&&(t.src=null,e[hM]=null)):aC(n)}}}function nP(n){return n in fM?fM[n]:fM[n]="on"+n}function B2(n,e){if(n.ba)n=!0;else{e=new hv(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&pM(n),n=t.call(r,e)}return n}function gM(n){return(n=n[hM])instanceof lC?n:null}var mM="__closure_events_fn_"+(1e9*Math.random()>>>0);function _M(n){return"function"==typeof n?n:(n[mM]||(n[mM]=function(e){return n.handleEvent(e)}),n[mM])}function pi(){sh.call(this),this.i=new lC(this),this.P=this,this.I=null}function Ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new es(e,n);else if(e instanceof es)e.target=e.target||n;else{var i=e;QR(e=new es(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=cC(c,r,!0,e)&&i}if(i=cC(c=e.g=n,r,!0,e)&&i,i=cC(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=cC(c=e.g=t[a],r,!1,e)&&i}function cC(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,_=c.ha||c.src;c.ea&&uM(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}ki(pi,sh),pi.prototype[fv]=!0,pi.prototype.removeEventListener=function(n,e,t,r){tP(this,n,e,t,r)},pi.prototype.M=function(){if(pi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)aC(t[r]);delete n.g[e],n.h--}}this.I=null},pi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},pi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var yM=Kt.JSON.stringify;function V2(){var n=sP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vM,rP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new j2,n=>n.reset());class j2{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function H2(n){Kt.setTimeout(()=>{throw n},0)}function iP(n,e){vM||function z2(){var n=Kt.Promise.resolve(void 0);vM=function(){n.then($2)}}(),bM||(vM(),bM=!0),sP.add(n,e)}var bM=!1,sP=new class U2{constructor(){this.h=this.g=null}add(e,t){const r=rP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function $2(){for(var n;n=V2();){try{n.h.call(n.g)}catch(t){H2(t)}var e=rP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bM=!1}function uC(n,e){pi.call(this),this.h=n||1,this.g=e||Kt,this.j=Ji(this.lb,this),this.l=Date.now()}function wM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function EM(n,e,t){if("function"==typeof n)t&&(n=Ji(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ji(n.handleEvent,n)}return 2147483647<Number(e)?-1:Kt.setTimeout(n,e||0)}function oP(n){n.g=EM(()=>{n.g=null,n.i&&(n.i=!1,oP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ki(uC,pi),(Et=uC.prototype).ca=!1,Et.R=null,Et.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ri(this,"tick"),this.ca&&(wM(this),this.start()))}},Et.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){uC.X.M.call(this),wM(this),delete this.g};class G2 extends sh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oP(this)}M(){super.M(),this.g&&(Kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pv(n){sh.call(this),this.h=n,this.g={}}ki(pv,sh);var aP=[];function lP(n,e,t,r){Array.isArray(t)||(t&&(aP[0]=t.toString()),t=aP);for(var i=0;i<t.length;i++){var a=XR(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function cP(n){cM(n.g,function(e,t){this.g.hasOwnProperty(t)&&pM(e)},n),n.g={}}function dC(){this.g=!0}function mm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function K2(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return yM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}pv.prototype.M=function(){pv.X.M.call(this),cP(this)},pv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dC.prototype.Aa=function(){this.g=!1},dC.prototype.info=function(){};var Zf={},uP=null;function hC(){return uP=uP||new pi}function dP(n){es.call(this,Zf.Pa,n)}function gv(n){const e=hC();Ri(e,new dP(e))}function hP(n,e){es.call(this,Zf.STAT_EVENT,n),this.stat=e}function vs(n){const e=hC();Ri(e,new hP(e,n))}function fP(n,e){es.call(this,Zf.Qa,n),this.size=e}function mv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Kt.setTimeout(function(){n()},e)}Zf.Pa="serverreachability",ki(dP,es),Zf.STAT_EVENT="statevent",ki(hP,es),Zf.Qa="timingevent",ki(fP,es);var fC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},pP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function CM(){}function mP(){}CM.prototype.h=null;var TM,_v={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function IM(){es.call(this,"d")}function DM(){es.call(this,"c")}function pC(){}function yv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new pv(this),this.O=Y2,this.T=new uC(n=iM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _P}function _P(){this.i=null,this.g="",this.h=!1}ki(IM,es),ki(DM,es),ki(pC,CM),pC.prototype.g=function(){return new XMLHttpRequest},pC.prototype.i=function(){return{}},TM=new pC;var Y2=45e3,SM={},gC={};function MM(n,e,t){n.K=1,n.v=vC(Nu(e)),n.s=t,n.P=!0,yP(n,null)}function yP(n,e){n.F=Date.now(),vv(n),n.A=Nu(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),MP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new _P,n.g=XP(n.l,t?e:null,!n.s),0<n.N&&(n.L=new G2(Ji(n.La,n,n.g),n.N)),lP(n.S,n.g,"readystatechange",n.ib),e=n.H?KR(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),gv(),function q2(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var D=w[0];w=w[1];var x=D.split("_");c=2<=x.length&&"type"==x[1]?c+(D+"=")+w+"&":c+(D+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function vP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function bP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Q2(n,t),i==gC){4==e&&(n.o=4,vs(14),r=!1),mm(n.j,n.m,null,"[Incomplete Response]");break}if(i==SM){n.o=4,vs(15),mm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}mm(n.j,n.m,i,null),AM(n,i)}vP(n)&&i!=gC&&i!=SM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),LM(e),e.K=!0,vs(11))):(mm(n.j,n.m,t,"[Invalid Chunked Response]"),Kf(n),bv(n))}function Q2(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?gC:(t=Number(e.substring(t,r)),isNaN(t)?SM:(r+=1)+t>e.length?gC:(e=e.substr(r,t),n.C=r+t,e))}function vv(n){n.V=Date.now()+n.O,wP(n,n.O)}function wP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=mv(Ji(n.gb,n),e)}function mC(n){n.B&&(Kt.clearTimeout(n.B),n.B=null)}function bv(n){0==n.l.G||n.I||ZP(n.l,n)}function Kf(n){mC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wM(n.T),cP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function AM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||xM(t.h,n)))if(!n.J&&xM(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;DC(t),CC(t)}FM(t),vs(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=mv(Ji(t.cb,t),6e3));if(1>=OP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Qf(t,11)}else if((n.J||t.g==n)&&DC(t),!iC(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const D=w[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const x=w[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const L=w[5];null!=L&&"number"==typeof L&&0<L&&(t.J=r=1.5*L,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const q=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.h;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(OM(a,a.h),a.h=null))}if(r.D){const ne=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.za=ne,ar(r.F,r.D,ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=QP(r,r.H?r.ka:null,r.V),c.J){kP(r.h,c);var f=c,_=r.J;_&&f.setTimeout(_),f.B&&(mC(f),vv(f)),r.g=c}else qP(r);0<t.i.length&&IC(t)}else"stop"!=w[0]&&"close"!=w[0]||Qf(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Qf(t,7):NM(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}gv()}catch{}}function EP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function J2(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(nC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function X2(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(nC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Et=yv.prototype).setTimeout=function(n){this.O=n},Et.ib=function(n){n=n.target;const e=this.L;e&&3==Fu(n)?e.l():this.La(n)},Et.La=function(n){try{if(n==this.g)e:{const D=Fu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||iM||this.g&&(this.h.h||this.g.fa()||UP(this.g)))){this.I||4!=D||7==e||gv(),mC(this);var t=this.g.aa();this.Y=t;t:if(vP(this)){var r=UP(this.g);n="";var i=r.length,a=4==Fu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kf(this),bv(this);var c="";break t}this.h.i=new Kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function W2(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iC(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,vs(12),Kf(this),bv(this);break e}mm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,AM(this,t)}this.P?(bP(this,D,c),iM&&this.i&&3==D&&(lP(this.S,this.T,"tick",this.hb),this.T.start())):(mm(this.j,this.m,c,null),AM(this,c)),4==D&&Kf(this),this.i&&!this.I&&(4==D?ZP(this.l,this):(this.i=!1,vv(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,vs(12)):(this.o=0,vs(13)),Kf(this),bv(this)}}}catch{}},Et.hb=function(){if(this.g){var n=Fu(this.g),e=this.g.fa();this.C<e.length&&(mC(this),bP(this,n,e),this.i&&4!=n&&vv(this))}},Et.cancel=function(){this.I=!0,Kf(this)},Et.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Z2(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(gv(),vs(17)),Kf(this),this.o=2,bv(this)):wP(this,this.V-n)};var CP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Yf){this.h=void 0!==e?e:n.h,_C(this,n.j),this.s=n.s,this.g=n.g,yC(this,n.m),this.l=n.l,e=n.i;var t=new Cv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),IP(this,t),this.o=n.o}else n&&(t=String(n).match(CP))?(this.h=!!e,_C(this,t[1]||"",!0),this.s=wv(t[2]||""),this.g=wv(t[3]||"",!0),yC(this,t[4]),this.l=wv(t[5]||"",!0),IP(this,t[6]||"",!0),this.o=wv(t[7]||"")):(this.h=!!e,this.i=new Cv(null,this.h))}function Nu(n){return new Yf(n)}function _C(n,e,t){n.j=t?wv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function yC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function IP(n,e,t){e instanceof Cv?(n.i=e,function oU(n,e){e&&!n.j&&(oh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(TP(this,r),MP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ev(e,iU)),n.i=new Cv(e,n.h))}function ar(n,e,t){n.i.set(e,t)}function vC(n){return ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ev(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ev(e,DP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ev(e,DP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ev(t,"/"==t.charAt(0)?rU:nU,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ev(t,sU)),n.join("")};var DP=/[#\/\?@]/g,nU=/[#\?:]/g,rU=/[#\?]/g,iU=/[#\?@]/g,sU=/#/g;function Cv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function oh(n){n.g||(n.g=new Map,n.h=0,n.i&&function eU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function TP(n,e){oh(n),e=_m(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function SP(n,e){return oh(n),e=_m(n,e),n.g.has(e)}function MP(n,e,t){TP(n,e),0<t.length&&(n.i=null,n.g.set(_m(n,e),tM(t)),n.h+=t.length)}function _m(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function AP(n){this.l=n||lU,n=Kt.PerformanceNavigationTiming?0<(n=Kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Kt.g&&Kt.g.Ga&&Kt.g.Ga()&&Kt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=Cv.prototype).add=function(n,e){oh(this),this.i=null,n=_m(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Et.forEach=function(n,e){oh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Et.oa=function(){oh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Et.W=function(n){oh(this);let e=[];if("string"==typeof n)SP(this,n)&&(e=e.concat(this.g.get(_m(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Et.set=function(n,e){return oh(this),this.i=null,SP(this,n=_m(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Et.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var lU=10;function xP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OP(n){return n.h?1:n.g?n.g.size:0}function xM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function OM(n,e){n.g?n.g.add(e):n.h=e}function kP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function RP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tM(n.i)}function kM(){}function cU(){this.g=new kM}function uU(n,e,t){const r=t||"";try{EP(n,function(i,a){let c=i;dv(i)&&(c=yM(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Iv(n){this.l=n.ac||null,this.j=n.jb||!1}function wC(n,e){pi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=RM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}AP.prototype.cancel=function(){if(this.i=RP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},kM.prototype.stringify=function(n){return Kt.JSON.stringify(n,void 0)},kM.prototype.parse=function(n){return Kt.JSON.parse(n,void 0)},ki(Iv,CM),Iv.prototype.g=function(){return new wC(this.l,this.j)},Iv.prototype.i=function(n){return function(){return n}}({}),ki(wC,pi);var RM=0;function PP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Dv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Tv(n)}function Tv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=wC.prototype).open=function(n,e){if(this.readyState!=RM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Tv(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Kt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dv(this)),this.readyState=RM},Et.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Tv(this)),this.g&&(this.readyState=3,Tv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Et.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Dv(this):Tv(this),3==this.readyState&&PP(this)}},Et.Va=function(n){this.g&&(this.response=this.responseText=n,Dv(this))},Et.Ua=function(n){this.g&&(this.response=n,Dv(this))},Et.ga=function(){this.g&&Dv(this)},Et.setRequestHeader=function(n,e){this.v.append(n,e)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hU=Kt.JSON.parse;function Er(n){pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=NP,this.K=this.L=!1}ki(Er,pi);var NP="",fU=/^https?$/i,pU=["POST","PUT"];function FP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,LP(n),EC(n)}function LP(n){n.D||(n.D=!0,Ri(n,"complete"),Ri(n,"error"))}function BP(n){if(n.h&&typeof JS<"u"&&(!n.C[1]||4!=Fu(n)||2!=n.aa()))if(n.v&&4==Fu(n))EM(n.Ha,0,n);else if(Ri(n,"readystatechange"),4==Fu(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(CP)[1]||null;if(!i&&Kt.self&&Kt.self.location){var a=Kt.self.location.protocol;i=a.substr(0,a.length-1)}r=!fU.test(i?i.toLowerCase():"")}t=r}if(t)Ri(n,"complete"),Ri(n,"success");else{n.m=6;try{var c=2<Fu(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",LP(n)}}finally{EC(n)}}}function EC(n,e){if(n.g){VP(n);const t=n.g,r=n.C[0]?tC:null;n.g=null,n.C=null,e||Ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function VP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Kt.clearTimeout(n.A),n.A=null)}function Fu(n){return n.g?n.g.readyState:0}function UP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case NP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function jP(n){let e="";return cM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function PM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=jP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ar(n,e,t))}function Sv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function HP(n){this.Ca=0,this.i=[],this.j=new dC,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Sv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Sv("baseRetryDelayMs",5e3,n),this.bb=Sv("retryDelaySeedMs",1e4,n),this.$a=Sv("forwardChannelMaxRetries",2,n),this.ta=Sv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new AP(n&&n.concurrentRequestLimit),this.Fa=new cU,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function NM(n){if(zP(n),3==n.G){var e=n.U++,t=Nu(n.F);ar(t,"SID",n.I),ar(t,"RID",e),ar(t,"TYPE","terminate"),Mv(n,t),(e=new yv(n,n.j,e,void 0)).K=2,e.v=vC(Nu(t)),t=!1,Kt.navigator&&Kt.navigator.sendBeacon&&(t=Kt.navigator.sendBeacon(e.v.toString(),"")),!t&&Kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=XP(e.l,null),e.g.da(e.v)),e.F=Date.now(),vv(e)}YP(n)}function CC(n){n.g&&(LM(n),n.g.cancel(),n.g=null)}function zP(n){CC(n),n.u&&(Kt.clearTimeout(n.u),n.u=null),DC(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Kt.clearTimeout(n.m),n.m=null)}function IC(n){xP(n.h)||n.m||(n.m=!0,iP(n.Ja,n),n.C=0)}function $P(n,e){var t;t=e?e.m:n.U++;const r=Nu(n.F);ar(r,"SID",n.I),ar(r,"RID",t),ar(r,"AID",n.T),Mv(n,r),n.o&&n.s&&PM(r,n.o,n.s),t=new yv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=GP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),OM(n.h,t),MM(t,r,e)}function Mv(n,e){n.ia&&cM(n.ia,function(t,r){ar(e,r,t)}),n.l&&EP({},function(t,r){ar(e,r,t)})}function GP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ji(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const D=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{uU(D,c,"req"+w+"_")}catch{r&&r(D)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function qP(n){n.g||n.u||(n.Z=1,iP(n.Ia,n),n.A=0)}function FM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=mv(Ji(n.Ia,n),KP(n,n.A)),n.A++,0))}function LM(n){null!=n.B&&(Kt.clearTimeout(n.B),n.B=null)}function WP(n){n.g=new yv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Nu(n.sa);ar(e,"RID","rpc"),ar(e,"SID",n.I),ar(e,"CI",n.L?"0":"1"),ar(e,"AID",n.T),ar(e,"TYPE","xmlhttp"),Mv(n,e),n.o&&n.s&&PM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=vC(Nu(e)),t.s=null,t.P=!0,yP(t,n)}function DC(n){null!=n.v&&(Kt.clearTimeout(n.v),n.v=null)}function ZP(n,e){var t=null;if(n.g==e){DC(n),LM(n),n.g=null;var r=2}else{if(!xM(n.h,e))return;t=e.D,kP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ri(r=hC(),new fP(r,t)),IC(n)}else qP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function mU(n,e){return!(OP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=mv(Ji(n.Ja,n,e),KP(n,n.C)),n.C++,0)))}(n,e)||2==r&&FM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Qf(n,5);break;case 4:Qf(n,10);break;case 3:Qf(n,6);break;default:Qf(n,2)}}function KP(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Qf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ji(n.kb,n);t||(t=new Yf("//www.google.com/images/cleardot.gif"),Kt.location&&"http"==Kt.location.protocol||_C(t,"https"),vC(t)),function dU(n,e){const t=new dC;if(Kt.Image){const r=new Image;r.onload=rC(bC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rC(bC,t,r,"TestLoadImage: error",!1,e),r.onabort=rC(bC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rC(bC,t,r,"TestLoadImage: timeout",!1,e),Kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vs(2);n.G=0,n.l&&n.l.va(e),YP(n),zP(n)}function YP(n){if(n.G=0,n.la=[],n.l){const e=RP(n.h);(0!=e.length||0!=n.i.length)&&(zR(n.la,e),zR(n.la,n.i),n.h.i.length=0,tM(n.i),n.i.length=0),n.l.ua()}}function QP(n,e,t){var r=t instanceof Yf?Nu(t):new Yf(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),yC(r,r.m);else{var i=Kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Yf(null,void 0);r&&_C(a,r),e&&(a.g=e),i&&yC(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&ar(r,t,e),ar(r,"VER",n.ma),Mv(n,r),r}function XP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Er(t&&n.Da&&!n.ra?new Iv({jb:!0}):n.ra)).Ka(n.H),e}function JP(){}function TC(){if(gm&&!(10<=Number(R2)))throw Error("Environmental error: no available transport.")}function Ro(n,e){pi.call(this),this.g=new HP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!iC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!iC(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ym(this)}function e1(n){IM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function t1(){DM.call(this),this.status=1}function ym(n){this.g=n}(Et=Er.prototype).Ka=function(n){this.L=n},Et.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():TM.g(),this.C=function gP(n){return n.h||(n.h=n.i())}(this.u?this.u:TM),this.g.onreadystatechange=Ji(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void FP(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Kt.FormData&&n instanceof Kt.FormData,!(0<=HR(pU,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{VP(this),0<this.B&&((this.K=function gU(n){return gm&&function k2(){return function M2(n){var e=O2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=$R(String(oC)).split("."),t=$R("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=nM(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||nM(0==i[2].length,0==a[2].length)||nM(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ji(this.qa,this)):this.A=EM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){FP(this,a)}},Et.qa=function(){typeof JS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ri(this,"complete"),Ri(this,"abort"),EC(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),EC(this,!0)),Er.X.M.call(this)},Et.Ha=function(){this.s||(this.F||this.v||this.l?BP(this):this.fb())},Et.fb=function(){BP(this)},Et.aa=function(){try{return 2<Fu(this)?this.g.status:-1}catch{return-1}},Et.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Et.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hU(e)}},Et.Ea=function(){return this.m},Et.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=HP.prototype).ma=8,Et.G=1,Et.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new yv(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=KR(a),QR(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=GP(this,i,e),ar(t=Nu(this.F),"RID",n),ar(t,"CVER",22),this.D&&ar(t,"X-HTTP-Session-Id",this.D),Mv(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(jP(a)))+"&"+e:this.o&&PM(t,this.o,a)),OM(this.h,i),this.Ya&&ar(t,"TYPE","init"),this.O?(ar(t,"$req",e),ar(t,"SID","null"),i.Z=!0,MM(i,t,null)):MM(i,t,e),this.G=2}}else 3==this.G&&(n?$P(this,n):0==this.i.length||xP(this.h)||$P(this))},Et.Ia=function(){if(this.u=null,WP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=mv(Ji(this.eb,this),n)}},Et.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vs(10),CC(this),WP(this))},Et.cb=function(){null!=this.v&&(this.v=null,CC(this),FM(this),vs(19))},Et.kb=function(n){n?(this.j.info("Successfully pinged google.com"),vs(2)):(this.j.info("Failed to ping google.com"),vs(1))},(Et=JP.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Ra=function(){},TC.prototype.g=function(n,e){return new Ro(n,e)},ki(Ro,pi),Ro.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;vs(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=QP(n,null,n.V),IC(n)},Ro.prototype.close=function(){NM(this.g)},Ro.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=yM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&IC(e)},Ro.prototype.M=function(){this.g.l=null,delete this.j,NM(this.g),delete this.g,Ro.X.M.call(this)},ki(e1,IM),ki(t1,DM),ki(ym,JP),ym.prototype.xa=function(){Ri(this.g,"a")},ym.prototype.wa=function(n){Ri(this.g,new e1(n))},ym.prototype.va=function(n){Ri(this.g,new t1)},ym.prototype.ua=function(){Ri(this.g,"b")},TC.prototype.createWebChannel=TC.prototype.g,Ro.prototype.send=Ro.prototype.u,Ro.prototype.open=Ro.prototype.m,Ro.prototype.close=Ro.prototype.close,fC.NO_ERROR=0,fC.TIMEOUT=8,fC.HTTP_ERROR=6,pP.COMPLETE="complete",mP.EventType=_v,_v.OPEN="a",_v.CLOSE="b",_v.ERROR="c",_v.MESSAGE="d",pi.prototype.listen=pi.prototype.N,Er.prototype.listenOnce=Er.prototype.O,Er.prototype.getLastError=Er.prototype.Oa,Er.prototype.getLastErrorCode=Er.prototype.Ea,Er.prototype.getStatus=Er.prototype.aa,Er.prototype.getResponseJson=Er.prototype.Sa,Er.prototype.getResponseText=Er.prototype.fa,Er.prototype.send=Er.prototype.da,Er.prototype.setWithCredentials=Er.prototype.Ka;var _U=Pu.createWebChannelTransport=function(){return new TC},yU=Pu.getStatEventTarget=function(){return hC()},BM=Pu.ErrorCode=fC,vU=Pu.EventType=pP,bU=Pu.Event=Zf,n1=Pu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wU=Pu.FetchXmlHttpFactory=Iv,SC=Pu.WebChannel=mP,EU=Pu.XhrIo=Er;const r1="@firebase/firestore";class gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let vm="9.17.2";const ah=new ih.Yd("@firebase/firestore");function VM(){return ah.logLevel}function Fe(n,...e){if(ah.logLevel<=ih.in.DEBUG){const t=e.map(UM);ah.debug(`Firestore (${vm}): ${n}`,...t)}}function Pr(n,...e){if(ah.logLevel<=ih.in.ERROR){const t=e.map(UM);ah.error(`Firestore (${vm}): ${n}`,...t)}}function Xf(n,...e){if(ah.logLevel<=ih.in.WARN){const t=e.map(UM);ah.warn(`Firestore (${vm}): ${n}`,...t)}}function UM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${vm}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function Ct(n,e){n||lt()}function Je(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends vn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class s1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gi.UNAUTHENTICATED))}shutdown(){}}class TU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SU{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new oi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=c;e.enqueueRetryable((0,we.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new oi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new s1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new gi(e)}}class MU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ct(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class AU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new MU(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.A=t.token,new o1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function OU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class a1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function bm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function l1(n){return n+"\0"}class lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new lr(0,0))}static max(){return new Tt(new lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Av{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Av.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Av?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends Av{construct(e,t,r){return new hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const kU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends Av{construct(e,t,r){return new Cr(e,t,r)}static isValidIdentifier(e){return kU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new ke(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new ke(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new ke(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(t)}static emptyPath(){return new Cr([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(hn.fromString(e))}static fromName(e){return new Ze(hn.fromString(e).popFirst(5))}static empty(){return new Ze(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new hn(e.slice()))}}class MC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function jM(n){return n.fields.find(e=>2===e.kind)}function Jf(n){return n.fields.filter(e=>2!==e.kind)}MC.UNKNOWN_ID=-1;class AC{constructor(e,t){this.fieldPath=e,this.kind=t}}class xv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xv(0,Po.min())}}function c1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(1e9===r?new lr(t+1,0):new lr(t,r));return new Po(i,Ze.empty(),e)}function u1(n){return new Po(n.readTime,n.key,-1)}class Po{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Po(Tt.min(),Ze.empty(),-1)}static max(){return new Po(Tt.max(),Ze.empty(),-1)}}function HM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}const d1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lh(n){return zM.apply(this,arguments)}function zM(){return zM=(0,we.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==d1)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),zM.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(D=>{c[w]=D,++f,f===a&&r(c)},D=>i(D))}})}static doWhile(e,t){return new ae((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class xC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new oi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ov(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=$M(r.target.error);this.v.reject(new Ov(e,i))}}static open(e,t,r,i){try{return new xC(t,e.transaction(i,r))}catch(a){throw new Ov(t,a)}}get P(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new FU(t)}}class El{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===El.D((0,vn.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),ep(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,vn.hl)())return!1;if(El.N())return!0;const e=(0,vn.z$)(),t=El.D(e),r=0<t&&t<10,i=El.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,we.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Ov(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new ke(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ke(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ov(e,f))},a.onupgradeneeded=c=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=xC.open(a.db,e,c?"readonly":"readwrite",r),w=i(_).next(D=>(_.V(),D)).catch(D=>(_.abort(D),ae.reject(D))).toPromise();return w.catch(()=>{}),yield _.P,w}catch(_){const w=_,D="FirebaseError"!==w.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NU{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ep(this.q.delete())}}class Ov extends ke{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ch(n){return"IndexedDbTransactionError"===n.name}class FU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ep(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),ep(this.store.add(e))}get(e){return ep(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),ep(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),ep(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ae((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Z=!1;const i=this.cursor(r);return this.H(i,(a,c,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=a=>{const c=$M(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}H(e,t){const r=[];return new ae((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new NU(f),w=t(f.primaryKey,f.value,_);if(w instanceof ae){const D=w.catch(x=>(_.done(),ae.reject(x)));r.push(D)}_.isDone?i():null===_.G?f.continue():f.continue(_.G)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ep(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=$M(r.target.error);t(i)}})}let f1=!1;function $M(n){const e=El.D((0,vn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f1||(f1=!0,setTimeout(()=>{throw r},0)),r}}return n}class LU{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ch(r)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield lh(r)}yield t.nt(6e4)}))}}class BU{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return ae.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Fe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=u1(a);HM(c,r)>0&&(r=c)}),new Po(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let No=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class jU{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class uh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new uh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof uh&&e.projectId===this.projectId&&e.database===this.database}}function p1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function tp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kv(n){return null==n}function Rv(n){return 0===n&&1/n==-1/0}function m1(n){return"number"==typeof n&&Number.isInteger(n)&&!Rv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class HU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new HU("Invalid base64 string: "+i):i}}(e);return new ai(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const $U=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dh(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=$U.exec(n);if(Ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ir(n.seconds),nanos:Ir(n.nanos)}}function Ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function np(n){return"string"==typeof n?ai.fromBase64String(n):ai.fromUint8Array(n)}function qM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _1(n){const e=n.mapValue.fields.__previous_value__;return qM(e)?_1(e):e}function Pv(n){const e=dh(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}const hh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},OC={nullValue:"NULL_VALUE"};function rp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qM(n)?4:w1(n)?9007199254740991:10:lt()}function mc(n,e){if(n===e)return!0;const t=rp(n);if(t!==rp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pv(n).isEqual(Pv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=dh(r.timestampValue),c=dh(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,np(n.bytesValue).isEqual(np(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ir(r.geoPointValue.latitude)===Ir(i.geoPointValue.latitude)&&Ir(r.geoPointValue.longitude)===Ir(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ir(r.integerValue)===Ir(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ir(r.doubleValue),c=Ir(i.doubleValue);return a===c?Rv(a)===Rv(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return bm(n.arrayValue.values||[],e.arrayValue.values||[],mc);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(p1(a)!==p1(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!mc(a[f],c[f])))return!1;return!0}(n,e);default:return lt()}var i}function Nv(n,e){return void 0!==(n.values||[]).find(t=>mc(t,e))}function fh(n,e){if(n===e)return 0;const t=rp(n),r=rp(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Ir(i.integerValue||i.doubleValue),f=Ir(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return y1(n.timestampValue,e.timestampValue);case 4:return y1(Pv(n),Pv(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=np(i),f=np(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const w=Yt(c[_],f[_]);if(0!==w)return w}return Yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Yt(Ir(i.latitude),Ir(a.latitude));return 0!==c?c:Yt(Ir(i.longitude),Ir(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const w=fh(c[_],f[_]);if(w)return w}return Yt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===hh.mapValue&&a===hh.mapValue)return 0;if(i===hh.mapValue)return 1;if(a===hh.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const x=Yt(f[D],w[D]);if(0!==x)return x;const L=fh(c[f[D]],_[w[D]]);if(0!==L)return L}return Yt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw lt()}}function y1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=dh(n),r=dh(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function wm(n){return WM(n)}function WM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=dh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?np(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=WM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${WM(r.fields[f])}`;return a+"}"}(n.mapValue):lt();var e}function ip(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ZM(n){return!!n&&"integerValue"in n}function Fv(n){return!!n&&"arrayValue"in n}function v1(n){return!!n&&"nullValue"in n}function b1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kC(n){return!!n&&"mapValue"in n}function Lv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return tp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Lv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function w1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function GU(n){return"nullValue"in n?OC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ip(uh.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function qU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ip(uh.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hh:lt()}function E1(n,e){const t=fh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function C1(n,e){const t=fh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ph{constructor(e,t){this.position=e,this.inclusive=t}}function I1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Ze.comparator(Ze.fromName(c.referenceValue),t.key):fh(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function D1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mc(n.position[t],e.position[t]))return!1;return!0}class T1{}class an extends T1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new WU(e,t,r):"array-contains"===t?new YU(e,r):"in"===t?new k1(e,r):"not-in"===t?new QU(e,r):"array-contains-any"===t?new XU(e,r):new an(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ZU(e,r):new KU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fh(t,this.value)):null!==t&&rp(this.value)===rp(t)&&this.matchesComparison(fh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mn extends T1{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new Mn(e,t)}matches(e){return Em(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Em(n){return"and"===n.op}function KM(n){return"or"===n.op}function YM(n){return S1(n)&&Em(n)}function S1(n){for(const e of n.filters)if(e instanceof Mn)return!1;return!0}function QM(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+wm(n.value);if(YM(n))return n.filters.map(e=>QM(e)).join(",");{const e=n.filters.map(t=>QM(t)).join(",");return`${n.op}(${e})`}}function M1(n,e){return n instanceof an?(t=n,(r=e)instanceof an&&t.op===r.op&&t.field.isEqual(r.field)&&mc(t.value,r.value)):n instanceof Mn?function(t,r){return r instanceof Mn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&M1(a,r.filters[c]),!0)}(n,e):void lt();var t,r}function A1(n,e){const t=n.filters.concat(e);return Mn.create(t,n.op)}function x1(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${wm(e.value)}`:n instanceof Mn?function(e){return e.op.toString()+" {"+e.getFilters().map(x1).join(" ,")+"}"}(n):"Filter";var e}class WU extends an{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZU extends an{constructor(e,t){super(e,"in",t),this.keys=O1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class KU extends an{constructor(e,t){super(e,"not-in",t),this.keys=O1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class YU extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fv(t)&&Nv(t.arrayValue,this.value)}}class k1 extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nv(this.value.arrayValue,t)}}class QU extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nv(this.value.arrayValue,t)}}class XU extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nv(this.value.arrayValue,r))}}class Cm{constructor(e,t="asc"){this.field=e,this.dir=t}}function JU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Dr{constructor(e,t){this.comparator=e,this.root=t||Pi.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new RC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new RC(this.root,e,this.comparator,!1)}getReverseIterator(){return new RC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new RC(this.root,e,this.comparator,!0)}}class RC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Pi.RED,this.left=i??Pi.EMPTY,this.right=a??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Pi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Pi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Pi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R1(this.data.getIterator())}getIteratorFrom(e){return new R1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class R1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Im(n){return n.hasNext()?n.getNext():void 0}class Zs{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new Zs([])}unionWith(e){let t=new Nn(Cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lv(t)}setAll(e){let t=Cr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Lv(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());kC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){tp(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new mi(Lv(this.value))}}function P1(n){const e=[];return tp(n.fields,(t,r)=>{const i=new Cr([t]);if(kC(r)){const a=P1(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Zs(e)}class Xn{constructor(e,t,r,i,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Xn(e,0,Tt.min(),Tt.min(),Tt.min(),mi.empty(),0)}static newFoundDocument(e,t,r,i){return new Xn(e,1,t,Tt.min(),r,i,0)}static newNoDocument(e,t){return new Xn(e,2,t,Tt.min(),Tt.min(),mi.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Tt.min(),Tt.min(),mi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ej{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this._t=null}}function XM(n,e=null,t=[],r=[],i=null,a=null,c=null){return new ej(n,e,t,r,i,a,c)}function sp(n){const e=Je(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>QM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),kv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wm(r)).join(",")),e._t=t}return e._t}function Bv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!M1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!D1(n.startAt,e.startAt)&&D1(n.endAt,e.endAt)}function PC(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function NC(n,e){return n.filters.filter(t=>t instanceof an&&t.field.isEqual(e))}function N1(n,e,t){let r=OC,i=!0;for(const a of NC(n,e)){let c=OC,f=!0;switch(a.op){case"<":case"<=":c=GU(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=OC}E1({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];E1({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function F1(n,e,t){let r=hh,i=!0;for(const a of NC(n,e)){let c=hh,f=!0;switch(a.op){case">=":case">":c=qU(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=hh}C1({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];C1({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Lu{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.wt=null,this.gt=null}}function L1(n,e,t,r,i,a,c,f){return new Lu(n,e,t,r,i,a,c,f)}function Dm(n){return new Lu(n)}function B1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function JM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function FC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function eA(n){return null!==n.collectionGroup}function op(n){const e=Je(n);if(null===e.wt){e.wt=[];const t=FC(e),r=JM(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Cm(t)),e.wt.push(new Cm(Cr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Cm(Cr.keyField(),a))}}}return e.wt}function bs(n){const e=Je(n);if(!e.gt)if("F"===e.limitType)e.gt=XM(e.path,e.collectionGroup,op(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of op(e))t.push(new Cm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ph(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ph(e.startAt.position,e.startAt.inclusive):null;e.gt=XM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.gt}function tA(n,e){e.getFirstInequalityField(),FC(n);const t=n.filters.concat([e]);return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function LC(n,e,t){return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vv(n,e){return Bv(bs(n),bs(e))&&n.limitType===e.limitType}function V1(n){return`${sp(bs(n))}|lt:${n.limitType}`}function nA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>x1(r)).join(", ")}]`),kv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wm(r)).join(",")),`Target(${t})`}(bs(n))}; limitType=${n.limitType})`}function Uv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of op(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=I1(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,op(t),r)||t.endAt&&!function(i,a,c){const f=I1(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,op(t),r)));var t,r}function U1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function j1(n){return(e,t)=>{let r=!1;for(const i of op(n)){const a=tj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function tj(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?fh(f,_):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}function H1(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rv(e)?"-0":e}}function z1(n){return{integerValue:""+n}}function $1(n,e){return m1(e)?z1(e):H1(n,e)}class BC{constructor(){this._=void 0}}function nj(n,e,t){return n instanceof Tm?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof ap?q1(n,e):n instanceof lp?W1(n,e):function(r,i){const a=G1(r,i),c=Z1(a)+Z1(r.It);return ZM(a)&&ZM(r.It)?z1(c):H1(r.Tt,c)}(n,e)}function rj(n,e,t){return n instanceof ap?q1(n,e):n instanceof lp?W1(n,e):t}function G1(n,e){return n instanceof Sm?ZM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Tm extends BC{}class ap extends BC{constructor(e){super(),this.elements=e}}function q1(n,e){const t=K1(e);for(const r of n.elements)t.some(i=>mc(i,r))||t.push(r);return{arrayValue:{values:t}}}class lp extends BC{constructor(e){super(),this.elements=e}}function W1(n,e){let t=K1(e);for(const r of n.elements)t=t.filter(i=>!mc(i,r));return{arrayValue:{values:t}}}class Sm extends BC{constructor(e,t){super(),this.Tt=e,this.It=t}}function Z1(n){return Ir(n.integerValue||n.doubleValue)}function K1(n){return Fv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jv{constructor(e,t){this.field=e,this.transform=t}}class sj{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function VC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class UC{}function Y1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Am(n.key,cr.none()):new Mm(n.key,n.data,cr.none());{const t=n.data,r=mi.empty();let i=new Nn(Cr.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Bu(n.key,r,new Zs(i.toArray()),cr.none())}}function oj(n,e,t){n instanceof Mm?function(r,i,a){const c=r.value.clone(),f=J1(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Bu?function(r,i,a){if(!VC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=J1(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(X1(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hv(n,e,t,r){return n instanceof Mm?function(i,a,c,f){if(!VC(i.precondition,a))return c;const _=i.value.clone(),w=eN(i.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Bu?function(i,a,c,f){if(!VC(i.precondition,a))return c;const _=eN(i.fieldTransforms,f,a),w=a.data;return w.setAll(X1(i)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(c=t,VC(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function aj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=G1(r.transform,i||null);null!=a&&(null===t&&(t=mi.empty()),t.set(r.field,a))}return t||null}function Q1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&bm(t,r,(i,a)=>function ij(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ap&&r instanceof ap||t instanceof lp&&r instanceof lp?bm(t.elements,r.elements,mc):t instanceof Sm&&r instanceof Sm?mc(t.It,r.It):t instanceof Tm&&r instanceof Tm);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Mm extends UC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bu extends UC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function X1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function J1(n,e,t){const r=new Map;Ct(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,rj(c,f,t[i]))}return r}function eN(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,nj(a,c,e))}return r}class Am extends UC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rA extends UC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lj{constructor(e){this.count=e}}var Wr,fn;function tN(n){switch(n){default:return lt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function nN(n){if(void 0===n)return Pr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Wr.OK:return le.OK;case Wr.CANCELLED:return le.CANCELLED;case Wr.UNKNOWN:return le.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return le.INTERNAL;case Wr.UNAVAILABLE:return le.UNAVAILABLE;case Wr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Wr.NOT_FOUND:return le.NOT_FOUND;case Wr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Wr.ABORTED:return le.ABORTED;case Wr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Wr.DATA_LOSS:return le.DATA_LOSS;default:return lt()}}(fn=Wr||(Wr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class gh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tp(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}const cj=new Dr(Ze.comparator);function Ks(){return cj}const rN=new Dr(Ze.comparator);function zv(...n){let e=rN;for(const t of n)e=e.insert(t.key,t);return e}function iN(n){let e=rN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _c(){return $v()}function sN(){return $v()}function $v(){return new gh(n=>n.toString(),(n,e)=>n.isEqual(e))}const uj=new Dr(Ze.comparator),dj=new Nn(Ze.comparator);function Xt(...n){let e=dj;for(const t of n)e=e.add(t);return e}const hj=new Nn(Yt);function jC(){return hj}class Gv{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,qv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gv(Tt.min(),i,jC(),Ks(),Xt())}}class qv{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qv(r,t,Xt(),Xt(),Xt())}}class HC{constructor(e,t,r,i){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=i}}class oN{constructor(e,t){this.targetId=e,this.Rt=t}}class aN{constructor(e,t,r=ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class lN{constructor(){this.bt=0,this.vt=uN(),this.Pt=ai.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=Xt(),t=Xt(),r=Xt();return this.vt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new qv(this.Pt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=uN()}Ot(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class fj{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Ks(),this.Kt=cN(),this.Gt=new Nn(Yt)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,i)=>{this.Jt(i)&&t(i)})}Zt(e){const t=e.targetId,r=e.Rt.count,i=this.Xt(t);if(i){const a=i.target;if(PC(a))if(0===r){const c=new Ze(a.path);this.zt(t,c,Xn.newNoDocument(c,Tt.min()))}else Ct(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((a,c)=>{const f=this.Xt(c);if(f){if(a.current&&PC(f.target)){const _=new Ze(f.target.path);null!==this.Ut.get(_)||this.ne(c,_)||this.zt(c,_,Xn.newNoDocument(_,e))}a.Ct&&(t.set(c,a.Nt()),a.kt())}});let r=Xt();this.Kt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const w=this.Xt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const i=new Gv(e,t,this.Gt,this.Ut,r);return this.Ut=Ks(),this.Kt=cN(),this.Gt=new Nn(Yt),i}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,t)?i.Ot(t,1):i.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let t=this.qt.get(e);return t||(t=new lN,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new Nn(Yt),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new lN),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function cN(){return new Dr(Ze.comparator)}function uN(){return new Dr(Ze.comparator)}const pj={asc:"ASCENDING",desc:"DESCENDING"},gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mj={and:"AND",or:"OR"};class _j{constructor(e,t){this.databaseId=e,this.yt=t}}function xm(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dN(n,e){return n.yt?e.toBase64():e.toUint8Array()}function yj(n,e){return xm(n,e.toTimestamp())}function Nr(n){return Ct(!!n),Tt.fromTimestamp(function(e){const t=dh(e);return new lr(t.seconds,t.nanos)}(n))}function iA(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hN(n){const e=hn.fromString(n);return Ct(wN(e)),e}function Wv(n,e){return iA(n.databaseId,e.path)}function yc(n,e){const t=hN(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(pN(t))}function sA(n,e){return iA(n.databaseId,e)}function fN(n){const e=hN(n);return 4===e.length?hn.emptyPath():pN(e)}function Zv(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pN(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function gN(n,e,t){return{name:Wv(n,e),fields:t.value.mapValue.fields}}function mN(n,e,t){const r=yc(n,e.name),i=Nr(e.updateTime),a=e.createTime?Nr(e.createTime):Tt.min(),c=new mi({mapValue:{fields:e.fields}}),f=Xn.newFoundDocument(r,i,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Kv(n,e){let t;if(e instanceof Mm)t={update:gN(n,e.key,e.value)};else if(e instanceof Am)t={delete:Wv(n,e.key)};else if(e instanceof Bu)t={update:gN(n,e.key,e.data),updateMask:Tj(e.fieldMask)};else{if(!(e instanceof rA))return lt();t={verify:Wv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Tm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ap)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof lp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sm)return{fieldPath:a.field.canonicalString(),increment:c.It};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:yj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:lt()),t;var i}function oA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?cr.updateTime(Nr(i.updateTime)):void 0!==i.exists?cr.exists(i.exists):cr.none():cr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(Ct("REQUEST_TIME"===c.setToServerValue),f=new Tm):"appendMissingElements"in c?f=new ap(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new lp(c.removeAllFromArray.values||[]):"increment"in c?f=new Sm(a,c.increment):lt();const _=Cr.fromServerFormat(c.fieldPath);return new jv(_,f)}(n,i)):[];var i;if(e.update){const i=yc(n,e.update.name),a=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Zs((e.updateMask.fieldPaths||[]).map(w=>Cr.fromServerFormat(w)));return new Bu(i,a,c,t,r)}return new Mm(i,a,t,r)}if(e.delete){const i=yc(n,e.delete);return new Am(i,t)}if(e.verify){const i=yc(n,e.verify);return new rA(i,t)}return lt()}function _N(n,e){return{documents:[sA(n,e.path)]}}function aA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=sA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return bN(Mn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:mh((D=w).field),direction:Cj(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(w=e.limit,n.yt||kv(w)?w:{value:w});var w,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function yN(n){let e=fN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ct(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const x=vN(D);return x instanceof Mn&&YM(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new Cm(Om((x=D).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(D){let x;return x="object"==typeof D?D.value:D,kv(x)?null:x}(t.limit));let _=null;var D;t.startAt&&(_=new ph((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new ph(D.values||[],!D.before)}(t.endAt)),L1(e,i,c,a,f,"F",_,w)}function vN(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Om(e.unaryFilter.field);return an.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Om(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Om(e.unaryFilter.field);return an.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Om(e.unaryFilter.field);return an.create(a,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(n):void 0!==n.fieldFilter?an.create(Om((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Mn.create(e.compositeFilter.filters.map(t=>vN(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return lt()}}(e.compositeFilter.op))}(n):lt();var e}function Cj(n){return pj[n]}function Ij(n){return gj[n]}function Dj(n){return mj[n]}function mh(n){return{fieldPath:n.canonicalString()}}function Om(n){return Cr.fromServerFormat(n.fieldPath)}function bN(n){return n instanceof an?function(e){if("=="===e.op){if(b1(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NAN"}};if(v1(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(b1(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NOT_NAN"}};if(v1(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mh(e.field),op:Ij(e.op),value:e.value}}}(n):n instanceof Mn?function(e){const t=e.getFilters().map(r=>bN(r));return 1===t.length?t[0]:{compositeFilter:{op:Dj(e.op),filters:t}}}(n):lt()}function Tj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ws(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EN(e)),e=Sj(n.get(t),e);return EN(e)}function Sj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function EN(n){return n+"\x01\x01"}function vc(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&lt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:lt()}a=c+2}return new hn(r)}const CN=["userId","batchId"];function zC(n,e){return[n,ws(e)]}function IN(n,e,t){return[n,ws(e),t]}const Mj={},Aj=["prefixPath","collectionGroup","readTime","documentId"],xj=["prefixPath","collectionGroup","documentId"],Oj=["collectionGroup","readTime","prefixPath","documentId"],kj=["canonicalId","targetId"],Rj=["targetId","path"],Pj=["path","targetId"],Nj=["collectionId","parent"],Fj=["indexId","uid"],Lj=["uid","sequenceNumber"],Bj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vj=["indexId","uid","orderedDocumentKey"],Uj=["userId","collectionPath","documentId"],jj=["userId","collectionPath","largestBatchId"],Hj=["userId","collectionGroup","largestBatchId"],DN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zj=[...DN,"documentOverlays"],TN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SN=TN,$j=[...SN,"indexConfiguration","indexState","indexEntries"];class lA extends h1{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function _i(n,e){const t=Je(n);return El.M(t.re,e)}class cA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&oj(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sN();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const _=Y1(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&bm(this.mutations,e.mutations,(t,r)=>Q1(t,r))&&bm(this.baseMutations,e.baseMutations,(t,r)=>Q1(t,r))}}class uA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ct(e.mutations.length===r.length);let i=uj;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new uA(e,t,r,i)}}class dA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _h{constructor(e,t,r,i,a=Tt.min(),c=Tt.min(),f=ai.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new _h(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _h(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class MN{constructor(e){this.oe=e}}function AN(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$C(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Wv(i=n.oe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:xm(i,a.version.toTimestamp()),createTime:xm(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:cp(e.version)};else{if(!e.isUnknownDocument())return lt();r.unknownDocument={path:t.path.toArray(),version:cp(e.version)}}var i,a;return r}function $C(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function cp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function up(n){const e=new lr(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function dp(n,e){const t=(e.baseMutations||[]).map(a=>oA(n.oe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>oA(n.oe,a)),i=lr.fromMillis(e.localWriteTimeMs);return new cA(e.batchId,i,t,r)}function Yv(n){const e=up(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?up(n.lastLimboFreeSnapshotVersion):Tt.min();let r;var i;return void 0!==n.query.documents?(Ct(1===(i=n.query).documents.length),r=bs(Dm(fN(i.documents[0])))):r=bs(yN(n.query)),new _h(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ai.fromBase64String(n.resumeToken))}function xN(n,e){const t=cp(e.snapshotVersion),r=cp(e.lastLimboFreeSnapshotVersion);let i;i=PC(e.target)?_N(n.oe,e.target):aA(n.oe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:sp(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function hA(n){const e=yN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?LC(e,e.limit,"L"):e}function fA(n,e){return new dA(e.largestBatchId,oA(n.oe,e.overlayMutation))}function ON(n,e){const t=e.path.lastSegment();return[n,ws(e.path.popLast()),t]}function kN(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:cp(r.readTime),documentKey:ws(r.documentKey.path),largestBatchId:r.largestBatchId}}class qj{getBundleMetadata(e,t){return RN(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:up(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return RN(e).put({bundleId:(r=t).id,createTime:cp(Nr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return PN(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:hA(i.bundledQuery),readTime:up(i.readTime)};var i})}saveNamedQuery(e,t){return PN(e).put({name:(r=t).name,readTime:cp(Nr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function RN(n){return _i(n,"bundles")}function PN(n){return _i(n,"namedQueries")}class GC{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new GC(e,t.uid||"")}getOverlay(e,t){return Qv(e).get(ON(this.userId,t)).next(r=>r?fA(this.Tt,r):null)}getOverlays(e,t){const r=_c();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new dA(t,c);i.push(this.ce(e,f))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ws(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Qv(e).Y("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,r){const i=_c(),a=ws(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Qv(e).W("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const w=fA(this.Tt,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=_c();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qv(e).X({index:"collectionGroupOverlayIndex",range:f},(_,w,D)=>{const x=fA(this.Tt,w);a.size()<i||x.largestBatchId===c?(a.set(x.getKey(),x),c=x.largestBatchId):D.done()}).next(()=>a)}ce(e,t){return Qv(e).put(function(r,i,a){const[c,f,_]=ON(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Kv(r.oe,a.mutation)}}(this.Tt,this.userId,t))}}function Qv(n){return _i(n,"documentOverlays")}class hp{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Ir(e.integerValue));else if("doubleValue"in e){const r=Ir(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),Rv(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(np(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?w1(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):lt()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const i of r)this.he(i,t)}ye(e,t){this.fe(t,37),Ze.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function Wj(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function NN(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Wj(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}hp.Ee=new hp;class Zj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.be()}ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.Ve()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=t.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.be()}De(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.Ve()}Ce(e){const t=this.xe(e),r=NN(t);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}ke(e){const t=this.xe(e),r=NN(t);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}$e(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Kj{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.Oe()}}class Yj{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Fe()}}class Xv{constructor(){this.Le=new Zj,this.qe=new Kj(this.Le),this.Ue=new Yj(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class fp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fp(this.indexId,this.documentKey,this.arrayValue,r)}}function yh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=FN(n.arrayValue,e.arrayValue),0!==t?t:(t=FN(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function FN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Qj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const r=t;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){Ct(e.collectionGroup===this.collectionId);const t=jM(e);if(void 0!==t&&!this.He(t))return!1;const r=Jf(e);let i=0,a=0;for(;i<r.length&&this.He(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.ze){const c=r[i];if(!this.Je(this.ze,c)||!this.Ye(this.Qe[a++],c))return!1;++i}for(;i<r.length;++i)if(a>=this.Qe.length||!this.Ye(this.Qe[a++],r[i]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function LN(n){var e,t;if(Ct(n instanceof an||n instanceof Mn),n instanceof an){if(n instanceof k1){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>an.create(n.field,"==",a)))||[];return Mn.create(i,"or")}return n}const r=n.filters.map(i=>LN(i));return Mn.create(r,n.op)}function Xj(n){if(0===n.getFilters().length)return[];const e=mA(LN(n));return Ct(BN(e)),pA(e)||gA(e)?[e]:e.getFilters()}function pA(n){return n instanceof an}function gA(n){return n instanceof Mn&&YM(n)}function BN(n){return pA(n)||gA(n)||function(e){if(e instanceof Mn&&KM(e)){for(const t of e.getFilters())if(!pA(t)&&!gA(t))return!1;return!0}return!1}(n)}function mA(n){if(Ct(n instanceof an||n instanceof Mn),n instanceof an)return n;if(1===n.filters.length)return mA(n.filters[0]);const e=n.filters.map(r=>mA(r));let t=Mn.create(e,n.op);return t=qC(t),BN(t)?t:(Ct(t instanceof Mn),Ct(Em(t)),Ct(t.filters.length>1),t.filters.reduce((r,i)=>_A(r,i)))}function _A(n,e){let t;return Ct(n instanceof an||n instanceof Mn),Ct(e instanceof an||e instanceof Mn),t=n instanceof an?e instanceof an?Mn.create([n,e],"and"):VN(n,e):e instanceof an?VN(e,n):function(r,i){if(Ct(r.filters.length>0&&i.filters.length>0),Em(r)&&Em(i))return A1(r,i.getFilters());const a=KM(r)?r:i,c=KM(r)?i:r,f=a.filters.map(_=>_A(_,c));return Mn.create(f,"or")}(n,e),qC(t)}function VN(n,e){if(Em(e))return A1(e,n.getFilters());{const t=e.filters.map(r=>_A(n,r));return Mn.create(t,"or")}}function qC(n){if(Ct(n instanceof an||n instanceof Mn),n instanceof an)return n;const e=n.getFilters();if(1===e.length)return qC(e[0]);if(S1(n))return n;const t=e.map(i=>qC(i)),r=[];return t.forEach(i=>{i instanceof an?r.push(i):i instanceof Mn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Mn.create(r,n.op)}class Jj{constructor(){this.Ze=new yA}addToCollectionParentIndex(e,t){return this.Ze.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Po.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class yA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nn(hn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nn(hn.comparator)).toArray()}}const WC=new Uint8Array(0);class eH{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new yA,this.tn=new gh(r=>sp(r),(r,i)=>Bv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:ws(i)};return UN(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[l1(t),""],!1,!0);return UN(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(vc(c.parent))}return r})}addFieldIndex(e,t){const r=ZC(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=eb(e);return a.next(f=>{c.put(kN(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=ZC(e),i=eb(e),a=Jv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Jv(e);let i=!0;const a=new Map;return ae.forEach(this.en(t),c=>this.nn(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=Xt();const f=[];return ae.forEach(a,(_,w)=>{var D;Fe("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${sp(t)}`);const x=function(gt,ht){const kt=jM(ht);if(void 0===kt)return null;for(const Vt of NC(gt,kt.fieldPath))switch(Vt.op){case"array-contains-any":return Vt.value.arrayValue.values||[];case"array-contains":return[Vt.value]}return null}(w,_),L=function(gt,ht){const kt=new Map;for(const Vt of Jf(ht))for(const cn of NC(gt,Vt.fieldPath))switch(cn.op){case"==":case"in":kt.set(Vt.fieldPath.canonicalString(),cn.value);break;case"not-in":case"!=":return kt.set(Vt.fieldPath.canonicalString(),cn.value),Array.from(kt.values())}return null}(w,_),G=function(gt,ht){const kt=[];let Vt=!0;for(const cn of Jf(ht)){const Ds=0===cn.kind?N1(gt,cn.fieldPath,gt.startAt):F1(gt,cn.fieldPath,gt.startAt);kt.push(Ds.value),Vt&&(Vt=Ds.inclusive)}return new ph(kt,Vt)}(w,_),q=function(gt,ht){const kt=[];let Vt=!0;for(const cn of Jf(ht)){const Ds=0===cn.kind?F1(gt,cn.fieldPath,gt.endAt):N1(gt,cn.fieldPath,gt.endAt);kt.push(Ds.value),Vt&&(Vt=Ds.inclusive)}return new ph(kt,Vt)}(w,_),ne=this.sn(_,w,G),be=this.sn(_,w,q),et=this.rn(_,w,L),dt=this.on(_.indexId,x,ne,G.inclusive,be,q.inclusive,et);return ae.forEach(dt,gt=>r.J(gt,t.limit).next(ht=>{ht.forEach(kt=>{const Vt=Ze.fromSegments(kt.documentKey);c.has(Vt)||(c=c.add(Vt),f.push(Vt))})}))}).next(()=>f)}return ae.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:Xj(Mn.create(e.filters,"and")).map(r=>XM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),D=[];for(let x=0;x<_;++x){const L=t?this.un(t[x/w]):WC,G=this.cn(e,L,r[x%w],i),q=this.an(e,L,a[x%w],c),ne=f.map(be=>this.cn(e,L,be,!0));D.push(...this.createRange(G,q,ne))}return D}cn(e,t,r,i){const a=new fp(e,Ze.empty(),t,r);return i?a:a.Ge()}an(e,t,r,i){const a=new fp(e,Ze.empty(),t,r);return i?a.Ge():a}nn(e,t){const r=new Qj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.We(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.en(t);return ae.forEach(i,a=>this.nn(e,a).next(c=>{c?0!==r&&c.fields.length<function(f){let _=new Nn(Cr.comparator),w=!1;for(const D of f.filters)for(const x of D.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?w=!0:_=_.add(x.field));for(const D of f.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}hn(e,t){const r=new Xv;for(const i of Jf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ke(i.kind);hp.Ee.ae(a,c)}return r.Be()}un(e){const t=new Xv;return hp.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const r=new Xv;return hp.Ee.ae(ip(this.databaseId,t),r.Ke(function(i){const a=Jf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Be()}rn(e,t,r){if(null===r)return[];let i=[];i.push(new Xv);let a=0;for(const c of Jf(e)){const f=r[a++];for(const _ of i)if(this.fn(t,c.fieldPath)&&Fv(f))i=this.dn(i,c,f);else{const w=_.Ke(c.kind);hp.Ee.ae(f,w)}}return this._n(i)}sn(e,t,r){return this.rn(e,t,r.position)}_n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Be();return t}dn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new Xv;_.seed(f.Be()),hp.Ee.ae(c,_.Ke(t.kind)),a.push(_)}return a}fn(e,t){return!!e.filters.find(r=>r instanceof an&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ZC(e),i=eb(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return ae.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(w,D){const x=D?new xv(D.sequenceNumber,new Po(up(D.readTime),new Ze(vc(D.documentKey)),D.largestBatchId)):xv.empty(),L=w.fields.map(([G,q])=>new AC(Cr.fromServerFormat(G),q));return new MC(w.indexId,w.collectionGroup,L,x)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ZC(e),a=eb(e);return this.wn(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,_=>a.put(kN(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ae.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ae.forEach(f,_=>this.mn(e,i,_).next(w=>{const D=this.gn(a,_);return w.isEqual(D)?ae.resolve():this.yn(e,a,_,w,D)}))))})}pn(e,t,r,i){return Jv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.ln(r,t.key),documentKey:t.key.path.toArray()})}In(e,t,r,i){return Jv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.ln(r,t.key),t.key.path.toArray()])}mn(e,t,r){const i=Jv(e);let a=new Nn(yh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,t)])},(c,f)=>{a=a.add(new fp(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}gn(e,t){let r=new Nn(yh);const i=this.hn(t,e);if(null==i)return r;const a=jM(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Fv(c))for(const f of c.arrayValue.values||[])r=r.add(new fp(t.indexId,e.key,this.un(f),i))}else r=r.add(new fp(t.indexId,e.key,WC,i));return r}yn(e,t,r,i,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,w,D,x){const L=f.getIterator(),G=_.getIterator();let q=Im(L),ne=Im(G);for(;q||ne;){let be=!1,et=!1;if(q&&ne){const dt=w(q,ne);dt<0?et=!0:dt>0&&(be=!0)}else null!=q?et=!0:be=!0;be?(D(ne),ne=Im(G)):et?(x(q),q=Im(L)):(q=Im(L),ne=Im(G))}}(i,a,yh,f=>{c.push(this.pn(e,t,r,f))},f=>{c.push(this.In(e,t,r,f))}),ae.waitFor(c)}wn(e){let t=1;return eb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>yh(c,f)).filter((c,f,_)=>!f||0!==yh(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=yh(c,e),_=yh(c,t);if(0===f)i[0]=e.Ge();else if(f>0&&_<0)i.push(c),i.push(c.Ge());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.Tn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,WC,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,WC,[]]))}return a}Tn(e,t){return yh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jN)}getMinOffset(e,t){return ae.mapArray(this.en(t),r=>this.nn(e,r).next(i=>i||lt())).next(jN)}}function UN(n){return _i(n,"collectionParents")}function Jv(n){return _i(n,"indexEntries")}function ZC(n){return _i(n,"indexConfiguration")}function eb(n){return _i(n,"indexState")}function jN(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;HM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Po(e.readTime,e.documentKey,t)}const HN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ys{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ys(e,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zN(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.X({range:c},(D,x,L)=>(f++,L.delete()));a.push(_.next(()=>{Ct(1===f)}));const w=[];for(const D of t.mutations){const x=IN(e,D.key.path,t.batchId);a.push(i.delete(x)),w.push(D.key)}return ae.waitFor(a).next(()=>w)}function KC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class YC{constructor(e,t,r,i){this.userId=e,this.Tt=t,this.indexManager=r,this.referenceDelegate=i,this.En={}}static ue(e,t,r,i){Ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new YC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vh(e).X({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=km(e),c=vh(e);return c.add({}).next(f=>{Ct("number"==typeof f);const _=new cA(f,t,r,i),w=function(L,G,q){const ne=q.baseMutations.map(et=>Kv(L.oe,et)),be=q.mutations.map(et=>Kv(L.oe,et));return{userId:G,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ne,mutations:be}}(this.Tt,this.userId,_),D=[];let x=new Nn((L,G)=>Yt(L.canonicalString(),G.canonicalString()));for(const L of i){const G=IN(this.userId,L.key.path,f);x=x.add(L.key.path.popLast()),D.push(c.put(w)),D.push(a.put(G,Mj))}return x.forEach(L=>{D.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.En[f]=_.keys()}),ae.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return vh(e).get(t).next(r=>r?(Ct(r.userId===this.userId),dp(this.Tt,r)):null)}An(e,t){return this.En[t]?ae.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.En[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return vh(e).X({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(Ct(f.batchId>=r),a=dp(this.Tt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vh(e).W("userMutationsIndex",t).next(r=>r.map(i=>dp(this.Tt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return km(e).X({range:i},(c,f,_)=>{const[w,D,x]=c,L=vc(D);if(w===this.userId&&t.path.isEqual(L))return vh(e).get(x).next(G=>{if(!G)throw lt();Ct(G.userId===this.userId),a.push(dp(this.Tt,G))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(Yt);const i=[];return t.forEach(a=>{const c=zC(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=km(e).X({range:f},(w,D,x)=>{const[L,G,q]=w,ne=vc(G);L===this.userId&&a.path.isEqual(ne)?r=r.add(q):x.done()});i.push(_)}),ae.waitFor(i).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=zC(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new Nn(Yt);return km(e).X({range:c},(_,w,D)=>{const[x,L,G]=_,q=vc(L);x===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(G)):D.done()}).next(()=>this.Rn(e,f))}Rn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(vh(e).get(a).next(c=>{if(null===c)throw lt();Ct(c.userId===this.userId),r.push(dp(this.Tt,c))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return zN(e.re,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.bn(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}bn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return km(e).X({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=vc(a[1]);i.push(_)}else f.done()}).next(()=>{Ct(0===i.length)})})}containsKey(e,t){return $N(e,this.userId,t)}vn(e){return GN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $N(n,e,t){const r=zC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return km(n).X({range:a,Z:!0},(f,_,w)=>{const[D,x,L]=f;D===e&&x===i&&(c=!0),w.done()}).next(()=>c)}function vh(n){return _i(n,"mutations")}function km(n){return _i(n,"documentMutations")}function GN(n){return _i(n,"mutationQueues")}class pp{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new pp(0)}static Sn(){return new pp(-1)}}class tH{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const r=new pp(t.highestTargetId);return t.highestTargetId=r.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Tt.fromTimestamp(new lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Dn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Cn(e,i)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(t,r),this.Cn(e,r))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rm(e).delete(t.targetId)).next(()=>this.Dn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Rm(e).X((c,f)=>{const _=Yv(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ae.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Rm(e).X((r,i)=>{const a=Yv(i);t(a)})}Dn(e){return qN(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}Cn(e,t){return qN(e).put("targetGlobalKey",t)}xn(e,t){return Rm(e).put(xN(this.Tt,t))}Nn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=sp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Rm(e).X({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const w=Yv(f);Bv(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=bh(e);return t.forEach(c=>{const f=ws(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=bh(e);return ae.forEach(t,a=>{const c=ws(a.path);return ae.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=bh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=bh(e);let a=Xt();return i.X({range:r,Z:!0},(c,f,_)=>{const w=vc(c[1]),D=new Ze(w);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=ws(t.path),i=IDBKeyRange.bound([r],[l1(r)],!1,!0);let a=0;return bh(e).X({index:"documentTargetsIndex",Z:!0,range:i},([c,f],_,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}ie(e,t){return Rm(e).get(t).next(r=>r?Yv(r):null)}}function Rm(n){return _i(n,"targets")}function qN(n){return _i(n,"targetGlobal")}function bh(n){return _i(n,"targetDocuments")}function WN([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class nH{constructor(e){this.kn=e,this.buffer=new Nn(WN),this.On=0}Mn(){return++this.On}Fn(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();WN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rH{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.$n=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return null!==this.$n}Bn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.$n=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ch(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield lh(r)}yield t.Bn(3e5)}))}}class iH{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(No.at);const r=new nH(t);return this.Ln.forEachTarget(e,i=>r.Fn(i.sequenceNumber)).next(()=>this.Ln.Un(e,i=>r.Fn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Ln.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(HN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HN):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let r,i,a,c,f,_,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),VM()<=ih.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-D}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class sH{constructor(e,t){this.db=e,this.garbageCollector=new iH(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Gn(e){let t=0;return this.Un(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(r,i)=>t(i))}addReference(e,t,r){return QC(e,r)}removeReference(e,t,r){return QC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return QC(e,t)}jn(e,t){return function(r,i){let a=!1;return GN(r).tt(c=>$N(r,c,i).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Qn(e,(c,f)=>{if(f<=t){const _=this.jn(e,c).next(w=>{if(!w)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Tt.min()),bh(e).delete([0,ws(c.path)])))});i.push(_)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return QC(e,t)}Qn(e,t){const r=bh(e);let i,a=No.at;return r.X({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:w})=>{0===c?(a!==No.at&&t(new Ze(vc(i)),a),a=w,i=_):a=No.at}).next(()=>{a!==No.at&&t(new Ze(vc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function QC(n,e){return bh(n).put((r=n.currentSequenceNumber,{targetId:0,path:ws(e.path),sequenceNumber:r}));var r}class ZN{constructor(){this.changes=new gh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oH{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return gp(e).put(r)}removeEntry(e,t,r){return gp(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],$C(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.zn(e,r)))}getEntry(e,t){let r=Xn.newInvalidDocument(t);return gp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tb(t))},(i,a)=>{r=this.Wn(t,a)}).next(()=>r)}Hn(e,t){let r={size:0,document:Xn.newInvalidDocument(t)};return gp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tb(t))},(i,a)=>{r={document:this.Wn(t,a),size:KC(a)}}).next(()=>r)}getEntries(e,t){let r=Ks();return this.Jn(e,t,(i,a)=>{const c=this.Wn(i,a);r=r.insert(i,c)}).next(()=>r)}Yn(e,t){let r=Ks(),i=new Dr(Ze.comparator);return this.Jn(e,t,(a,c)=>{const f=this.Wn(a,c);r=r.insert(a,f),i=i.insert(a,KC(c))}).next(()=>({documents:r,Zn:i}))}Jn(e,t,r){if(t.isEmpty())return ae.resolve();let i=new Nn(XN);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(tb(i.first()),tb(i.last())),c=i.getIterator();let f=c.getNext();return gp(e).X({index:"documentKeyIndex",range:a},(_,w,D)=>{const x=Ze.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&XN(f,x)<0;)r(f,null),f=c.getNext();f&&f.isEqual(x)&&(r(f,w),f=c.hasNext()?c.getNext():null),f?D.j(tb(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),$C(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gp(e).W(IDBKeyRange.bound(c,f,!0)).next(_=>{let w=Ks();for(const D of _){const x=this.Wn(Ze.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);x.isFoundDocument()&&(Uv(t,x)||i.has(x.key))&&(w=w.insert(x.key,x))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=Ks();const c=QN(t,r),f=QN(t,Po.max());return gp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,w,D)=>{const x=this.Wn(Ze.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(x.key,x),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new aH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return YN(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}zn(e,t){return YN(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const r=function Gj(n,e){let t;if(e.document)t=mN(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ze.fromSegments(e.noDocument.path),i=up(e.noDocument.readTime);t=Xn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const r=Ze.fromSegments(e.unknownDocument.path),i=up(e.unknownDocument.version);t=Xn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new lr(r[0],r[1]);return Tt.fromTimestamp(i)}(e.readTime)),t}(this.Tt,t);if(!r.isNoDocument()||!r.version.isEqual(Tt.min()))return r}return Xn.newInvalidDocument(e)}}function KN(n){return new oH(n)}class aH extends ZN{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new gh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Nn((a,c)=>Yt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.ts.get(a);if(t.push(this.Xn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=AN(this.Xn.Tt,c);i=i.add(a.path.popLast());const w=KC(_);r+=w-f.size,t.push(this.Xn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=AN(this.Xn.Tt,c.convertToNoDocument(Tt.min()));t.push(this.Xn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Xn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(r=>(this.ts.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:r,Zn:i})=>(i.forEach((a,c)=>{this.ts.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function YN(n){return _i(n,"remoteDocumentGlobal")}function gp(n){return _i(n,"remoteDocumentsV14")}function tb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QN(n,e){const t=e.documentKey.path.toArray();return[n,$C(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function XN(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Yt(t[a],r[a]),i)return i;return i=Yt(t.length,r.length),i||(i=Yt(t[t.length-2],r[r.length-2]),i||Yt(t[t.length-1],r[r.length-1]))}class lH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class JN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Hv(r.mutation,i,Zs.empty(),lr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Xt()){const i=_c();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=zv();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=_c();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Xt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=Ks();const c=$v(),f=$v();return t.forEach((_,w)=>{const D=r.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof Bu)?a=a.insert(w.key,w):void 0!==D?(c.set(w.key,D.mutation.getFieldMask()),Hv(D.mutation,w,D.mutation.getFieldMask(),lr.now())):c.set(w.key,Zs.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,D)=>c.set(w,D)),t.forEach((w,D)=>{var x;return f.set(w,new lH(D,null!==(x=c.get(w))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=$v();let i=new Dr((c,f)=>c-f),a=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let D=r.get(_)||Zs.empty();D=f.applyToLocalView(w,D),r.set(_,D);const x=(i.get(f.batchId)||Xt()).add(_);i=i.insert(f.batchId,x)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,D=_.value,x=sN();D.forEach(L=>{if(!a.has(L)){const G=Y1(t.get(L),r.get(L));null!==G&&x.set(L,G),a=a.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,x))}return ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):eA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ae.resolve(_c());let f=-1,_=a;return c.next(w=>ae.forEach(w,(D,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(D)?ae.resolve():this.remoteDocumentCache.getEntry(e,D).next(L=>{_=_.insert(D,L)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Xt())).next(D=>({batchId:f,changes:iN(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let i=zv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=zv();return this.indexManager.getCollectionParents(e,i).next(c=>ae.forEach(c,f=>{const _=(w=t,D=f.child(i),new Lu(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((D,x)=>{a=a.insert(D,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,Xn.newInvalidDocument(w)))});let c=zv();return a.forEach((f,_)=>{const w=i.get(f);void 0!==w&&Hv(w.mutation,_,Zs.empty(),lr.now()),Uv(t,_)&&(c=c.insert(f,_))}),c})}}class cH{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return ae.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:Nr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:hA(r.bundledQuery),readTime:Nr(r.readTime)}),ae.resolve();var r}}class uH{constructor(){this.overlays=new Dr(Ze.comparator),this.ss=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_c();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ce(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ss.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ss.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=_c(),a=t.length+1,c=new Ze(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Dr((w,D)=>w-D);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let D=a.get(w.largestBatchId);null===D&&(D=_c(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=_c(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=i)););return ae.resolve(f)}ce(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new dA(t,r));let a=this.ss.get(t);void 0===a&&(a=Xt(),this.ss.set(t,a)),this.ss.set(t,a.add(r.key))}}class vA{constructor(){this.rs=new Nn(yi.os),this.us=new Nn(yi.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new yi(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new yi(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new Ze(new hn([])),r=new yi(t,e),i=new yi(t,e+1),a=[];return this.us.forEachInRange([r,i],c=>{this.ls(c),a.push(c.key)}),a}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new Ze(new hn([])),r=new yi(t,e),i=new yi(t,e+1);let a=Xt();return this.us.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new yi(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class yi{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return Ze.comparator(e.key,t.key)||Yt(e.gs,t.gs)}static cs(e,t){return Yt(e.gs,t.gs)||Ze.comparator(e.key,t.key)}}class dH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new Nn(yi.os)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ys;this.ys++;const c=new cA(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.ps=this.ps.add(new yi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ts(t+1),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yi(t,0),i=new yi(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],c=>{const f=this.Is(c.gs);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(Yt);return t.forEach(i=>{const a=new yi(i,0),c=new yi(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([a,c],f=>{r=r.add(f.gs)})}),ae.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ze.isDocumentKey(a)||(a=a.child(""));const c=new yi(new Ze(a),0);let f=new Nn(Yt);return this.ps.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.gs)),!0)},c),ae.resolve(this.Es(f))}Es(e){const t=[];return e.forEach(r=>{const i=this.Is(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ct(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return ae.forEach(t.mutations,i=>{const a=new yi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}bn(e){}containsKey(e,t){const r=new yi(t,0),i=this.ps.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hH{constructor(e){this.Rs=e,this.docs=new Dr(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=Ks();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ks();const c=t.path,f=new Ze(c.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:D}}=_.getNext();if(!c.isPrefixOf(w.path))break;w.path.length>c.length+1||HM(u1(D),r)<=0||(i.has(D.key)||Uv(t,D))&&(a=a.insert(D.key,D.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,r,i){lt()}bs(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fH(this)}getSize(e){return ae.resolve(this.size)}}class fH extends ZN{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class pH{constructor(e){this.persistence=e,this.vs=new gh(t=>sp(t),Bv),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new vA,this.targetCount=0,this.Ss=pp.Vn()}forEachTarget(e,t){return this.vs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ps&&(this.Ps=t),ae.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new pp(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.xn(t),ae.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.vs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.vs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Vs.containsKey(t))}}class eF{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new No(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new pH(this),this.indexManager=new Jj,this.remoteDocumentCache=new hH(r=>this.referenceDelegate.ks(r)),this.Tt=new MN(t),this.Os=new cH(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new dH(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new gH(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(a=>this.referenceDelegate.Fs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}$s(e,t){return ae.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class gH extends h1{constructor(e){super(),this.currentSequenceNumber=e}}class XC{constructor(e){this.persistence=e,this.Bs=new vA,this.Ls=null}static qs(e){return new XC(e)}get Us(){if(this.Ls)return this.Ls;throw lt()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Us.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Fs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Us,r=>{const i=Ze.fromPath(r);return this.Ks(e,i).next(a=>{a||t.removeEntry(i,Tt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return ae.or([()=>ae.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.$s(e,t)])}}class mH{constructor(e){this.Tt=e}$(e,t,r,i){const a=new xC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CN,{unique:!0}),f.createObjectStore("documentMutations"),tF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),tF(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CN,{unique:!0});const D=_.store("mutations"),x=w.map(L=>D.put(L));return ae.waitFor(x)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Gs(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(a)))),r<7&&i>=7&&(c=c.next(()=>this.js(a))),r<8&&i>=8&&(c=c.next(()=>this.zs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Ws(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:Uj});_.createIndex("collectionPathOverlayIndex",jj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Hj,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Aj});_.createIndex("documentKeyIndex",xj),_.createIndex("collectionGroupIndex",Oj)}(e)).next(()=>this.Hs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Js(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Fj}).createIndex("sequenceNumberIndex",Lj,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Bj}).createIndex("documentKeyIndex",Vj,{unique:!1})}(e))),c}Qs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=KC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ae.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(f=>ae.forEach(f,_=>{Ct(_.userId===a.userId);const w=dp(this.Tt,_);return zN(e,a.userId,w).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((c,f)=>{const _=new hn(c),w=[0,ws(_)];a.push(t.get(w).next(D=>D?ae.resolve():t.put({targetId:0,path:ws(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:Nj});const r=t.store("collectionParents"),i=new yA,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:ws(_)})}};return t.store("remoteDocuments").X({Z:!0},(c,f)=>{const _=new hn(c);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([c,f,_],w)=>{const D=vc(f);return a(D.popLast())}))}Ws(e){const t=e.store("targets");return t.X((r,i)=>{const a=Yv(i),c=xN(this.Tt,a);return t.put(c)})}Hs(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(w=c,w.document?new Ze(hn.fromString(w.document.name).popFirst(5)):w.noDocument?Ze.fromSegments(w.noDocument.path):w.unknownDocument?Ze.fromSegments(w.unknownDocument.path):lt()).path.toArray();var w;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(D))}).next(()=>ae.waitFor(i))}Js(e,t){const r=t.store("mutations"),i=KN(this.Tt),a=new eF(XC.qs,this.Tt.oe);return r.W().next(c=>{const f=new Map;return c.forEach(_=>{var w;let D=null!==(w=f.get(_.userId))&&void 0!==w?w:Xt();dp(this.Tt,_).keys().forEach(x=>D=D.add(x)),f.set(_.userId,D)}),ae.forEach(f,(_,w)=>{const D=new gi(w),x=GC.ue(this.Tt,D),L=a.getIndexManager(D),G=YC.ue(D,this.Tt,L,a.referenceDelegate);return new JN(i,G,x,L).recalculateAndSaveOverlaysForDocumentKeys(new lA(t,No.at),_).next()})})}}function tF(n){n.createObjectStore("targetDocuments",{keyPath:Rj}).createIndex("documentTargetsIndex",Pj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kj,{unique:!0}),n.createObjectStore("targetGlobal")}const bA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wA{constructor(e,t,r,i,a,c,f,_,w,D,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ys=a,this.window=c,this.document=f,this.Zs=w,this.Xs=D,this.ti=x,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=L=>Promise.resolve(),!wA.C())throw new ke(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sH(this,i),this.oi=t+"main",this.Tt=new MN(_),this.ui=new El(this.oi,this.ti,new mH(this.Tt)),this.Ns=new tH(this.referenceDelegate,this.Tt),this.remoteDocumentCache=KN(this.Tt),this.Os=new qj,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===D&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(le.FAILED_PRECONDITION,bA);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new No(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>JC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(ch(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return nb(e).get("owner").next(t=>ae.resolve(this.yi(t)))}pi(e){return JC(e).delete(this.clientId)}Ii(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=_i(r,"clientMetadata");return i.W().next(a=>{const c=e.Ei(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return ae.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ci)for(const r of t)e.ci.removeItem(e.Ai(r.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?ae.resolve(!0):nb(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new ke(le.FAILED_PRECONDITION,bA);return!1}}return!(!this.networkEnabled||!this.inForeground)||JC(e).W().next(r=>void 0===this.Ei(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.xs=!1,e.bi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.Pi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new lA(t,No.at);return e.mi(r).next(()=>e.pi(r))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(r=>this.Ti(r.updateTimeMs,t)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>JC(e).W().next(t=>this.Ei(t,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return YC.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eH(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return GC.ue(this.Tt,e)}getBundleCache(){return this.Os}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.ti)?$j:14===c?SN:13===c?TN:12===c?zj:11===c?DN:void lt();var c;let f;return this.ui.runTransaction(e,i,a,_=>(f=new lA(_,this.Cs?this.Cs.next():No.at),"readwrite-primary"===t?this._i(f).next(w=>!!w||this.wi(f)).next(w=>{if(!w)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new ke(le.FAILED_PRECONDITION,d1);return r(f)}).next(w=>this.gi(f).next(()=>w)):this.Di(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Di(e){return nb(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(le.FAILED_PRECONDITION,bA)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nb(e).put("owner",t)}static C(){return El.C()}mi(e){const t=nb(e);return t.get("owner").next(r=>this.yi(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Ti(e,t){const r=Date.now();return!(e<r-t||e>r&&(Pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.bi(),(0,vn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const r=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nb(n){return _i(n,"owner")}function JC(n){return _i(n,"clientMetadata")}function EA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class CA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=i}static Ni(e,t){let r=Xt(),i=Xt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new CA(e,t.fromCache,r,i)}}class nF{constructor(){this.ki=!1}initialize(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Mi(e,t).next(a=>a||this.Fi(e,t,i,r)).next(a=>a||this.$i(e,t))}Mi(e,t){if(B1(t))return ae.resolve(null);let r=bs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=LC(t,null,"F"),r=bs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Xt(...a);return this.Oi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.Bi(t,f);return this.Li(t,w,c,_.readTime)?this.Mi(e,LC(t,null,"F")):this.qi(e,w,t,_)}))})))}Fi(e,t,r,i){return B1(t)||i.isEqual(Tt.min())?this.$i(e,t):this.Oi.getDocuments(e,r).next(a=>{const c=this.Bi(t,a);return this.Li(t,c,r,i)?this.$i(e,t):(VM()<=ih.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nA(t)),this.qi(e,c,t,c1(i,-1)))})}Bi(e,t){let r=new Nn(j1(e));return t.forEach((i,a)=>{Uv(e,a)&&(r=r.add(a))}),r}Li(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}$i(e,t){return VM()<=ih.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",nA(t)),this.Oi.getDocumentsMatchingQuery(e,t,Po.min())}qi(e,t,r,i){return this.Oi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class _H{constructor(e,t,r,i){this.persistence=e,this.Ui=t,this.Tt=i,this.Ki=new Dr(Yt),this.Gi=new gh(a=>sp(a),Bv),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JN(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function rF(n,e,t,r){return new _H(n,e,t,r)}function iF(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,we.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=Xt();for(const w of i){c.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}for(const w of a){f.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(r,_).next(w=>({Wi:w,removedBatchIds:c,addedBatchIds:f}))})})}),IA.apply(this,arguments)}function sF(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function oF(n,e,t){let r=Xt(),i=Xt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=Ks();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Hi:c,Ji:i}})}function bH(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pm(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ns.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):t.Ns.allocateTargetId(r).next(c=>(i=new _h(e,c,0,r.currentSequenceNumber),t.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ki.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}function Nm(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,we.Z)(function*(n,e,t){const r=Je(n),i=r.Ki.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!ch(c))throw c;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}),DA.apply(this,arguments)}function eI(n,e,t){const r=Je(n);let i=Tt.min(),a=Xt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,w){const D=Je(f),x=D.Gi.get(w);return void 0!==x?ae.resolve(D.Ki.get(x)):D.Ns.getTargetData(_,w)}(r,c,bs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.Ui.getDocumentsMatchingQuery(c,e,t?i:Tt.min(),t?a:Xt())).next(f=>(cF(r,U1(e),f),{documents:f,Yi:a})))}function aF(n,e){const t=Je(n),r=Je(t.Ns),i=t.Ki.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ie(a,e).next(c=>c?c.target:null))}function lF(n,e){const t=Je(n),r=t.Qi.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ji.getAllFromCollectionGroup(i,e,c1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(cF(t,e,i),i))}function cF(n,e,t){let r=n.Qi.get(e)||Tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Qi.set(e,r)}function TA(){return TA=(0,we.Z)(function*(n,e,t,r){const i=Je(n);let a=Xt(),c=Ks();for(const w of t){const D=e.Zi(w.metadata.name);w.document&&(a=a.add(D));const x=e.Xi(w);x.setReadTime(e.tr(w.metadata.readTime)),c=c.insert(D,x)}const f=i.ji.newChangeBuffer({trackRemovals:!0}),_=yield Pm(i,(w=r,bs(Dm(hn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>oF(w,f,c).next(D=>(f.apply(w),D)).next(D=>i.Ns.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Ns.addMatchingKeys(w,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.Hi,D.Ji)).next(()=>D.Hi)))}),TA.apply(this,arguments)}function EH(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,we.Z)(function*(n,e,t=Xt()){const r=yield Pm(n,bs(hA(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Nr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Os.saveNamedQuery(a,e);const f=r.withResumeToken(ai.EMPTY_BYTE_STRING,c);return i.Ki=i.Ki.insert(f.targetId,f),i.Ns.updateTargetData(a,f).next(()=>i.Ns.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Ns.addMatchingKeys(a,t,r.targetId)).next(()=>i.Os.saveNamedQuery(a,e))})}),SA.apply(this,arguments)}function uF(n,e){return`firestore_clients_${n}_${e}`}function dF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function MA(n,e){return`firestore_targets_${n}_${e}`}class tI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static er(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new ke(i.error.code,i.error.message))),c?new tI(e,t,i.state,a):(Pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static er(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new ke(r.error.code,r.error.message))),a?new rb(e,r.state,i):(Pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=jC();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=m1(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new nI(e,a):(Pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AA{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AA(t.clientId,t.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xA{constructor(){this.activeTargetIds=jC()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OA{constructor(e,t,r,i,a){this.window=e,this.Ys=t,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Dr(Yt),this.started=!1,this.hr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=uF(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new xA),this._r=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Si();for(const i of t){if(i===e.rr)continue;const a=e.getItem(uF(e.persistenceKey,i));if(a){const c=nI.er(i,a);c&&(e.ar=e.ar.insert(c.clientId,c))}}e.pr();const r=e.storage.getItem(e.gr);if(r){const i=e.Ir(r);i&&e.Tr(i)}for(const i of e.hr)e.cr(i);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,r){this.Ar(e,t,r),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(MA(this.persistenceKey,e));if(r){const i=rb.er(e,r);i&&(t=i.state)}}return this.br.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.br.ir(e),this.pr()}isLocalQueryTarget(e){return this.br.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(MA(this.persistenceKey,e))}updateQueryState(e,t,r){this.vr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Rr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.lr)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t._r.test(r.key)){if(null==r.newValue){const i=t.Sr(r.key);return t.Dr(i,null)}{const i=t.Cr(r.key,r.newValue);if(i)return t.Dr(i.clientId,i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(t.mr.test(r.key)){if(null!==r.newValue){const i=t.Or(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.gr){if(null!==r.newValue){const i=t.Ir(r.newValue);if(i)return t.Tr(i)}}else if(r.key===t.dr){const i=function(a){let c=No.at;if(null!=a)try{const f=JSON.parse(a);Ct("number"==typeof f),c=f}catch(f){Pr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==No.at&&t.sequenceNumberHandler(i)}else if(r.key===t.yr){const i=t.Fr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.$r(a)))}}else t.hr.push(r)}))}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(e,t,r){const i=new tI(this.currentUser,e,t,r),a=dF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.nr())}Rr(e){const t=dF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,r){const i=MA(this.persistenceKey,e),a=new rb(e,t,r);this.setItem(i,a.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const r=this.Sr(e);return nI.er(r,t)}Nr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return tI.er(new gi(void 0!==r[2]?r[2]:null),i,t)}Or(e,t){const r=this.mr.exec(e),i=Number(r[1]);return rb.er(i,t)}Ir(e){return AA.er(e)}Fr(e){return JSON.parse(e)}kr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.qr(c,f).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=jC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class hF{constructor(){this.Ur=new xA,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new xA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CH{Gr(e){}shutdown(){}}class fF{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const IH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DH{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class TH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,i,a){const c=this.fo(e,t);Fe("RestConnection","Sending: ",c,r);const f={};return this._o(f,i,a),this.wo(e,c,f,r).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw Xf("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}mo(e,t,r,i,a,c){return this.lo(e,t,r,i,a)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}fo(e,t){return`${this.co}/v1/${t}:${IH[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,i){return new Promise((a,c)=>{const f=new EU;f.setWithCredentials(!0),f.listenOnce(vU.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case BM.NO_ERROR:const w=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(w)),a(w);break;case BM.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),c(new ke(le.DEADLINE_EXCEEDED,"Request time out"));break;case BM.HTTP_ERROR:const D=f.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x?.error;if(L&&L.status&&L.message){const G=function(q){const ne=q.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ne)>=0?ne:le.UNKNOWN}(L.status);c(new ke(G,L.message))}else c(new ke(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ke(le.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}yo(e,t,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_U(),c=yU(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new wU({})),this._o(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=i.join("");Fe("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let D=!1,x=!1;const L=new DH({Yr:q=>{x?Fe("Connection","Not sending because WebChannel is closed:",q):(D||(Fe("Connection","Opening WebChannel transport."),w.open(),D=!0),Fe("Connection","WebChannel sending:",q),w.send(q))},Zr:()=>w.close()}),G=(q,ne,be)=>{q.listen(ne,et=>{try{be(et)}catch(dt){setTimeout(()=>{throw dt},0)}})};return G(w,SC.EventType.OPEN,()=>{x||Fe("Connection","WebChannel transport opened.")}),G(w,SC.EventType.CLOSE,()=>{x||(x=!0,Fe("Connection","WebChannel transport closed"),L.oo())}),G(w,SC.EventType.ERROR,q=>{x||(x=!0,Xf("Connection","WebChannel transport errored:",q),L.oo(new ke(le.UNAVAILABLE,"The operation could not be completed")))}),G(w,SC.EventType.MESSAGE,q=>{var ne;if(!x){const be=q.data[0];Ct(!!be);const dt=be.error||(null===(ne=be[0])||void 0===ne?void 0:ne.error);if(dt){Fe("Connection","WebChannel received error:",dt);const gt=dt.status;let ht=function(Vt){const cn=Wr[Vt];if(void 0!==cn)return nN(cn)}(gt),kt=dt.message;void 0===ht&&(ht=le.INTERNAL,kt="Unknown error status: "+gt+" with message "+dt.message),x=!0,L.oo(new ke(ht,kt)),w.close()}else Fe("Connection","WebChannel received:",be),L.uo(be)}}),G(c,bU.STAT_EVENT,q=>{q.stat===n1.PROXY?Fe("Connection","Detected buffering proxy"):q.stat===n1.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.ro()},0),L}}function pF(){return typeof window<"u"?window:null}function rI(){return typeof document<"u"?document:null}function ib(n){return new _j(n,!0)}class kA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class gF{constructor(e,t,r,i,a,c,f,_){this.Ys=e,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new kA(e,t)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return(0,we.Z)(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,we.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),r.ko.bo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===t&&this.jo(r,i)},r=>{e(()=>{const i=new ke(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){var e=this;this.state=5,this.ko.vo((0,we.Z)(function*(){e.state=0,e.start()}))}zo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SH extends gF{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.Tt=a}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function bj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:lt(),i=e.targetChange.targetIds||[],a=function(_,w){return _.yt?(Ct(void 0===w||"string"==typeof w),ai.fromBase64String(w||"")):(Ct(void 0===w||w instanceof Uint8Array),ai.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const w=void 0===_.code?le.UNKNOWN:nN(_.code);return new ke(w,_.message||"")}(c);t=new aN(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=yc(n,r.document.name),a=Nr(r.document.updateTime),c=r.document.createTime?Nr(r.document.createTime):Tt.min(),f=new mi({mapValue:{fields:r.document.fields}}),_=Xn.newFoundDocument(i,a,c,f);t=new HC(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=yc(n,r.document),a=r.readTime?Nr(r.readTime):Tt.min(),c=Xn.newNoDocument(i,a);t=new HC([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=yc(n,r.document);t=new HC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return lt();{const r=e.filter,a=new lj(r.count||0);t=new oN(r.targetId,a)}}var _;return t}(this.Tt,e),r=function(i){if(!("targetChange"in i))return Tt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Tt.min():a.readTime?Nr(a.readTime):Tt.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=Zv(this.Tt),t.addTarget=function(i,a){let c;const f=a.target;return c=PC(f)?{documents:_N(i,f)}:{query:aA(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=dN(i,a.resumeToken):a.snapshotVersion.compareTo(Tt.min())>0&&(c.readTime=xm(i,a.snapshotVersion.toTimestamp())),c}(this.Tt,e);const r=function Ej(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=Zv(this.Tt),t.removeTarget=e,this.qo(t)}}class MH extends gF{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.Tt=a,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function wj(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,i){let a=Nr(r.updateTime?r.updateTime:i);return a.isEqual(Tt.min())&&(a=Nr(i)),new sj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.eu(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Zv(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Kv(this.Tt,r))};this.qo(t)}}class AH extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new ke(le.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.lo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(le.UNKNOWN,i.toString())})}mo(e,t,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.mo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(le.UNKNOWN,a.toString())})}terminate(){this.iu=!0}}class OH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Pr(t),this.cu=!1):Fe("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class kH{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr(f=>{r.enqueueAndForget((0,we.Z)(function*(){var _;Vu(c)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(w){const D=Je(w);D.mu.add(4),yield Fm(D),D.pu.set("Unknown"),D.mu.delete(4),yield sb(D)}),function(w){return _.apply(this,arguments)})(c))}))}),this.pu=new OH(r,i)}}function sb(n){return PA.apply(this,arguments)}function PA(){return PA=(0,we.Z)(function*(n){if(Vu(n))for(const e of n.gu)yield e(!0)}),PA.apply(this,arguments)}function Fm(n){return NA.apply(this,arguments)}function NA(){return NA=(0,we.Z)(function*(n){for(const e of n.gu)yield e(!1)}),NA.apply(this,arguments)}function iI(n,e){const t=Je(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),BA(t)?LA(t):Bm(t).Mo()&&FA(t,e))}function ob(n,e){const t=Je(n),r=Bm(t);t.wu.delete(e),r.Mo()&&mF(t,e),0===t.wu.size&&(r.Mo()?r.Bo():Vu(t)&&t.pu.set("Unknown"))}function FA(n,e){n.Iu.Ft(e.targetId),Bm(n).Jo(e)}function mF(n,e){n.Iu.Ft(e),Bm(n).Yo(e)}function LA(n){n.Iu=new fj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),Bm(n).start(),n.pu.au()}function BA(n){return Vu(n)&&!Bm(n).Oo()&&n.wu.size>0}function Vu(n){return 0===Je(n).mu.size}function _F(n){n.Iu=void 0}function RH(n){return VA.apply(this,arguments)}function VA(){return VA=(0,we.Z)(function*(n){n.wu.forEach((e,t)=>{FA(n,e)})}),VA.apply(this,arguments)}function PH(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,we.Z)(function*(n,e){_F(n),BA(n)?(n.pu.fu(e),LA(n)):n.pu.set("Unknown")}),UA.apply(this,arguments)}function NH(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,we.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof aN&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.wu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.wu.delete(f),i.Iu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sI(n,r)}else if(e instanceof HC?n.Iu.Qt(e):e instanceof oN?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(Tt.min()))try{const r=yield sF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.Iu.ee(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.wu.get(_);w&&i.wu.set(_,w.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.wu.get(f);if(!_)return;i.wu.set(f,_.withResumeToken(ai.EMPTY_BYTE_STRING,_.snapshotVersion)),mF(i,f);const w=new _h(_.target,f,1,_.sequenceNumber);FA(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield sI(n,r)}var r}),jA.apply(this,arguments)}function sI(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,we.Z)(function*(n,e,t){if(!ch(e))throw e;n.mu.add(1),yield Fm(n),n.pu.set("Offline"),t||(t=()=>sF(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield sb(n)}))}),HA.apply(this,arguments)}function yF(n,e){return e().catch(t=>sI(n,t,e))}function Lm(n){return zA.apply(this,arguments)}function zA(){return zA=(0,we.Z)(function*(n){const e=Je(n),t=wh(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;FH(e);)try{const i=yield bH(e.localStore,r);if(null===i){0===e._u.length&&t.Bo();break}r=i.batchId,LH(e,i)}catch(i){yield sI(e,i)}vF(e)&&bF(e)}),zA.apply(this,arguments)}function FH(n){return Vu(n)&&n._u.length<10}function LH(n,e){n._u.push(e);const t=wh(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function vF(n){return Vu(n)&&!wh(n).Oo()&&n._u.length>0}function bF(n){wh(n).start()}function BH(n){return $A.apply(this,arguments)}function $A(){return $A=(0,we.Z)(function*(n){wh(n).su()}),$A.apply(this,arguments)}function VH(n){return GA.apply(this,arguments)}function GA(){return GA=(0,we.Z)(function*(n){const e=wh(n);for(const t of n._u)e.tu(t.mutations)}),GA.apply(this,arguments)}function UH(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=(0,we.Z)(function*(n,e,t){const r=n._u.shift(),i=uA.from(r,e,t);yield yF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lm(n)}),qA.apply(this,arguments)}function jH(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,we.Z)(function*(n,e){var t;e&&wh(n).Xo&&(yield(t=(0,we.Z)(function*(r,i){if(tN(a=i.code)&&a!==le.ABORTED){const c=r._u.shift();wh(r).$o(),yield yF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Lm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),vF(n)&&bF(n)}),WA.apply(this,arguments)}function wF(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,we.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Vu(t);t.mu.add(3),yield Fm(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield sb(t)}),ZA.apply(this,arguments)}function KA(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,we.Z)(function*(n,e){const t=Je(n);e?(t.mu.delete(2),yield sb(t)):e||(t.mu.add(2),yield Fm(t),t.pu.set("Unknown"))}),YA.apply(this,arguments)}function Bm(n){return n.Tu||(n.Tu=function(e,t,r){const i=Je(e);return i.ru(),new SH(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:RH.bind(null,n),no:PH.bind(null,n),Ho:NH.bind(null,n)}),n.gu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Tu.$o(),BA(n)?LA(n):n.pu.set("Unknown")):(yield n.Tu.stop(),_F(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function wh(n){return n.Eu||(n.Eu=function(e,t,r){const i=Je(e);return i.ru(),new MH(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:BH.bind(null,n),no:jH.bind(null,n),nu:VH.bind(null,n),eu:UH.bind(null,n)}),n.gu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Eu.$o(),yield Lm(n)):(yield n.Eu.stop(),n._u.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class QA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new QA(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),ch(n))return new ke(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Um{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=zv(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new Um(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Um)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Um;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class EF{constructor(){this.Au=new Dr(Ze.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):lt():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class jm{constructor(e,t,r,i,a,c,f,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new jm(e,t,Um.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class HH{constructor(){this.bu=void 0,this.listeners=[]}}class zH{constructor(){this.queries=new gh(e=>V1(e),Vv),this.onlineState="Unknown",this.vu=new Set}}function XA(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,we.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new HH),i)try{a.bu=yield t.onListen(r)}catch(c){const f=Vm(c,`Initialization of query '${nA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.bu&&e.Vu(a.bu)&&nx(t)}),JA.apply(this,arguments)}function ex(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),tx.apply(this,arguments)}function $H(n,e){const t=Je(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Vu(i)&&(r=!0);c.bu=i}}r&&nx(t)}function GH(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function nx(n){n.vu.forEach(e=>{e.next()})}class rx{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new jm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.Ou||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=jm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class qH{constructor(e,t){this.Mu=e,this.byteLength=t}Fu(){return"metadata"in this.Mu}}class CF{constructor(e){this.Tt=e}Zi(e){return yc(this.Tt,e)}Xi(e){return e.metadata.exists?mN(this.Tt,e.document,!1):Xn.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return Nr(e)}}class WH{constructor(e,t,r){this.$u=e,this.localStore=t,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=IF(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const r=hn.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,r=new CF(this.Tt);for(const i of e)if(i.metadata.queries){const a=r.Zi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Xt()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function wH(n,e,t,r){return TA.apply(this,arguments)}(e.localStore,new CF(e.Tt),e.documents,e.$u.id),r=e.Lu(e.documents);for(const i of e.queries)yield EH(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function IF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class DF{constructor(e){this.key=e}}class TF{constructor(e){this.key=e}}class SF{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Xt(),this.mutatedKeys=Xt(),this.ju=j1(e),this.zu=new Um(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new EF,i=t?t.zu:this.zu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,x)=>{const L=i.get(D),G=Uv(this.query,x)?x:null,q=!!L&&this.mutatedKeys.has(L.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let be=!1;L&&G?L.data.isEqual(G.data)?q!==ne&&(r.track({type:3,doc:G}),be=!0):this.Yu(L,G)||(r.track({type:2,doc:G}),be=!0,(_&&this.ju(G,_)>0||w&&this.ju(G,w)<0)&&(f=!0)):!L&&G?(r.track({type:0,doc:G}),be=!0):L&&!G&&(r.track({type:1,doc:L}),be=!0,(_||w)&&(f=!0)),be&&(G?(c=c.add(G),a=ne?a.add(D):a.delete(D)):(c=c.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{zu:c,Ju:r,Li:f,mutatedKeys:a}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const a=e.Ju.Ru();a.sort((w,D)=>function(x,L){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return G(x)-G(L)}(w.type,D.type)||this.ju(w.doc,D.doc)),this.Zu(r);const c=t?this.Xu():[],f=0===this.Qu.size&&this.current?1:0,_=f!==this.Gu;return this.Gu=f,0!==a.length||_?{snapshot:new jm(this.query,e.zu,i,a,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:c}:{tc:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new EF,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Xt(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new TF(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new DF(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=Xt();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return jm.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class ZH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class KH{constructor(e){this.key=e,this.ic=!1}}class YH{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.rc={},this.oc=new gh(f=>V1(f),Vv),this.uc=new Map,this.cc=new Set,this.ac=new Dr(Ze.comparator),this.hc=new Map,this.lc=new vA,this.fc={},this.dc=new Map,this._c=pp.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function QH(n,e){return ix.apply(this,arguments)}function ix(){return ix=(0,we.Z)(function*(n,e){const t=Sx(n);let r,i;const a=t.oc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.sc();else{const c=yield Pm(t.localStore,bs(e));t.isPrimaryClient&&iI(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield sx(t,e,r,"current"===f,c.resumeToken)}return i}),ix.apply(this,arguments)}function sx(n,e,t,r,i){return ox.apply(this,arguments)}function ox(){return ox=(0,we.Z)(function*(n,e,t,r,i){n.mc=(x,L,G)=>{return(q=(0,we.Z)(function*(ne,be,et,dt){let gt=be.view.Hu(et);gt.Li&&(gt=yield eI(ne.localStore,be.query,!1).then(({documents:Vt})=>be.view.Hu(Vt,gt)));const ht=dt&&dt.targetChanges.get(be.targetId),kt=be.view.applyChanges(gt,ne.isPrimaryClient,ht);return mx(ne,be.targetId,kt.tc),kt.snapshot}),function(ne,be,et,dt){return q.apply(this,arguments)})(n,x,L,G);var q};const a=yield eI(n.localStore,e,!0),c=new SF(e,a.Yi),f=c.Hu(a.documents),_=qv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=c.applyChanges(f,n.isPrimaryClient,_);mx(n,t,w.tc);const D=new ZH(e,t,c);return n.oc.set(e,D),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),w.snapshot}),ox.apply(this,arguments)}function XH(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,we.Z)(function*(n,e){const t=Je(n),r=t.oc.get(e),i=t.uc.get(r.targetId);if(i.length>1)return t.uc.set(r.targetId,i.filter(a=>!Vv(a,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ob(t.remoteStore,r.targetId),Hm(t,r.targetId)}).catch(lh))):(Hm(t,r.targetId),yield Nm(t.localStore,r.targetId,!0))}),ax.apply(this,arguments)}function lx(){return lx=(0,we.Z)(function*(n,e,t){const r=Mx(n);try{const i=yield function(a,c){const f=Je(a),_=lr.now(),w=c.reduce((L,G)=>L.add(G.key),Xt());let D,x;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let G=Ks(),q=Xt();return f.ji.getEntries(L,w).next(ne=>{G=ne,G.forEach((be,et)=>{et.isValidDocument()||(q=q.add(be))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,G)).next(ne=>{D=ne;const be=[];for(const et of c){const dt=aj(et,D.get(et.key).overlayedDocument);null!=dt&&be.push(new Bu(et.key,dt,P1(dt.value.mapValue),cr.exists(!0)))}return f.mutationQueue.addMutationBatch(L,_,be,c)}).next(ne=>{x=ne;const be=ne.applyToLocalDocumentSet(D,q);return f.documentOverlayCache.saveOverlays(L,ne.batchId,be)})}).then(()=>({batchId:x.batchId,changes:iN(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.fc[a.currentUser.toKey()];_||(_=new Dr(Yt)),_=_.insert(c,f),a.fc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Uu(r,i.changes),yield Lm(r.remoteStore)}catch(i){const a=Vm(i,"Failed to persist write");t.reject(a)}}),lx.apply(this,arguments)}function MF(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,we.Z)(function*(n,e){const t=Je(n);try{const r=yield function vH(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ji.newChangeBuffer({trackRemovals:!0});i=t.Ki;const f=[];e.targetChanges.forEach((D,x)=>{const L=i.get(x);if(!L)return;f.push(t.Ns.removeMatchingKeys(a,D.removedDocuments,x).next(()=>t.Ns.addMatchingKeys(a,D.addedDocuments,x)));let G=L.withSequenceNumber(a.currentSequenceNumber);var q,ne,be;e.targetMismatches.has(x)?G=G.withResumeToken(ai.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):D.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(D.resumeToken,r)),i=i.insert(x,G),ne=G,be=D,(0===(q=L).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0)&&f.push(t.Ns.updateTargetData(a,G))});let _=Ks(),w=Xt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(oF(a,c,e.documentUpdates).next(D=>{_=D.Hi,w=D.Ji})),!r.isEqual(Tt.min())){const D=t.Ns.getLastRemoteSnapshotVersion(a).next(x=>t.Ns.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(D)}return ae.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Ki=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.hc.get(a);c&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ic=!0:i.modifiedDocuments.size>0?Ct(c.ic):i.removedDocuments.size>0&&(Ct(c.ic),c.ic=!1))}),yield Uu(t,r,e)}catch(r){yield lh(r)}}),cx.apply(this,arguments)}function AF(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.oc.forEach((a,c)=>{const f=c.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=Je(a);f.onlineState=c;let _=!1;f.queries.forEach((w,D)=>{for(const x of D.listeners)x.Pu(c)&&(_=!0)}),_&&nx(f)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ez(n,e,t){return ux.apply(this,arguments)}function ux(){return ux=(0,we.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.hc.get(e),a=i&&i.key;if(a){let c=new Dr(Ze.comparator);c=c.insert(a,Xn.newNoDocument(a,Tt.min()));const f=Xt().add(a),_=new Gv(Tt.min(),new Map,new Nn(Yt),c,f);yield MF(r,_),r.ac=r.ac.remove(a),r.hc.delete(e),_x(r)}else yield Nm(r.localStore,e,!1).then(()=>Hm(r,e,t)).catch(lh)}),ux.apply(this,arguments)}function tz(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,we.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield function yH(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ji.newChangeBuffer({trackRemovals:!0});return function(c,f,_,w){const D=_.batch,x=D.keys();let L=ae.resolve();return x.forEach(G=>{L=L.next(()=>w.getEntry(f,G)).next(q=>{const ne=_.docVersions.get(G);Ct(null!==ne),q.version.compareTo(ne)<0&&(D.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(f,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Xt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);gx(t,r,null),px(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Uu(t,i)}catch(i){yield lh(i)}}),dx.apply(this,arguments)}function nz(n,e,t){return hx.apply(this,arguments)}function hx(){return hx=(0,we.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(a,c){const f=Je(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,c).next(D=>(Ct(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(_,D))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);gx(r,e,t),px(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Uu(r,i)}catch(i){yield lh(i)}}),hx.apply(this,arguments)}function fx(){return fx=(0,we.Z)(function*(n,e){const t=Je(n);Vu(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=Je(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.dc.get(r)||[];i.push(e),t.dc.set(r,i)}catch(r){const i=Vm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),fx.apply(this,arguments)}function px(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function gx(n,e,t){const r=Je(n);let i=r.fc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function Hm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||xF(n,r)})}function xF(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(ob(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),_x(n))}function mx(n,e,t){for(const r of t)r instanceof DF?(n.lc.addReference(r.key,e),iz(n,r)):r instanceof TF?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||xF(n,r.key)):lt()}function iz(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.cc.add(r),_x(n))}function _x(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new Ze(hn.fromString(e)),r=n._c.next();n.hc.set(r,new KH(t)),n.ac=n.ac.insert(t,r),iI(n.remoteStore,new _h(bs(Dm(t.path)),r,2,No.at))}}function Uu(n,e,t){return yx.apply(this,arguments)}function yx(){return yx=(0,we.Z)(function*(n,e,t){const r=Je(n),i=[],a=[],c=[];var f;r.oc.isEmpty()||(r.oc.forEach((f,_)=>{c.push(r.mc(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const D=CA.Ni(_.targetId,w);a.push(D)}}))}),yield Promise.all(c),r.rc.Ho(i),yield(f=(0,we.Z)(function*(_,w){const D=Je(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ae.forEach(w,L=>ae.forEach(L.Ci,G=>D.persistence.referenceDelegate.addReference(x,L.targetId,G)).next(()=>ae.forEach(L.xi,G=>D.persistence.referenceDelegate.removeReference(x,L.targetId,G)))))}catch(x){if(!ch(x))throw x;Fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const L=x.targetId;if(!x.fromCache){const G=D.Ki.get(L),ne=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);D.Ki=D.Ki.insert(L,ne)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),yx.apply(this,arguments)}function sz(n,e){return vx.apply(this,arguments)}function vx(){return vx=(0,we.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield iF(t.localStore,e);t.currentUser=e,(i=t).dc.forEach(c=>{c.forEach(f=>{f.reject(new ke(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Uu(t,r.Wi)}var i}),vx.apply(this,arguments)}function oz(n,e){const t=Je(n),r=t.hc.get(e);if(r&&r.ic)return Xt().add(r.key);{let i=Xt();const a=t.uc.get(e);if(!a)return i;for(const c of a){const f=t.oc.get(c);i=i.unionWith(f.view.Wu)}return i}}function az(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,we.Z)(function*(n,e){const t=Je(n),r=yield eI(t.localStore,e.query,!0),i=e.view.nc(r);return t.isPrimaryClient&&mx(t,e.targetId,i.tc),i}),bx.apply(this,arguments)}function lz(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,we.Z)(function*(n,e){const t=Je(n);return lF(t.localStore,e).then(r=>Uu(t,r))}),wx.apply(this,arguments)}function cz(n,e,t,r){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,we.Z)(function*(n,e,t,r){const i=Je(n),a=yield function(c,f){const _=Je(c),w=Je(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.An(D,f).next(x=>x?_.localDocuments.getDocuments(D,x):ae.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Lm(i.remoteStore):"acknowledged"===t||"rejected"===t?(gx(i,e,r||null),px(i,e),f=e,Je(Je(i.localStore).mutationQueue).bn(f)):lt(),yield Uu(i,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ex.apply(this,arguments)}function Cx(){return Cx=(0,we.Z)(function*(n,e){const t=Je(n);if(Sx(t),Mx(t),!0===e&&!0!==t.wc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield OF(t,r.toArray());t.wc=!0,yield KA(t.remoteStore,!0);for(const a of i)iI(t.remoteStore,a)}else if(!1===e&&!1!==t.wc){const r=[];let i=Promise.resolve();t.uc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Hm(t,c),Nm(t.localStore,c,!0))),ob(t.remoteStore,c)}),yield i,yield OF(t,r),function(a){const c=Je(a);c.hc.forEach((f,_)=>{ob(c.remoteStore,_)}),c.lc._s(),c.hc=new Map,c.ac=new Dr(Ze.comparator)}(t),t.wc=!1,yield KA(t.remoteStore,!1)}}),Cx.apply(this,arguments)}function OF(n,e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,we.Z)(function*(n,e,t){const r=Je(n),i=[],a=[];for(const c of e){let f;const _=r.uc.get(c);if(_&&0!==_.length){f=yield Pm(r.localStore,bs(_[0]));for(const w of _){const D=r.oc.get(w),x=yield az(r,D);x.snapshot&&a.push(x.snapshot)}}else{const w=yield aF(r.localStore,c);f=yield Pm(r.localStore,w),yield sx(r,kF(w),c,!1,f.resumeToken)}i.push(f)}return r.rc.Ho(a),i}),Ix.apply(this,arguments)}function kF(n){return L1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function dz(n){const e=Je(n);return Je(Je(e.localStore).persistence).Si()}function hz(n,e,t,r){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,we.Z)(function*(n,e,t,r){const i=Je(n);if(i.wc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=i.uc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield lF(i.localStore,U1(a[0])),f=Gv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ai.EMPTY_BYTE_STRING);yield Uu(i,c,f);break}case"rejected":yield Nm(i.localStore,e,!0),Hm(i,e,r);break;default:lt()}}),Dx.apply(this,arguments)}function fz(n,e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,we.Z)(function*(n,e,t){const r=Sx(n);if(r.wc){for(const i of e){if(r.uc.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const a=yield aF(r.localStore,i),c=yield Pm(r.localStore,a);yield sx(r,kF(a),c.targetId,!1,c.resumeToken),iI(r.remoteStore,c)}for(const i of t)r.uc.has(i)&&(yield Nm(r.localStore,i,!1).then(()=>{ob(r.remoteStore,i),Hm(r,i)}).catch(lh))}}),Tx.apply(this,arguments)}function Sx(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ez.bind(null,e),e.rc.Ho=$H.bind(null,e.eventManager),e.rc.gc=GH.bind(null,e.eventManager),e}function Mx(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nz.bind(null,e),e}class RF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.Tt=ib(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return rF(this.persistence,new nF,e.initialUser,this.Tt)}Tc(e){return new eF(XC.qs,this.Tt)}Ic(e){return new hF}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class PF extends RF{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield Mx(r.bc.syncEngine),yield Lm(r.bc.remoteStore),yield r.persistence.di(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return rF(this.persistence,new nF,e.initialUser,this.Tt)}Ac(e,t){return new rH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const r=new BU(t,this.persistence);return new LU(e.asyncQueue,r)}Tc(e){const t=EA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new wA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pF(),rI(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new hF}}class gz extends PF{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof OA&&(r.sharedClientState.syncEngine={Br:cz.bind(null,i),Lr:hz.bind(null,i),qr:fz.bind(null,i),Si:dz.bind(null,i),$r:lz.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.di(function(){var a=(0,we.Z)(function*(c){yield function uz(n,e){return Cx.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}Ic(e){const t=pF();if(!OA.C(t))throw new ke(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=EA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ax{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>AF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=sz.bind(null,r.syncEngine),yield KA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zH}createDatastore(e){const t=ib(e.databaseInfo.databaseId),r=new TH(e.databaseInfo);return new AH(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>AF(this.syncEngine,f,0),c=fF.C()?new fF:new CH,new kH(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,w){const D=new YH(r,i,a,c,f,_);return w&&(D.wc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=Je(t);Fe("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Fm(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function NF(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class oI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mz{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new oi,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Fu()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const r=e.Sc.decode(t),i=Number(r);isNaN(i)&&e.xc(`length string (${r}) is not valid number`);const a=yield e.Nc(i);return new qH(JSON.parse(a),t.length+i)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,we.Z)(function*(){for(;e.kc()<0&&!(yield e.Oc()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Nc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Oc())&&t.xc("Reached the end of bundle when more is expected.");const r=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}Oc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class _z{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,c){const f=Je(a),_=Zv(f.Tt)+"/documents",w={documents:c.map(G=>Wv(f.Tt,G))},D=yield f.mo("BatchGetDocuments",_,w,c.length),x=new Map;D.forEach(G=>{const q=function vj(n,e){return"found"in e?function(t,r){Ct(!!r.found);const i=yc(t,r.found.name),a=Nr(r.found.updateTime),c=r.found.createTime?Nr(r.found.createTime):Tt.min(),f=new mi({mapValue:{fields:r.found.fields}});return Xn.newFoundDocument(i,a,c,f)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const i=yc(t,r.missing),a=Nr(r.readTime);return Xn.newNoDocument(i,a)}(n,e):lt()}(f.Tt,G);x.set(q.key.toString(),q)});const L=[];return c.forEach(G=>{const q=x.get(G.toString());Ct(!!q),L.push(q)}),L}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Am(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ze.fromPath(i);e.mutations.push(new rA(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const c=Je(i),f=Zv(c.Tt)+"/documents",_={writes:a.map(w=>Kv(c.Tt,w))};yield c.lo("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ke(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tt.min())?cr.exists(!1):cr.updateTime(t):cr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new ke(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(t)}return cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yz{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new kA(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){var e=this;this.ko.vo((0,we.Z)(function*(){const t=new _z(e.datastore),r=e.$c(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Bc(a)}))}).catch(i=>{e.Bc(i)})}))}$c(e){try{const t=this.updateFunction(e);return!kv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!tN(t)}return!1}}class vz{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gi.UNAUTHENTICATED,this.clientId=a1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,we.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Fe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Vm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function FF(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield iF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),xx.apply(this,arguments)}function LF(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield kx(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>wF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>wF(e.remoteStore,a)),n.onlineComponents=e}),Ox.apply(this,arguments)}function kx(n){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,we.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield FF(n,new RF)),n.offlineComponents}),Rx.apply(this,arguments)}function aI(n){return Px.apply(this,arguments)}function Px(){return Px=(0,we.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield LF(n,new Ax)),n.onlineComponents}),Px.apply(this,arguments)}function BF(n){return kx(n).then(e=>e.persistence)}function lI(n){return kx(n).then(e=>e.localStore)}function Nx(n){return aI(n).then(e=>e.remoteStore)}function Fx(n){return aI(n).then(e=>e.syncEngine)}function zm(n){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,we.Z)(function*(n){const e=yield aI(n),t=e.eventManager;return t.onListen=QH.bind(null,e.syncEngine),t.onUnlisten=XH.bind(null,e.syncEngine),t}),Lx.apply(this,arguments)}function UF(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,c,f,_){const w=new oI({next:x=>{a.enqueueAndForget(()=>ex(i,D));const L=x.docs.has(c);!L&&x.fromCache?_.reject(new ke(le.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&f&&"server"===f.source?_.reject(new ke(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),D=new rx(Dm(c.path),w,{includeMetadataChanges:!0,Ou:!0});return XA(i,D)}(yield zm(n),n.asyncQueue,e,t,r)})),r.promise}function jF(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,c,f,_){const w=new oI({next:x=>{a.enqueueAndForget(()=>ex(i,D)),x.fromCache&&"server"===f.source?_.reject(new ke(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),D=new rx(c,w,{includeMetadataChanges:!0,Ou:!0});return XA(i,D)}(yield zm(n),n.asyncQueue,e,t,r)})),r.promise}const HF=new Map;function Bx(n,e,t){if(!t)throw new ke(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zF(n,e,t,r){if(!0===e&&!0===r)throw new ke(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $F(n){if(!Ze.isDocumentKey(n))throw new ke(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GF(n){if(Ze.isDocumentKey(n))throw new ke(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cI(n);throw new ke(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qF(n,e){if(e<=0)throw new ke(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class WF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,zF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ab{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new DU;switch(t.type){case"gapi":return new AU(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HF.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),HF.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class bc extends Ni{constructor(e,t,r){super(e,t,Dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new Ze(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function KF(n,e,...t){if(n=(0,vn.m9)(n),Bx("collection","path",e),n instanceof ab){const r=hn.fromString(e,...t);return GF(r),new bc(n,null,r)}{if(!(n instanceof Jn||n instanceof bc))throw new ke(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return GF(r),new bc(n.firestore,null,r)}}function uI(n,e,...t){if(n=(0,vn.m9)(n),1===arguments.length&&(e=a1.R()),Bx("doc","path",e),n instanceof ab){const r=hn.fromString(e,...t);return $F(r),new Jn(n,null,new Ze(r))}{if(!(n instanceof Jn||n instanceof bc))throw new ke(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return $F(r),new Jn(n.firestore,n instanceof bc?n.converter:null,new Ze(r))}}function YF(n,e){return n=(0,vn.m9)(n),e=(0,vn.m9)(e),(n instanceof Jn||n instanceof bc)&&(e instanceof Jn||e instanceof bc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Vx(n,e){return n=(0,vn.m9)(n),e=(0,vn.m9)(e),n instanceof Ni&&e instanceof Ni&&n.firestore===e.firestore&&Vv(n._query,e._query)&&n.converter===e.converter}class Mz{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new kA(this,"async_queue_retry"),this.Hc=()=>{const t=rI();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=rI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=rI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new oi;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!ch(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const i=QA.createAndSchedule(this,e,t,r,a=>this.Xc(a));return this.Gc.push(i),i}Jc(){this.Qc&&lt()}verifyOperationInProgress(){}ta(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function Ux(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Az{constructor(){this._progressObserver={},this._taskCompletionResolver=new oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class er extends ab{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Mz,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||QF(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||QF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QF(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jU(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new vz(n._authCredentials,n._appCheckCredentials,n._queue,r)}function XF(n,e,t){const r=new oi;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield FF(n,t),yield LF(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===le.FAILED_PRECONDITION||c.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;Xf("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function JF(n){if(n._initialized||n._terminated)throw new ke(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(ai.fromBase64String(e))}catch(t){throw new ke(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wc(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ju{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._methodName=e}}class dI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const Uz=/^__.*__$/;class jz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mm(e,this.data,t,this.fieldTransforms)}}class eL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class hI{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new hI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return gI(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(tL(this.ra)&&Uz.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class Hz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||ib(e)}wa(e,t,r,i=!1){return new hI({ra:e,methodName:t,_a:r,path:Cr.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function _p(n){const e=n._freezeSettings(),t=ib(n._databaseId);return new Hz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fI(n,e,t,r,i,a={}){const c=n.wa(a.merge||a.mergeFields?2:0,e,t,i);$x("Data must be an object, but it was:",c,r);const f=iL(r,c);let _,w;if(a.merge)_=new Zs(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const D=[];for(const x of a.mergeFields){const L=ub(e,x,t);if(!c.contains(L))throw new ke(le.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);oL(D,L)||D.push(L)}_=new Zs(D),w=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=c.fieldTransforms;return new jz(new mi(f),_,w)}class cb extends mp{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cb}}function nL(n,e,t){return new hI({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class jx extends mp{_toFieldTransform(e){return new jv(e.path,new Tm)}isEqual(e){return e instanceof jx}}class zz extends mp{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=nL(this,e,!0),r=this.ma.map(a=>yp(a,t)),i=new ap(r);return new jv(e.path,i)}isEqual(e){return this===e}}class $z extends mp{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=nL(this,e,!0),r=this.ma.map(a=>yp(a,t)),i=new lp(r);return new jv(e.path,i)}isEqual(e){return this===e}}class Gz extends mp{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new Sm(e.Tt,$1(e.Tt,this.ga));return new jv(e.path,t)}isEqual(e){return this===e}}function Hx(n,e,t,r){const i=n.wa(1,e,t);$x("Data must be an object, but it was:",i,r);const a=[],c=mi.empty();tp(r,(_,w)=>{const D=pI(e,_,t);w=(0,vn.m9)(w);const x=i.ha(D);if(w instanceof cb)a.push(D);else{const L=yp(w,x);null!=L&&(a.push(D),c.set(D,L))}});const f=new Zs(a);return new eL(c,f,i.fieldTransforms)}function zx(n,e,t,r,i,a){const c=n.wa(1,e,t),f=[ub(e,r,t)],_=[i];if(a.length%2!=0)throw new ke(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(ub(e,a[L])),_.push(a[L+1]);const w=[],D=mi.empty();for(let L=f.length-1;L>=0;--L)if(!oL(w,f[L])){const G=f[L];let q=_[L];q=(0,vn.m9)(q);const ne=c.ha(G);if(q instanceof cb)w.push(G);else{const be=yp(q,ne);null!=be&&(w.push(G),D.set(G,be))}}const x=new Zs(w);return new eL(D,x,c.fieldTransforms)}function rL(n,e,t,r=!1){return yp(t,n.wa(r?4:3,e))}function yp(n,e){if(sL(n=(0,vn.m9)(n)))return $x("Unsupported field value:",e,n),iL(n,e);if(n instanceof mp)return function(t,r){if(!tL(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=yp(c,r.la(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,vn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $1(r.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=lr.fromDate(t);return{timestampValue:xm(r.Tt,i)}}if(t instanceof lr){const i=new lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xm(r.Tt,i)}}if(t instanceof dI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wc)return{bytesValue:dN(r.Tt,t._byteString)};if(t instanceof Jn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.fa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${cI(t)}`)}(n,e)}function iL(n,e){const t={};return g1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tp(n,(r,i)=>{const a=yp(i,e.ua(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function sL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof dI||n instanceof wc||n instanceof Jn||n instanceof mp)}function $x(n,e,t){if(!sL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cI(t);throw e.fa("an object"===r?n+" a custom object":n+" "+r)}var r}function ub(n,e,t){if((e=(0,vn.m9)(e))instanceof ju)return e._internalPath;if("string"==typeof e)return pI(n,e);throw gI("Field path arguments must be of type string or ",n,!1,void 0,t)}const qz=new RegExp("[~\\*/\\[\\]]");function pI(n,e,t){if(e.search(qz)>=0)throw gI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ju(...e.split("."))._internalPath}catch{throw gI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gI(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new ke(le.INVALID_ARGUMENT,f+n+_)}function oL(n,e){return n.some(t=>t.isEqual(e))}class db{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wz extends db{data(){return super.data()}}function mI(n,e){return"string"==typeof e?pI(n,e):e instanceof ju?e._internalPath:e._delegate._internalPath}function aL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gx{}class hb extends Gx{}function Eh(n,e,...t){let r=[];e instanceof Gx&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof $m).length,c=i.filter(f=>f instanceof fb).length;if(a>1||a>0&&c>0)throw new ke(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class fb extends hb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fb(e,t,r)}_apply(e){const t=this._parse(e);return dL(e._query,t),new Ni(e.firestore,e.converter,tA(e._query,t))}_parse(e){const t=_p(e.firestore);return function(i,a,c,f,_,w,D){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new ke(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){uL(D,w);const L=[];for(const G of D)L.push(cL(f,i,G));x={arrayValue:{values:L}}}else x=cL(f,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||uL(D,w),x=rL(c,"where",D,"in"===w||"not-in"===w);return an.create(_,w,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class $m extends Gx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $m(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const f of c)dL(a,f),a=tA(a,f)}(e._query,t),new Ni(e.firestore,e.converter,tA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qx extends hb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qx(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new ke(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ke(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Cm(i,a);return function(f,_){if(null===JM(f)){const w=FC(f);null!==w&&hL(0,w,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new Ni(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Lu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class _I extends hb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _I(e,t,r)}_apply(e){return new Ni(e.firestore,e.converter,LC(e._query,this._limit,this._limitType))}}class yI extends hb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new yI(e,t,r)}_apply(e){const t=lL(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,(i=t,new Lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class vI extends hb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vI(e,t,r)}_apply(e){const t=lL(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,(i=t,new Lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function lL(n,e,t,r){if(t[0]=(0,vn.m9)(t[0]),t[0]instanceof db)return function(i,a,c,f,_){if(!f)throw new ke(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const D of op(i))if(D.field.isKeyField())w.push(ip(a,f.key));else{const x=f.data.field(D.field);if(qM(x))throw new ke(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=D.field.canonicalString();throw new ke(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}w.push(x)}return new ph(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=_p(n.firestore);return function(a,c,f,_,w,D){const x=a.explicitOrderBy;if(w.length>x.length)throw new ke(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let G=0;G<w.length;G++){const q=w[G];if(x[G].field.isKeyField()){if("string"!=typeof q)throw new ke(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!eA(a)&&-1!==q.indexOf("/"))throw new ke(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const ne=a.path.child(hn.fromString(q));if(!Ze.isDocumentKey(ne))throw new ke(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const be=new Ze(ne);L.push(ip(c,be))}else{const ne=rL(f,_,q);L.push(ne)}}return new ph(L,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function cL(n,e,t){if("string"==typeof(t=(0,vn.m9)(t))){if(""===t)throw new ke(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(e)&&-1!==t.indexOf("/"))throw new ke(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hn.fromString(t));if(!Ze.isDocumentKey(r))throw new ke(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ip(n,new Ze(r))}if(t instanceof Jn)return ip(n,t._key);throw new ke(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cI(t)}.`)}function uL(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dL(n,e){if(e.isInequality()){const r=FC(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new ke(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=JM(n);null!==a&&hL(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ke(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function hL(n,e,t){if(!t.isEqual(e))throw new ke(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Wx{convertValue(e,t="none"){switch(rp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(np(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const r={};return tp(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new dI(Ir(e.latitude),Ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_1(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pv(e));default:return null}}convertTimestamp(e){const t=dh(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hn.fromString(e);Ct(wN(r));const i=new uh(r.get(1),r.get(3)),a=new Ze(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function bI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class n$ extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends db{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class pb extends Hu{data(e={}){return super.data(e)}}class Ch{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new pb(this._firestore,this._userDataWriter,r.key,r,new vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new pb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new pb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:i$(c.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function i$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function pL(n,e){return n instanceof Hu&&e instanceof Hu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ch&&e instanceof Ch&&n._firestore===e._firestore&&Vx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ih extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function gL(n,e,t){n=ln(n,Jn);const r=ln(n.firestore,er),i=bI(n.converter,e,t);return Gm(r,[fI(_p(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,cr.none())])}function mL(n,e,t,...r){n=ln(n,Jn);const i=ln(n.firestore,er),a=_p(i);let c;return c="string"==typeof(e=(0,vn.m9)(e))||e instanceof ju?zx(a,"updateDoc",n._key,e,t,r):Hx(a,"updateDoc",n._key,e),Gm(i,[c.toMutation(n._key,cr.exists(!0))])}function _L(n,...e){var t,r,i;n=(0,vn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Ux(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Ux(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,w,D;if(n instanceof Jn)w=ln(n.firestore,er),D=Dm(n._key.path),_={next:x=>{e[c]&&e[c](Zx(w,n,x))},error:e[c+1],complete:e[c+2]};else{const x=ln(n,Ni);w=ln(x.firestore,er),D=x._query;const L=new Ih(w);_={next:G=>{e[c]&&e[c](new Ch(w,L,x,G))},error:e[c+1],complete:e[c+2]},aL(n._query)}return function(x,L,G,q){const ne=new oI(q),be=new rx(L,ne,G);return x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return XA(yield zm(x),be)})),()=>{ne.Pc(),x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return ex(yield zm(x),be)}))}}(Fr(w),D,f,_)}function Gm(n,e){return function(t,r){const i=new oi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function JH(n,e,t){return lx.apply(this,arguments)}(yield Fx(t),r,i)})),i.promise}(Fr(n),e)}function Zx(n,e,t){const r=t.docs.get(e._key),i=new Ih(n);return new Hu(n,i,e._key,r,new vp(t.hasPendingWrites,t.fromCache),e.converter)}const g$={maxAttempts:5};class yL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_p(e)}set(e,t,r){this._verifyNotCommitted();const i=Dh(e,this._firestore),a=bI(i.converter,t,r),c=fI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,cr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Dh(e,this._firestore);let c;return c="string"==typeof(t=(0,vn.m9)(t))||t instanceof ju?zx(this._dataReader,"WriteBatch.update",a._key,t,r,i):Hx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Dh(e,this._firestore);return this._mutations=this._mutations.concat(new Am(t._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dh(n,e){if((n=(0,vn.m9)(n)).firestore!==e)throw new ke(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class m$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_p(e)}get(e){const t=Dh(e,this._firestore),r=new n$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return lt();const a=i[0];if(a.isFoundDocument())return new db(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new db(this._firestore,r,t._key,null,t.converter);throw lt()})}set(e,t,r){const i=Dh(e,this._firestore),a=bI(i.converter,t,r),c=fI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Dh(e,this._firestore);let c;return c="string"==typeof(t=(0,vn.m9)(t))||t instanceof ju?zx(this._dataReader,"Transaction.update",a._key,t,r,i):Hx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Dh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Dh(e,this._firestore),r=new Ih(this._firestore);return super.get(e).then(i=>new Hu(this._firestore,r,t._key,i._document,new vp(!1,!1),t.converter))}}!function(n,e=!0){vm=Wf.SDK_VERSION,(0,Wf._registerComponent)(new eC.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new er(new SU(t.getProvider("auth-internal")),new xU(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(f.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Wf.registerVersion)(r1,"3.8.4",n),(0,Wf.registerVersion)(r1,"3.8.4","esm2017")}();function Kx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bL(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function wL(){if(!function zU(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}class gb{constructor(e){this._delegate=e}static fromBase64String(e){return wL(),new gb(wc.fromBase64String(e))}static fromUint8Array(e){return bL(),new gb(wc.fromUint8Array(e))}toBase64(){return wL(),this._delegate.toBase64()}toUint8Array(){return bL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Yx(n){return function D$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class T${enableIndexedDbPersistence(e,t){return function Oz(n,e){JF(n=ln(n,er));const t=Fr(n),r=n._freezeSettings(),i=new Ax;return XF(t,i,new PF(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function kz(n){JF(n=ln(n,er));const e=Fr(n),t=n._freezeSettings(),r=new Ax;return XF(e,r,new gz(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Rz(n){if(n._initialized&&!n._terminated)throw new ke(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new oi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!El.C())return Promise.resolve();const i=r+"main";yield El.delete(i)}),function(r){return t.apply(this,arguments)})(EA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class EL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof uh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function ZF(n,e,t,r={}){var i;const a=(n=ln(n,ab))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Xf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=gi.MOCK_USER;else{c=(0,vn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ke(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new gi(_)}n._authCredentials=new TU(new s1(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function Nz(n){return function bz(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield BF(n),t=yield Nx(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.mu.delete(0),sb(i)}(t)}))}(Fr(n=ln(n,er)))}(this._delegate)}disableNetwork(){return function Fz(n){return function wz(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield BF(n),t=yield Nx(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=Je(i);a.mu.add(0),yield Fm(a),a.pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Fr(n=ln(n,er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,zF("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Pz(n){return function(e){const t=new oi;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function rz(n,e){return fx.apply(this,arguments)}(yield Fx(e),t)})),t.promise}(Fr(n=ln(n,er)))}(this._delegate)}onSnapshotsInSync(e){return function f$(n,e){return function Iz(n,e){const t=new oI(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield zm(n),i=t,Je(r).vu.add(i),void i.next();var r,i})),()=>{t.Pc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield zm(n),i=t,void Je(r).vu.delete(i);var r,i}))}}(Fr(n=ln(n,er)),Ux(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qm(this,KF(this._delegate,e))}catch(t){throw Es(t,"collection()","Firestore.collection()")}}doc(e){try{return new Aa(this,uI(this._delegate,e))}catch(t){throw Es(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function Sz(n,e){if(n=ln(n,ab),Bx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ni(n,null,(t=e,new Lu(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Es(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _$(n,e,t){n=ln(n,er);const r=Object.assign(Object.assign({},g$),t);return function(i){if(i.maxAttempts<1)throw new ke(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const f=new oi;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const _=yield function VF(n){return aI(n).then(e=>e.datastore)}(i);new yz(i.asyncQueue,_,c,a,f).run()})),f.promise}(Fr(n),i=>e(new m$(n,i)),r)}(this._delegate,t=>e(new CL(this,t)))}batch(){return Fr(this._delegate),new IL(new yL(this._delegate,e=>Gm(this._delegate,e)))}loadBundle(e){return function Lz(n,e){const t=Fr(n=ln(n,er)),r=new Az;return function Dz(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return NF(_,w);if(_ instanceof ArrayBuffer)return NF(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new mz(_,c);var _}(t,ib(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function pz(n,e,t){const r=Je(n);var i;(i=(0,we.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(L,G){const q=Je(L),ne=Nr(G.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",be=>q.Os.getBundleMetadata(be,G.id)).then(be=>!!be&&be.createTime.compareTo(ne)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(IF(_));const w=new WH(_,a.localStore,c.Tt);let D=yield c.yc();for(;D;){const L=yield w.Bu(D);L&&f._updateProgress(L),D=yield c.yc()}const x=yield w.complete();return yield Uu(a,x.Uu,void 0),yield function(L,G){const q=Je(L);return q.persistence.runTransaction("Save bundle","readwrite",ne=>q.Os.saveBundleMetadata(ne,G))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.qu)}catch(_){return Xf("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Fx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Bz(n,e){return function Tz(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Os.getNamedQuery(a,r))}(yield lI(n),e)}))}(Fr(n=ln(n,er)),e).then(t=>t?new Ni(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class wI extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new gb(new wc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(t,this.firestore,null)}}class CL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wI(e)}get(e){const t=wp(e);return this._delegate.get(t).then(r=>new mb(this._firestore,new Hu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=wp(e);return r?(Kx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=wp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=wp(e);return this._delegate.delete(t),this}}class IL{constructor(e){this._delegate=e}set(e,t,r){const i=wp(e);return r?(Kx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=wp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=wp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new pb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _b(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=bp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new bp(e,new wI(e),t),i.set(t,a)),a}}bp.INSTANCES=new WeakMap;class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(t,new Jn(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new Aa(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new qm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qm(this.firestore,KF(this._delegate,e))}catch(t){throw Es(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,vn.m9)(e))instanceof Jn&&YF(this._delegate,e)}set(e,t){t=Kx("DocumentReference.set",t);try{return t?gL(this._delegate,e,t):gL(this._delegate,e)}catch(r){throw Es(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?mL(this._delegate,e):mL(this._delegate,e,t,...r)}catch(i){throw Es(i,"updateDoc()","DocumentReference.update()")}}delete(){return function d$(n){return Gm(ln(n.firestore,er),[new Am(n._key,cr.none())])}(this._delegate)}onSnapshot(...e){const t=DL(e),r=TL(e,i=>new mb(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return _L(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function o$(n){n=ln(n,Jn);const e=ln(n.firestore,er),t=Fr(e),r=new Ih(e);return function Ez(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,c){try{const f=yield function(_,w){const D=Je(_);return D.persistence.runTransaction("read document","readonly",x=>D.localDocuments.getDocument(x,w))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new ke(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Vm(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield lI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Hu(e,r,n._key,i,new vp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function a$(n){n=ln(n,Jn);const e=ln(n.firestore,er);return UF(Fr(e),n._key,{source:"server"}).then(t=>Zx(e,n,t))}(this._delegate):function s$(n){n=ln(n,Jn);const e=ln(n.firestore,er);return UF(Fr(e),n._key).then(t=>Zx(e,n,t))}(this._delegate),t.then(r=>new mb(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?bp.getInstance(this.firestore,e):null))}}function Es(n,e,t){return n.message=n.message.replace(e,t),n}function DL(n){for(const e of n)if("object"==typeof e&&!Yx(e))return e;return{}}function TL(n,e){var t,r;let i;return i=Yx(n[0])?n[0]:Yx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class mb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pL(this._delegate,e._delegate)}}class _b extends mb{data(e){const t=this._delegate.data(e);return function IU(n,e){n||lt()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wI(e)}where(e,t,r){try{return new Cs(this.firestore,Eh(this._delegate,function Zz(n,e,t){const r=e,i=mI("where",n);return fb._create(i,r,t)}(e,t,r)))}catch(i){throw Es(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,Eh(this._delegate,function Kz(n,e="asc"){const t=e,r=mI("orderBy",n);return qx._create(r,t)}(e,t)))}catch(r){throw Es(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,Eh(this._delegate,function Yz(n){return qF("limit",n),_I._create("limit",n,"F")}(e)))}catch(t){throw Es(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,Eh(this._delegate,function Qz(n){return qF("limitToLast",n),_I._create("limitToLast",n,"L")}(e)))}catch(t){throw Es(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,Eh(this._delegate,function Xz(...n){return yI._create("startAt",n,!0)}(...e)))}catch(t){throw Es(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,Eh(this._delegate,function Jz(...n){return yI._create("startAfter",n,!1)}(...e)))}catch(t){throw Es(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,Eh(this._delegate,function e$(...n){return vI._create("endBefore",n,!1)}(...e)))}catch(t){throw Es(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,Eh(this._delegate,function t$(...n){return vI._create("endAt",n,!0)}(...e)))}catch(t){throw Es(t,"endAt()","Query.endAt()")}}isEqual(e){return Vx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function c$(n){n=ln(n,Ni);const e=ln(n.firestore,er),t=Fr(e),r=new Ih(e);return function Cz(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,c){try{const f=yield eI(i,a,!0),_=new SF(a,f.Yi),w=_.Hu(f.documents),D=_.applyChanges(w,!1);c.resolve(D.snapshot)}catch(f){const _=Vm(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield lI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ch(e,r,n,i))}(this._delegate):"server"===e?.source?function u$(n){n=ln(n,Ni);const e=ln(n.firestore,er),t=Fr(e),r=new Ih(e);return jF(t,n._query,{source:"server"}).then(i=>new Ch(e,r,n,i))}(this._delegate):function l$(n){n=ln(n,Ni);const e=ln(n.firestore,er),t=Fr(e),r=new Ih(e);return aL(n._query),jF(t,n._query).then(i=>new Ch(e,r,n,i))}(this._delegate),t.then(r=>new Qx(this.firestore,new Ch(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=DL(e),r=TL(e,i=>new Qx(this.firestore,new Ch(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return _L(this._delegate,t,r)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?bp.getInstance(this.firestore,e):null))}}class M${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new _b(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _b(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new M$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new _b(this._firestore,r))})}isEqual(e){return pL(this._delegate,e._delegate)}}class qm extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?uI(this._delegate):uI(this._delegate,e))}catch(t){throw Es(t,"doc()","CollectionReference.doc()")}}add(e){return function h$(n,e){const t=ln(n.firestore,er),r=uI(n),i=bI(n.converter,e);return Gm(t,[fI(_p(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Aa(this.firestore,t))}isEqual(e){return YF(this._delegate,e._delegate)}withConverter(e){return new qm(this.firestore,this._delegate.withConverter(e?bp.getInstance(this.firestore,e):null))}}function wp(n){return ln(n,Jn)}class Xx{constructor(...e){this._delegate=new ju(...e)}static documentId(){return new Xx(Cr.keyField().canonicalString())}isEqual(e){return(e=(0,vn.m9)(e))instanceof ju&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ep{constructor(e){this._delegate=e}static serverTimestamp(){const e=function v$(){return new jx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ep(e)}static delete(){const e=function y$(){return new cb("deleteField")}();return e._methodName="FieldValue.delete",new Ep(e)}static arrayUnion(...e){const t=function b$(...n){return new zz("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ep(t)}static arrayRemove(...e){const t=function w$(...n){return new $z("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ep(t)}static increment(e){const t=function E$(n){return new Gz("increment",n)}(e);return t._methodName="FieldValue.increment",new Ep(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const A$={Firestore:EL,GeoPoint:dI,Timestamp:lr,Blob:gb,Transaction:CL,WriteBatch:IL,DocumentReference:Aa,DocumentSnapshot:mb,Query:Cs,QueryDocumentSnapshot:_b,QuerySnapshot:Qx,CollectionReference:qm,FieldPath:Xx,FieldValue:Ep,setLogLevel:function S$(n){!function CU(n){ah.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function O$(n){(function x$(n,e){n.INTERNAL.registerComponent(new eC.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},A$)))})(n,(e,t)=>new EL(e,t,new T$)),n.registerVersion("@firebase/firestore-compat","0.3.4")}(b2.Z);var Jx=N(6451),EI=N(5363),k$=N(6063);class R$ extends on.x{constructor(e=1/0,t=1/0,r=k$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var SL=N(3099);function ML(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,SL.B)({connector:()=>new R$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function AL(n,e){return(0,qi.m)(e)?yn(()=>n,e):yn(()=>n)}var eO=N(9468);N(259);const nO=new Map,OL={activated:!1,tokenObservers:[]},B$={initialized:!1,enabled:!1};function Fi(n){return nO.get(n)||Object.assign({},OL)}function II(){return B$}const rO="https://content-firebaseappcheck.googleapis.com/v1",H$="exchangeDebugToken",kL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class $${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new vn.BH,yield function G$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new vn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Is=new vn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function oO(){return oO=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(x){throw Is.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==c.status)throw Is.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(x){throw Is.create("fetch-parse-error",{originalErrorMessage:x?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}}),oO.apply(this,arguments)}const Y$="firebase-app-check-database",Q$=1,yb="firebase-app-check-store";let SI=null;function aO(){return aO=(0,we.Z)(function*(n,e){const r=(yield function NL(){return SI||(SI=new Promise((n,e)=>{try{const t=indexedDB.open(Y$,Q$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Is.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yb,{keyPath:"compositeKey"})}}catch(t){e(Is.create("storage-open",{originalErrorMessage:t?.message}))}}),SI)}()).transaction(yb,"readwrite"),a=r.objectStore(yb).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var w;f(Is.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),aO.apply(this,arguments)}const vb=new ih.Yd("@firebase/app-check");function uO(n,e){return(0,vn.hl)()?function J$(n,e){return function FL(n,e){return aO.apply(this,arguments)}(function BL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{vb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hO(){return hO=(0,we.Z)(function*(){const n=II();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),hO.apply(this,arguments)}const o3={error:"UNKNOWN_ERROR"};function a3(n){return vn.US.encodeString(JSON.stringify(n),!1)}function MI(n){return fO.apply(this,arguments)}function fO(){return fO=(0,we.Z)(function*(n,e=!1){const t=n.app;!function RL(n){if(!Fi(n).activated)throw Is.create("use-before-activation",{appName:n.name})}(t);const r=Fi(t);let a,i=r.token;if(i&&!Wm(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Wm(_)?i=_:yield uO(t,void 0))}if(!e&&i&&Wm(i))return{token:i.token};let f,c=!1;if(function VL(){return II().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function sO(n,e){return oO.apply(this,arguments)}(function K$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${rO}/projects/${t}/apps/${r}:${H$}?key=${i}`,body:{debug_token:e}}}(t,yield function UL(){return hO.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield uO(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Fi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?vb.warn(_.message):vb.error(_),a=_}return i?a?f=Wm(i)?{token:i.token,internalError:a}:zL(a):(f={token:i.token},r.token=i,yield uO(t,i)):f=zL(a),c&&function HL(n,e){const t=Fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),fO.apply(this,arguments)}function gO(n,e){const t=Fi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function jL(n){const{app:e}=n,t=Fi(e);let r=t.tokenRefresher;r||(r=function l3(n){const{app:e}=n;return new $$((0,we.Z)(function*(){let r;if(r=Fi(e).token?yield MI(n,!0):yield MI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},kL.RETRIAL_MIN_WAIT,kL.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Wm(n){return n.expireTimeMillis-Date.now()>0}function zL(n){return{token:a3(o3),error:n}}class c3{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fi(this.app);for(const t of e)gO(this.app,t.next);return Promise.resolve()}}const QL="app-check-internal";!function C3(){(0,Wf._registerComponent)(new eC.wA("app-check",n=>function u3(n,e){return new c3(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QL).initialize()})),(0,Wf._registerComponent)(new eC.wA(QL,n=>function d3(n){return{getToken:e=>MI(n,e),addTokenListener:e=>function pO(n,e,t,r){const{app:i}=n,a=Fi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Wm(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),jL(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>jL(n))}(n,"INTERNAL",e),removeTokenListener:e=>gO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wf.registerVersion)("@firebase/app-check","0.6.4")}();class vO{constructor(){return(0,Xi.vb)("app-check")}}typeof window<"u"&&window,N(9260);const JL=new u.OlP("angularfire2.auth.use-emulator"),eB=new u.OlP("angularfire2.auth.settings"),tB=new u.OlP("angularfire2.auth.tenant-id"),nB=new u.OlP("angularfire2.auth.langugage-code"),rB=new u.OlP("angularfire2.auth.use-device-language"),iB=new u.OlP("angularfire.auth.persistence"),sB=(n,e,t,r,i,a,c,f)=>(0,wl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[w,D]of Object.entries(c))_.settings[w]=D;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let oB=(()=>{class n{constructor(t,r,i,a,c,f,_,w,D,x,L,G){const q=new on.x,ne=nt(void 0).pipe((0,EI.Q)(c.outsideAngular),yn(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4217)))),(0,U.U)(()=>(0,wl.on)(t,a,r)),(0,U.U)(be=>sB(be,a,f,w,D,x,_,L)),ML({bufferSize:1,refCount:!1}));if(Tl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{ne.pipe(fa()).subscribe();const et=ne.pipe(yn(ht=>ht.getRedirectResult().then(kt=>kt,()=>null)),Xi.iC,ML({bufferSize:1,refCount:!1})),dt=ne.pipe(yn(ht=>new Zn.y(kt=>({unsubscribe:a.runOutsideAngular(()=>ht.onAuthStateChanged(Vt=>kt.next(Vt),Vt=>kt.error(Vt),()=>kt.complete()))})))),gt=ne.pipe(yn(ht=>new Zn.y(kt=>({unsubscribe:a.runOutsideAngular(()=>ht.onIdTokenChanged(Vt=>kt.next(Vt),Vt=>kt.error(Vt),()=>kt.complete()))}))));this.authState=et.pipe(AL(dt),(0,eO.R)(c.outsideAngular),(0,EI.Q)(c.insideAngular)),this.user=et.pipe(AL(gt),(0,eO.R)(c.outsideAngular),(0,EI.Q)(c.insideAngular)),this.idToken=this.user.pipe(yn(ht=>ht?(0,bn.D)(ht.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(yn(ht=>ht?(0,bn.D)(ht.getIdTokenResult()):nt(null))),this.credential=(0,Jx.T)(et,q,this.authState.pipe(Kn(ht=>!ht))).pipe((0,U.U)(ht=>ht?.user?ht:null),(0,eO.R)(c.outsideAngular),(0,EI.Q)(c.insideAngular))}return(0,wl.pX)(this,ne,a,{spy:{apply:(be,et,dt)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&dt.then(gt=>q.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wl.Dh),u.LFG(wl.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Xi.HU),u.LFG(JL,8),u.LFG(eB,8),u.LFG(tB,8),u.LFG(nB,8),u.LFG(rB,8),u.LFG(iB,8),u.LFG(vO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aB(n,e){return function A3(n,e=qf.z){return new Zn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function wO(n,e){return aB(n,e).pipe((0,U.U)(t=>({payload:t,type:"query"})))}function xI(n,e){return wO(n,e).pipe(yd(void 0),XS(),(0,U.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(D=>D.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function lB(n,e,t){return xI(n,t).pipe(ec((r,i)=>function O3(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function k3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return EO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return EO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return EO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function y2(n,e=X.y){return n=n??v2,(0,vr.e)((t,r)=>{let i,a=!0;t.subscribe((0,pt.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}(),(0,U.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function EO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function cB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class uB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=xI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,U.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(yd(void 0),XS(),Kn(([r,i])=>i.length>0||!r),(0,U.U)(([r,i])=>i),Xi.iC)}auditTrail(e){return this.stateChanges(e).pipe(ec((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cB(e);return lB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(e={}){return wO(this.query,this.afs.schedulers.outsideAngular).pipe((0,U.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Xi.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Xi.iC)}add(e){return this.ref.add(e)}doc(e){return new dB(this.ref.doc(e),this.afs)}}class dB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=hB(r,t);return new uB(i,a,this.afs)}snapshotChanges(){return function x3(n,e){return aB(n,e).pipe(yd(void 0),XS(),(0,U.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,U.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(Xi.iC)}}class R3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?xI(this.query,this.afs.schedulers.outsideAngular).pipe((0,U.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Kn(t=>t.length>0),Xi.iC):xI(this.query,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}auditTrail(e){return this.stateChanges(e).pipe(ec((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cB(e);return lB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(e={}){return wO(this.query,this.afs.schedulers.outsideAngular).pipe((0,U.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Xi.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Xi.iC)}}const P3=new u.OlP("angularfire2.enableFirestorePersistence"),N3=new u.OlP("angularfire2.firestore.persistenceSettings"),F3=new u.OlP("angularfire2.firestore.settings"),L3=new u.OlP("angularfire2.firestore.use-emulator");function hB(n,e=(t=>t)){return{query:e(n),ref:n}}let B3=(()=>{class n{constructor(t,r,i,a,c,f,_,w,D,x,L,G,q,ne,be,et,dt){this.schedulers=_;const gt=(0,wl.on)(t,f,r),ht=D;x&&sB(gt,f,L,q,ne,be,G,et),[this.firestore,this.persistenceEnabled$]=(0,wl.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const kt=f.runOutsideAngular(()=>gt.firestore());if(a&&kt.settings(a),ht&&kt.useEmulator(...ht),i&&!Tl(c)){const Vt=()=>{try{return(0,bn.D)(kt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(cn){return typeof console<"u"&&console.warn(cn),nt(!1)}};return[kt,f.runOutsideAngular(Vt)]}return[kt,nt(!1)]},[a,ht,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=hB(i,r),f=this.schedulers.ngZone.run(()=>a);return new uB(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new R3(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new dB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wl.Dh),u.LFG(wl.xv,8),u.LFG(P3,8),u.LFG(F3,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Xi.HU),u.LFG(N3,8),u.LFG(L3,8),u.LFG(oB,8),u.LFG(JL,8),u.LFG(eB,8),u.LFG(tB,8),u.LFG(nB,8),u.LFG(rB,8),u.LFG(iB,8),u.LFG(vO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class Cl{constructor(e){this.firestore=e}createDoc(e,t,r){return this.firestore.collection(t).doc(r).set(e)}getDoc(e,t){return this.firestore.collection(e).doc(t).valueChanges()}getId(){return this.firestore.createId()}getCollection(e){return this.firestore.collection(e,r=>r.orderBy("nombre")).valueChanges()}getCollection2(e){return this.firestore.collection(e).valueChanges()}}function V3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",16),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.goToDetailEventos(a.id))}),u._UZ(1,"img",17),u.TgZ(2,"div",18)(3,"h6"),u._uU(4),u.qZA(),u.TgZ(5,"p"),u._uU(6),u.qZA()()()}if(2&n){const t=e.$implicit;u.ekj("active",0===e.index),u.Q6J("@fade",void 0),u.xp6(1),u.MGl("src","",t.imagen," ",u.LSH),u.s9C("alt",t.nombre),u.xp6(3),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.fecha)}}function U3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19)(1,"div",20),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.goToDetailNegocios(a.id))}),u._UZ(2,"img",21),u.qZA()()}if(2&n){const t=e.$implicit;u.Q6J("@fade",void 0),u.xp6(2),u.s9C("src",t.logo,u.LSH),u.s9C("alt",t.nombre)}}Cl.\u0275fac=function(e){return new(e||Cl)(u.LFG(B3))},Cl.\u0275prov=u.Yz7({token:Cl,factory:Cl.\u0275fac,providedIn:"root"});class Zm{constructor(e,t){this.firestore=e,this.router=t}ngOnInit(){this.firestore.getCollection("Comerciantes").subscribe(e=>{this.negocios=e}),this.firestore.getCollection("Eventos").subscribe(e=>{this.eventos=e})}goToDetailNegocios(e){this.router.navigateByUrl(`/detailNegocios/${e}`)}goToDetailEventos(e){this.router.navigateByUrl(`/detailEventos/${e}`)}}Zm.\u0275fac=function(e){return new(e||Zm)(u.Y36(Cl),u.Y36(ii))},Zm.\u0275cmp=u.Xpm({type:Zm,selectors:[["app-home"]],decls:30,vars:6,consts:[[1,"container"],[1,"carousel-title"],["src"," https://cdn-icons-png.flaticon.com/512/9894/9894435.png",2,"height","40px","margin-right","10px"],["id","myCarousel","data-ride","carousel","data-interval","4000",1,"carousel","slide"],[1,"carousel-inner","zoom2"],["class","carousel-item ",3,"active","click",4,"ngFor","ngForOf"],["href","#myCarousel","role","button","data-slide","prev",1,"carousel-control-prev","custom-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#myCarousel","role","button","data-slide","next",1,"carousel-control-next","custom-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["src"," https://cdn-icons-png.flaticon.com/512/3598/3598587.png",2,"height","40px","margin-right","20px"],[1,"container-fluid"],[1,"row"],["class","col-3 col-sm-4 col-md-3 col-lg-2 mb-3",4,"ngFor","ngForOf"],[2,"color","white"],[1,"carousel-item",3,"click"],[1,"d-block","w-100","zoom",3,"src","alt"],[1,"carousel-caption"],[1,"col-3","col-sm-4","col-md-3","col-lg-2","mb-3"],[1,"card","border-0","zoom",3,"click"],[1,"card-img-top",3,"src","alt"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._UZ(3,"img",2),u._uU(4," Eventos pr\xf3ximos"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u.TgZ(6,"div",0)(7,"div",3)(8,"div",4),u.YNc(9,V3,7,7,"div",5),u.qZA(),u.TgZ(10,"a",6),u._UZ(11,"span",7),u.TgZ(12,"span",8),u._uU(13,"Previous"),u.qZA()(),u.TgZ(14,"a",9),u._UZ(15,"span",10),u.TgZ(16,"span",8),u._uU(17,"Next"),u.qZA()()()(),u.TgZ(18,"div",1)(19,"h2"),u._UZ(20,"img",11),u._uU(21,"Nuestras marcas"),u.qZA(),u._UZ(22,"hr"),u.qZA(),u.TgZ(23,"div",12)(24,"div",13),u.YNc(25,U3,3,3,"div",14),u.qZA()(),u._UZ(26,"hr",15)(27,"hr",15)(28,"hr",15)(29,"hr",15),u.qZA()),2&e&&(u.xp6(1),u.Q6J("@fade",void 0),u.xp6(1),u.Q6J("@fade",void 0),u.xp6(7),u.Q6J("ngForOf",t.eventos),u.xp6(9),u.Q6J("@fade",void 0),u.xp6(1),u.Q6J("@fade",void 0),u.xp6(6),u.Q6J("ngForOf",t.negocios))},dependencies:[Ur],styles:[".col-3[_ngcontent-%COMP%]{margin:0;padding-left:2%;box-sizing:border-box}.carousel-title[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top:1px solid #000000;margin-top:0;margin-bottom:0}.carousel-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.carousel-item[_ngcontent-%COMP%], .carousel-inner[_ngcontent-%COMP%]{box-shadow:0 0 5px #aa9c9c}.carousel-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;margin-top:0;margin-bottom:0;padding-bottom:10px;padding-top:5px;font-family:cursive;background-color:#bbb9b954}.carousel-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;color:#000;padding-top:10px;padding-bottom:10px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-family:cursive;background-color:#bbb9b954;margin-top:0;margin-bottom:0}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:400px}.carousel-caption[_ngcontent-%COMP%]{bottom:0;font-size:small;background-color:#0000009f;color:#fff;left:0%;padding-top:0rem;padding-bottom:0rem;right:0%}.carousel-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin:auto}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px;height:450px;object-fit:cover}.carousel[_ngcontent-%COMP%]{margin-bottom:1rem}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.carousel-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:300px}}.carousel-item[_ngcontent-%COMP%]{transition:transform .5s ease-in-out;transition-timing-function:cubic-bezier(.25,.1,.25,1);transition-delay:0s}.carousel-item[_ngcontent-%COMP%]{overflow:hidden}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #00000034;cursor:pointer}.zoom2[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px 10px #00000057}.carousel-caption[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1rem}.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:0}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%;filter:invert(1)}.carousel-control-prev[_ngcontent-%COMP%]{left:-2%}.carousel-control-next[_ngcontent-%COMP%]{right:-2%}"],data:{animation:[pm]}});let hG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Dn,Dn]}),n})();function fG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",14),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.goToDetailEventos(a.id))}),u.TgZ(1,"div",15),u._UZ(2,"img",16),u.TgZ(3,"h2",17),u._uU(4),u.qZA()(),u.TgZ(5,"div",18)(6,"p",19),u._uU(7),u.qZA()(),u.TgZ(8,"div",20),u._uU(9),u.TgZ(10,"span",21),u._UZ(11,"i",22),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.MGl("alt","Logo de ",t.nombre,""),u.Q6J("src",t.imagen,u.LSH),u.xp6(2),u.Oqu(t.nombre),u.xp6(3),u.Oqu(t.descripcion),u.xp6(2),u.hij(" ",t.lugar," ")}}class Eb{constructor(e,t){this.firestore=e,this.router=t,this.busqueda=""}ngOnInit(){this.firestore.getCollection("Eventos").subscribe(e=>{this.eventos=e})}buscarEventos(){if(""!==this.busqueda.trim()){const t=this.normalizarTexto(this.busqueda).split(" ");this.firestore.getCollection("Eventos").subscribe(r=>{this.eventos=r.filter(i=>{const a=this.normalizarTexto(i.descripcion),c=this.normalizarTexto(i.nombre);return t.some(f=>a.includes(f)||c.includes(f))})})}else this.firestore.getCollection("Eventos").subscribe(e=>{this.eventos=e})}normalizarTexto(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/,/g,"")}verTodos(){this.busqueda="",this.buscarEventos()}goToDetailEventos(e){this.router.navigateByUrl(`/detailEventos/${e}`)}}function pG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",14),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.goToDetailNegocios(a.id))}),u.TgZ(1,"div",15),u._UZ(2,"img",16),u.TgZ(3,"h2",17),u._uU(4),u.qZA()(),u.TgZ(5,"div",18)(6,"p",19),u._uU(7),u.qZA()(),u.TgZ(8,"div",20),u._uU(9),u.TgZ(10,"span",21),u._UZ(11,"i",22),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.MGl("alt","Logo de ",t.nombre,""),u.Q6J("src",t.logo,u.LSH),u.xp6(2),u.Oqu(t.nombre),u.xp6(3),u.Oqu(t.descripcion),u.xp6(2),u.hij(" ",t.direccion," ")}}Eb.\u0275fac=function(e){return new(e||Eb)(u.Y36(Cl),u.Y36(ii))},Eb.\u0275cmp=u.Xpm({type:Eb,selectors:[["app-eventos"]],decls:21,vars:3,consts:[[1,"container"],[1,"carousel-title"],["src","https://cdn-icons-png.flaticon.com/512/743/743007.png",2,"height","40px","margin-right","10px"],[2,"text-align","center"],[1,"search-container",2,"background-color","rgba(62, 63, 63, 0.164)","display","inline-flex","margin","0 auto","padding","10px"],[1,"search-buttons"],[1,"btn","btn-traer","zoom","btn-s",3,"click"],[1,"search-bar","zoom3"],["type","text","placeholder","\xbfBuscas algo?",3,"ngModel","ngModelChange"],[1,"bi","bi-search","zoom2",3,"click"],[1,"textoSearch",2,"text-align","center","margin-top","10px"],[1,"card-list"],["class","card",3,"click",4,"ngFor","ngForOf"],[2,"color","white"],[1,"card",3,"click"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"nombre"],[1,"card-body"],[1,"descripcion"],[1,"card-footer"],[1,"icono"],[1,"bi","bi-pin-map-fill"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._UZ(3,"img",2),u._uU(4," Lista de Eventos en Restrepo Valle "),u.qZA()(),u.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"button",6),u.NdJ("click",function(){return t.verTodos()}),u._uU(9,"Traer todos"),u.qZA()(),u.TgZ(10,"div",7)(11,"input",8),u.NdJ("ngModelChange",function(i){return t.busqueda=i})("ngModelChange",function(){return t.buscarEventos()}),u.qZA()(),u.TgZ(12,"i",9),u.NdJ("click",function(){return t.buscarEventos()}),u.qZA()()(),u.TgZ(13,"p",10),u._uU(14,"Puedes ingresar una palabra, frase, nombre o lo que sea que est\xe9s buscando!"),u.qZA(),u.TgZ(15,"div",11),u.YNc(16,fG,12,5,"div",12),u.qZA()(),u._UZ(17,"hr",13)(18,"hr",13)(19,"hr",13)(20,"hr",13)),2&e&&(u.Q6J("@fade",void 0),u.xp6(11),u.Q6J("ngModel",t.busqueda),u.xp6(5),u.Q6J("ngForOf",t.eventos))},dependencies:[Ur,Wd,Oy,vl],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css";.container[_ngcontent-%COMP%]{max-width:10000px;margin:0 auto}h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:48px;text-align:center;margin-bottom:30px}.card-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:20px;justify-items:center}.card[_ngcontent-%COMP%]{width:100%;max-width:1400px;height:-moz-fit-content;height:fit-content;border:1px solid #ddd;border-radius:10px;overflow:hidden;transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 5px #00000070;cursor:pointer}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9}.card-header[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#000;font-style:italic;margin:0;padding:20px;font-size:24px;text-align:center}.card-body[_ngcontent-%COMP%]{margin:0;padding:20px;font-size:16px;text-align:justify}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;max-width:50px;margin-right:20px;border-radius:50%;box-shadow:0 0 10px #00000067;max-height:50px}.card-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;color:#666;margin:0}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#f9f9f9}.card-footer[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]{font-family:Poppins}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify;font-size:medium}.carousel-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;padding-bottom:10px;padding-top:5px;background-color:#bbb9b954;border-radius:5%;text-align:center;margin-bottom:20px;border:1px solid #ddd}.search-container[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center;align-items:center}.search-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:1px solid #ccc;border-radius:5px;overflow:hidden;margin-right:10px}.search-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:10px;border:none;width:100%;font-size:16px}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 15px;border:none;cursor:pointer;font-size:16px}.bi[_ngcontent-%COMP%]{color:#000;padding:10px 15px;border:none;cursor:pointer;font-size:16px}.search-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}.btn-traer[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-color:#000}.btn-traer[_ngcontent-%COMP%]:hover{background-color:#000;border-color:#fff;color:#fff}.textoSearch[_ngcontent-%COMP%]{margin-top:10px;text-align:center;font-size:1.2em;color:gray;margin-bottom:30px}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #00000034;cursor:pointer}.zoom2[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom2[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:red;cursor:pointer}.fondo[_ngcontent-%COMP%]{background-image:url(https://static.storyweaver.org.in/illustrations/58816/large/3.jpg);background-size:auto}'],data:{animation:[pm]}});class Cb{constructor(e,t){this.firestore=e,this.router=t,this.busqueda=""}ngOnInit(){this.firestore.getCollection("Comerciantes").subscribe(e=>{this.negocios=e})}buscarNegocios(){if(""!==this.busqueda.trim()){const t=this.normalizarTexto(this.busqueda).split(" ");this.firestore.getCollection("Comerciantes").subscribe(r=>{this.negocios=r.filter(i=>{const a=this.normalizarTexto(i.descripcion),c=this.normalizarTexto(i.nombre);return t.some(f=>a.includes(f)||c.includes(f))})})}else this.firestore.getCollection("Comerciantes").subscribe(e=>{this.negocios=e})}normalizarTexto(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/,/g,"")}verTodos(){this.busqueda="",this.buscarNegocios()}goToDetailNegocios(e){this.router.navigateByUrl(`/detailNegocios/${e}`)}}Cb.\u0275fac=function(e){return new(e||Cb)(u.Y36(Cl),u.Y36(ii))},Cb.\u0275cmp=u.Xpm({type:Cb,selectors:[["app-negocios"]],decls:21,vars:3,consts:[[1,"container"],[1,"carousel-title"],["src","https://cdn-icons-png.flaticon.com/512/743/743007.png",2,"height","40px","margin-right","10px"],[2,"text-align","center"],[1,"search-container",2,"background-color","rgba(62, 63, 63, 0.164)","display","inline-flex","margin","0 auto","padding","10px"],[1,"search-buttons"],[1,"btn","btn-traer","zoom","btn-s",3,"click"],[1,"search-bar","zoom3"],["type","text","placeholder","\xbfBuscas algo?",3,"ngModel","ngModelChange"],[1,"bi","bi-search","zoom2",3,"click"],[1,"textoSearch",2,"text-align","center","margin-top","10px"],[1,"card-list"],["class","card",3,"click",4,"ngFor","ngForOf"],[2,"color","white"],[1,"card",3,"click"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"nombre"],[1,"card-body"],[1,"descripcion"],[1,"card-footer"],[1,"icono"],[1,"bi","bi-pin-map-fill"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._UZ(3,"img",2),u._uU(4," Lista de negocios en Restrepo Valle "),u.qZA()(),u.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"button",6),u.NdJ("click",function(){return t.verTodos()}),u._uU(9,"Traer todos"),u.qZA()(),u.TgZ(10,"div",7)(11,"input",8),u.NdJ("ngModelChange",function(i){return t.busqueda=i})("ngModelChange",function(){return t.buscarNegocios()}),u.qZA()(),u.TgZ(12,"i",9),u.NdJ("click",function(){return t.buscarNegocios()}),u.qZA()()(),u.TgZ(13,"p",10),u._uU(14,"Puedes ingresar una palabra, frase, nombre o lo que sea que est\xe9s buscando!"),u.qZA(),u.TgZ(15,"div",11),u.YNc(16,pG,12,5,"div",12),u.qZA()(),u._UZ(17,"hr",13)(18,"hr",13)(19,"hr",13)(20,"hr",13)),2&e&&(u.Q6J("@fade",void 0),u.xp6(11),u.Q6J("ngModel",t.busqueda),u.xp6(5),u.Q6J("ngForOf",t.negocios))},dependencies:[Ur,Wd,Oy,vl],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css";.container[_ngcontent-%COMP%]{max-width:10000px;margin:0 auto}h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:48px;text-align:center;margin-bottom:30px}.card-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:20px;justify-items:center}.card[_ngcontent-%COMP%]{width:100%;max-width:1400px;height:-moz-fit-content;height:fit-content;border:1px solid #ddd;border-radius:10px;overflow:hidden;transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 5px #00000070;cursor:pointer}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9}.card-header[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#000;font-style:italic;margin:0;padding:20px;font-size:24px;text-align:center}.card-body[_ngcontent-%COMP%]{margin:0;padding:20px;font-size:16px;text-align:justify}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;max-width:50px;margin-right:20px;border-radius:50%;box-shadow:0 0 10px #00000067;max-height:50px}.card-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;color:#666;margin:0}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#f9f9f9}.card-footer[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]{font-family:Poppins}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify;font-size:medium}.carousel-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;padding-bottom:10px;padding-top:5px;background-color:#bbb9b954;border-radius:5%;text-align:center;margin-bottom:20px;border:1px solid #ddd}.search-container[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center;align-items:center}.search-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:1px solid #ccc;border-radius:5px;overflow:hidden;margin-right:10px}.search-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:10px;border:none;width:100%;font-size:16px}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 15px;border:none;cursor:pointer;font-size:16px}.bi[_ngcontent-%COMP%]{color:#000;padding:10px 15px;border:none;cursor:pointer;font-size:16px}.search-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}.btn-traer[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-color:#000}.btn-traer[_ngcontent-%COMP%]:hover{background-color:#000;border-color:#fff;color:#fff}.textoSearch[_ngcontent-%COMP%]{margin-top:10px;text-align:center;font-size:1.2em;color:gray;margin-bottom:30px}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #00000034;cursor:pointer}.zoom2[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom2[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:red;cursor:pointer}.fondo[_ngcontent-%COMP%]{background-image:url(https://static.storyweaver.org.in/illustrations/58816/large/3.jpg);background-size:auto}'],data:{animation:[pm]}});let EG=(()=>{class n{constructor(t){this.errorHandler=t}log(t,...r){(0,u.X6Q)()&&console.log(t,...r)}error(t){this.errorHandler.handleError(t)}warn(t,...r){console.warn(t,...r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const CG=new u.OlP("WindowToken");class AO{get nativeWindow(){throw new Error("Not implemented.")}}let IG=(()=>{class n extends AO{constructor(){super()}get nativeWindow(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const SG={provide:CG,useFactory:function DG(n,e){return so(e)?n.nativeWindow:{setTimeout:(r,i)=>{},clearTimeout:r=>{}}},deps:[AO,u.Lbi]},MG=[{provide:AO,useClass:IG},SG],AG=new u.OlP("DocumentToken");class xO{get nativeDocument(){throw new Error("Not implemented.")}}let xG=(()=>{class n extends xO{constructor(){super()}get nativeDocument(){return document}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const RG={provide:AG,useFactory:function OG(n,e){return so(e)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[xO,u.Lbi]},PG=[{provide:xO,useClass:xG},RG];let NG=(()=>{class n{constructor(t){this.eventManager=t,this.resizeSubject=new on.x,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(t){this.resizeSubject.next(t.target)}onLoaded(t){this.windowWidth=t.target}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ta))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),FG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[MG,NG,PG,EG],imports:[$o]}),n})();class Ib{constructor(e,t){this.firestore=e,this.route=t}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");this.firestore.getDoc("Comerciantes",e).subscribe(t=>{this.negocio=t,this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:this.negocio.lat,lng:this.negocio.long},zoom:16,styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]});const r=new google.maps.LatLng(this.negocio.lat,this.negocio.long),i=new google.maps.Marker({position:r,map:this.map,icon:{url:this.negocio.logo,scaledSize:new google.maps.Size(32,32)}});i.setMap(this.map);const a=new google.maps.InfoWindow({content:`\n    <div style="background-color: #fff; color: #333; padding: 10px;">\n      <h4 style="margin: 0 0 10px;">${this.negocio.nombre}</h4>\n      <p style="margin: 0;">${this.negocio.direccion}</p>\n    </div>\n  `});i.addListener("click",()=>{a.open(this.map,i)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>{this.currentPosition={lat:c.coords.latitude,lng:c.coords.longitude},new google.maps.Marker({position:this.currentPosition,map:this.map,icon:{url:"https://cdn-icons-png.flaticon.com/512/1077/1077012.png",scaledSize:new google.maps.Size(32,32)}})})})}}Ib.\u0275fac=function(e){return new(e||Ib)(u.Y36(Cl),u.Y36(br))},Ib.\u0275cmp=u.Xpm({type:Ib,selectors:[["app-detailnegocios"]],decls:58,vars:17,consts:[[1,"rounded-circle","shadow-lg","mx-auto","d-block",2,"max-width","300px","max-height","300px",3,"src"],[1,"d-flex","align-items-center"],[1,"col-md-8","col-sm-10","text-center","mx-auto","ml-sm-2","my-3","my-sm-0",2,"margin-right","0"],[1,"display-4",2,"font-weight","bold","color","#000000","margin-top","4px"],[2,"border-top","3px solid #bbb","width","100%"],[1,"lead",2,"font-size","20px","color","#000000"],[1,"row","justify-content-center"],[1,"col-md-8","text-center"],[1,"lead","mb-5"],["role","group",1,"btn-group","mb-4","flex-wrap"],[1,"btn","btn-outline-dark","btn-lg","zoom",3,"href"],[1,"bi","bi-telephone"],["role","group",1,"btn-group","flex-wrap"],[1,"btn","btn-outline-success","btn-lg","zoom",3,"href"],[1,"bi","bi-whatsapp"],[1,"col-md-15","col-xs-15","col-sm-15","text-center","mt-4"],["role","group",1,"btn-group","flex-wrap",2,"width","50%"],["target","_blank",1,"btn","btn-instagram","btn-lg","zoom",3,"href"],[1,"bi","bi-instagram","mr-2"],["target","_blank",1,"btn","btn-outline-primary","btn-lg","zoom",3,"href"],[1,"bi","bi-facebook","mr-2"],["target","_blank",1,"btn","btn-outline-info","btn-lg","zoom",3,"href"],[1,"bi","bi-globe2","mr-2"],[1,"d-flex","align-middle","justify-content-center",2,"margin-top","25px"],["src","https://cdn-icons-png.flaticon.com/512/2922/2922532.png","alt","Logo de persona",1,"mx-2",2,"width","40px","height","100%"],[1,"display-4",2,"font-weight","bold","color","#333","font-size","30px"],[1,"display-4",2,"font-weight","bold","color","#000000","margin-top","4px","font-size","xx-large"],["src","https://cdn-icons-png.flaticon.com/512/854/854878.png","alt","Logo de persona",1,"mx-2",2,"width","40px","height","40px"],["id","map",2,"margin-top","10px"],["onclick","window.history.back();",2,"background-color","#ffffff","color","#000000","padding","10px 20px","border-radius","5px","cursor","pointer","margin-top","20px"],[2,"color","white"]],template:function(e,t){1&e&&(u.TgZ(0,"div"),u._UZ(1,"img",0),u.TgZ(2,"div",1)(3,"div",2)(4,"h1",3),u._uU(5),u.qZA(),u._UZ(6,"hr",4),u.TgZ(7,"p",5),u._uU(8),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7)(11,"p",8),u._uU(12,"Comunicate con nosotros a trav\xe9s de los siguientes medios:"),u.qZA(),u.TgZ(13,"div",9)(14,"a",10),u._UZ(15,"i",11),u._uU(16),u.qZA(),u.TgZ(17,"a",10),u._UZ(18,"i",11),u._uU(19),u.qZA()()(),u.TgZ(20,"div",7)(21,"div",12)(22,"a",13),u._UZ(23,"i",14),u._uU(24),u.qZA(),u.TgZ(25,"a",13),u._UZ(26,"i",14),u._uU(27),u.qZA()()(),u.TgZ(28,"div",15)(29,"div",16)(30,"a",17),u._UZ(31,"i",18),u._uU(32,"Instagram"),u.qZA(),u.TgZ(33,"a",19),u._UZ(34,"i",20),u._uU(35,"Facebook"),u.qZA(),u.TgZ(36,"a",21),u._UZ(37,"i",22),u._uU(38,"Sitio web"),u.qZA()(),u.TgZ(39,"div",23),u._UZ(40,"img",24),u.TgZ(41,"h5",25),u._uU(42),u.qZA()(),u.TgZ(43,"div",6)(44,"div",7),u._UZ(45,"hr",4),u.TgZ(46,"h1",26),u._uU(47,"Encuentranos en: "),u.qZA(),u.TgZ(48,"h5",25),u._UZ(49,"img",27),u._uU(50),u.qZA(),u._UZ(51,"div",28),u.qZA()(),u.TgZ(52,"button",29),u._uU(53,"Volver a la p\xe1gina anterior"),u.qZA(),u._UZ(54,"hr",30)(55,"hr",30)(56,"hr",30)(57,"hr",30),u.qZA()()()),2&e&&(u.Q6J("@fade",void 0),u.xp6(1),u.s9C("src",null==t.negocio?null:t.negocio.logo,u.LSH),u.xp6(4),u.Oqu(null==t.negocio?null:t.negocio.nombre),u.xp6(3),u.Oqu(null==t.negocio?null:t.negocio.descripcion),u.xp6(6),u.MGl("href","tel:",null==t.negocio?null:t.negocio.telefono1,"",u.LSH),u.xp6(2),u.hij(" ",null==t.negocio?null:t.negocio.telefono1,""),u.xp6(1),u.MGl("href","tel:",null==t.negocio?null:t.negocio.telefono2,"",u.LSH),u.xp6(2),u.hij(" ",null==t.negocio?null:t.negocio.telefono2,""),u.xp6(3),u.MGl("href","https://wa.me/+57",null==t.negocio?null:t.negocio.whatsapp1,"",u.LSH),u.xp6(2),u.hij(" ",null==t.negocio?null:t.negocio.whatsapp1,""),u.xp6(1),u.MGl("href","https://wa.me/+57",null==t.negocio?null:t.negocio.whatsapp2,"",u.LSH),u.xp6(2),u.hij(" ",null==t.negocio?null:t.negocio.whatsapp2,""),u.xp6(3),u.s9C("href",null==t.negocio?null:t.negocio.instagram,u.LSH),u.xp6(3),u.s9C("href",null==t.negocio?null:t.negocio.facebook,u.LSH),u.xp6(3),u.s9C("href",null==t.negocio?null:t.negocio.web,u.LSH),u.xp6(6),u.Oqu(null==t.negocio?null:t.negocio.dueno),u.xp6(8),u.hij("",null==t.negocio?null:t.negocio.direccion," "))},styles:[".btn-instagram[_ngcontent-%COMP%]{background-color:#fff;color:#e1306c;border-color:#e1306c}.btn-instagram[_ngcontent-%COMP%]:hover{background-color:#e1306c;border-color:#fff;color:#fff}.container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #0000003b}#map[_ngcontent-%COMP%]{height:500px;box-shadow:0 0 8px 8px #0000003b}"],data:{animation:[pm]}});let eq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class Tb{constructor(e,t){this.firestore=e,this.route=t}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");this.firestore.getDoc("Eventos",e).subscribe(t=>{this.evento=t,this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:this.evento.lat,lng:this.evento.long},zoom:16,styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]});const r=new google.maps.LatLng(this.evento.lat,this.evento.long),i=new google.maps.Marker({position:r,map:this.map,icon:{url:this.evento.imagen,scaledSize:new google.maps.Size(32,32)}});i.setMap(this.map);const a=new google.maps.InfoWindow({content:`\n    <div style="background-color: #fff; color: #333; padding: 10px;">\n      <h4 style="margin: 0 0 10px;">${this.evento.nombre}</h4>\n      <p style="margin: 0;">${this.evento.lugar}</p>\n    </div>\n  `});i.addListener("click",()=>{a.open(this.map,i)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>{this.currentPosition={lat:c.coords.latitude,lng:c.coords.longitude},new google.maps.Marker({position:this.currentPosition,map:this.map,icon:{url:"https://cdn-icons-png.flaticon.com/512/1077/1077012.png",scaledSize:new google.maps.Size(32,32)}})})})}}Tb.\u0275fac=function(e){return new(e||Tb)(u.Y36(Cl),u.Y36(br))},Tb.\u0275cmp=u.Xpm({type:Tb,selectors:[["app-detail-eventos"]],decls:28,vars:6,consts:[[1,"shadow-lg","mx-auto","d-block",2,"max-width","100%","max-height","500px","margin-top","10px",3,"src"],[1,"d-flex","align-items-center"],[1,"col-md-8","col-sm-10","text-center","mx-auto","ml-sm-2","my-3","my-sm-0",2,"margin-right","0"],[1,"display-4",2,"font-weight","bold","color","#000000","margin-top","4px"],[2,"border-top","3px solid #bbb","width","100%"],[1,"lead",2,"font-size","20px","color","#000000"],[1,"d-flex","align-middle","justify-content-center",2,"margin-top","25px"],["src","https://cdn-icons-png.flaticon.com/512/2787/2787902.png","alt","Logo de persona",1,"mx-2",2,"width","40px","height","100%"],[1,"display-4",2,"font-weight","bold","color","#333","font-size","30px"],[1,"row","justify-content-center"],[1,"col-md-8","text-center"],[1,"display-4",2,"font-weight","bold","color","#000000","margin-top","4px","font-size","xx-large"],["src","https://cdn-icons-png.flaticon.com/512/854/854878.png","alt","Logo de persona",1,"mx-2",2,"width","40px","height","40px"],["id","map",2,"margin-top","10px"],["onclick","window.history.back();",2,"background-color","#ffffff","color","#000000","padding","10px 20px","border-radius","5px","cursor","pointer","margin-top","20px"],[2,"color","white"]],template:function(e,t){1&e&&(u.TgZ(0,"div"),u._UZ(1,"img",0),u.TgZ(2,"div",1)(3,"div",2)(4,"h1",3),u._uU(5),u.qZA(),u._UZ(6,"hr",4),u.TgZ(7,"p",5),u._uU(8),u.qZA()()(),u.TgZ(9,"div",6),u._UZ(10,"img",7),u.TgZ(11,"h5",8),u._uU(12),u.qZA()(),u.TgZ(13,"div",9)(14,"div",10),u._UZ(15,"hr",4),u.TgZ(16,"h1",11),u._uU(17,"Ubicaci\xf3n: "),u.qZA(),u.TgZ(18,"h5",8),u._UZ(19,"img",12),u._uU(20),u.qZA(),u._UZ(21,"div",13),u.TgZ(22,"button",14),u._uU(23,"Volver a la p\xe1gina anterior"),u.qZA()()(),u._UZ(24,"hr",15)(25,"hr",15)(26,"hr",15)(27,"hr",15),u.qZA()),2&e&&(u.Q6J("@fade",void 0),u.xp6(1),u.s9C("src",null==t.evento?null:t.evento.imagen,u.LSH),u.xp6(4),u.Oqu(null==t.evento?null:t.evento.nombre),u.xp6(3),u.Oqu(null==t.evento?null:t.evento.descripcion),u.xp6(4),u.hij("Organiza: ",null==t.evento?null:t.evento.organizador," "),u.xp6(8),u.hij("",null==t.evento?null:t.evento.lugar," "))},styles:["#map[_ngcontent-%COMP%]{height:500px;box-shadow:0 0 8px 8px #0000003b}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #0000003b}"],data:{animation:[pm]}});const Fo=function(n){return{"bg-primary":n}};function tq(n,e){if(1&n&&(u.TgZ(0,"tr",9)(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA()()),2&n){const t=e.$implicit,r=u.oxw();u.Q6J("ngClass",u.VKq(5,Fo,t.dias.includes(r.diaActual2))),u.xp6(2),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.dias),u.xp6(2),u.Oqu(t.direccion),u.xp6(2),u.Oqu(t.telefono)}}function nq(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td",9),u._uU(6),u.qZA(),u.TgZ(7,"td",9),u._uU(8),u.qZA(),u.TgZ(9,"td",9),u._uU(10),u.qZA(),u.TgZ(11,"td",9),u._uU(12),u.qZA(),u.TgZ(13,"td",9),u._uU(14),u.qZA(),u.TgZ(15,"td",9),u._uU(16),u.qZA()()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(2),u.Oqu(t.disciplina),u.xp6(2),u.Oqu(t.monitor),u.xp6(1),u.Q6J("ngClass",u.VKq(14,Fo,1===r.semana)),u.xp6(1),u.Oqu(t.lunes),u.xp6(1),u.Q6J("ngClass",u.VKq(16,Fo,2===r.semana)),u.xp6(1),u.Oqu(t.martes),u.xp6(1),u.Q6J("ngClass",u.VKq(18,Fo,3===r.semana)),u.xp6(1),u.Oqu(t.miercoles),u.xp6(1),u.Q6J("ngClass",u.VKq(20,Fo,4===r.semana)),u.xp6(1),u.Oqu(t.jueves),u.xp6(1),u.Q6J("ngClass",u.VKq(22,Fo,5===r.semana)),u.xp6(1),u.Oqu(t.viernes),u.xp6(1),u.Q6J("ngClass",u.VKq(24,Fo,6===r.semana)),u.xp6(1),u.Oqu(t.sabado)}}function rq(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td",9),u._uU(6),u.qZA(),u.TgZ(7,"td",9),u._uU(8),u.qZA(),u.TgZ(9,"td",9),u._uU(10),u.qZA(),u.TgZ(11,"td",9),u._uU(12),u.qZA(),u.TgZ(13,"td",9),u._uU(14),u.qZA(),u.TgZ(15,"td",9),u._uU(16),u.qZA()()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(2),u.Oqu(t.disciplina),u.xp6(2),u.Oqu(t.monitor),u.xp6(1),u.Q6J("ngClass",u.VKq(14,Fo,1===r.semana)),u.xp6(1),u.Oqu(t.lunes),u.xp6(1),u.Q6J("ngClass",u.VKq(16,Fo,2===r.semana)),u.xp6(1),u.Oqu(t.martes),u.xp6(1),u.Q6J("ngClass",u.VKq(18,Fo,3===r.semana)),u.xp6(1),u.Oqu(t.miercoles),u.xp6(1),u.Q6J("ngClass",u.VKq(20,Fo,4===r.semana)),u.xp6(1),u.Oqu(t.jueves),u.xp6(1),u.Q6J("ngClass",u.VKq(22,Fo,5===r.semana)),u.xp6(1),u.Oqu(t.viernes),u.xp6(1),u.Q6J("ngClass",u.VKq(24,Fo,6===r.semana)),u.xp6(1),u.Oqu(t.sabado)}}class Sb{constructor(e){this.firestore=e,this.diaActual2="",this.diaActual=0,this.semana=0,this.diaActualNombre="",this.busqueda=""}ngOnInit(){const e=new Date;this.diaActual=e.getDate(),this.diaActual2=this.diaActual.toString(),this.firestore.getCollection("Droguerias").subscribe(r=>{this.droguerias=r}),this.semana=e.getDay(),this.diaActualNombre=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"][this.semana],this.firestore.getCollection2("Polideportivo").subscribe(r=>{this.polideportivo=r}),this.firestore.getCollection2("Estadio").subscribe(r=>{this.estadio=r})}}Sb.\u0275fac=function(e){return new(e||Sb)(u.Y36(Cl))},Sb.\u0275cmp=u.Xpm({type:Sb,selectors:[["app-info"]],decls:81,vars:9,consts:[[1,"container"],[1,"carousel-title"],["src"," https://cdn-icons-png.flaticon.com/512/9894/9894435.png",2,"height","40px","margin-right","10px"],[1,"table-title"],[1,"caption"],[1,"table"],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[2,"color","white"],[3,"ngClass"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._UZ(3,"img",2),u._uU(4," Informac\xedon General"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u.TgZ(6,"div",3)(7,"h2"),u._uU(8,"Droguer\xeda de turno"),u.qZA()(),u.TgZ(9,"caption",4),u._uU(10),u.qZA(),u.TgZ(11,"table",5)(12,"thead")(13,"tr")(14,"th"),u._uU(15,"Droguer\xeda"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"D\xedas"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"Direcci\xf3n"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Tel\xe9fono"),u.qZA()()(),u.TgZ(22,"tbody"),u.YNc(23,tq,9,7,"tr",6),u.qZA()(),u._UZ(24,"hr"),u.TgZ(25,"div",3)(26,"h2"),u._uU(27,"Horarios coliseo"),u.qZA()(),u.TgZ(28,"caption",4),u._uU(29),u.qZA(),u.TgZ(30,"table",5)(31,"thead")(32,"tr")(33,"th"),u._uU(34,"Disciplina Deportiva"),u.qZA(),u.TgZ(35,"th"),u._uU(36,"Monitor"),u.qZA(),u.TgZ(37,"th"),u._uU(38,"Lunes"),u.qZA(),u.TgZ(39,"th"),u._uU(40,"Martes"),u.qZA(),u.TgZ(41,"th"),u._uU(42,"Miercoles"),u.qZA(),u.TgZ(43,"th"),u._uU(44,"Jueves"),u.qZA(),u.TgZ(45,"th"),u._uU(46,"Viernes"),u.qZA(),u.TgZ(47,"th"),u._uU(48,"S\xe1bado"),u.qZA()()(),u.TgZ(49,"tbody"),u.YNc(50,nq,17,26,"tr",7),u.qZA()(),u.TgZ(51,"div",3)(52,"h2"),u._uU(53,"Horarios estadio"),u.qZA()(),u.TgZ(54,"caption",4),u._uU(55),u.qZA(),u.TgZ(56,"table",5)(57,"thead")(58,"tr")(59,"th"),u._uU(60,"Disciplina Deportiva"),u.qZA(),u.TgZ(61,"th"),u._uU(62,"Monitor"),u.qZA(),u.TgZ(63,"th"),u._uU(64,"Lunes"),u.qZA(),u.TgZ(65,"th"),u._uU(66,"Martes"),u.qZA(),u.TgZ(67,"th"),u._uU(68,"Miercoles"),u.qZA(),u.TgZ(69,"th"),u._uU(70,"Jueves"),u.qZA(),u.TgZ(71,"th"),u._uU(72,"Viernes"),u.qZA(),u.TgZ(73,"th"),u._uU(74,"S\xe1bado"),u.qZA()()(),u.TgZ(75,"tbody"),u.YNc(76,rq,17,26,"tr",7),u.qZA()(),u._UZ(77,"hr",8)(78,"hr",8)(79,"hr",8)(80,"hr",8),u.qZA()),2&e&&(u.Q6J("@fade",void 0),u.xp6(1),u.Q6J("@fade",void 0),u.xp6(1),u.Q6J("@fade",void 0),u.xp6(8),u.hij("D\xeda ",t.diaActual,""),u.xp6(13),u.Q6J("ngForOf",t.droguerias),u.xp6(6),u.hij("D\xeda ",t.diaActualNombre,""),u.xp6(21),u.Q6J("ngForOf",t.polideportivo),u.xp6(5),u.hij("D\xeda ",t.diaActualNombre,""),u.xp6(21),u.Q6J("ngForOf",t.estadio))},dependencies:[jt,Ur],styles:[".carousel-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;margin-top:0;padding-bottom:10px;padding-top:5px;font-family:cursive;background-color:#bbb9b954;text-align:center;margin-bottom:20px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0;margin:20px 0;font-size:1rem;font-weight:400;line-height:1.5rem;color:#333}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;padding:12px 15px;text-align:left;background-color:#f2f2f2;border-bottom:1px solid #ccc}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #ccc}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#f2f2f2}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.table-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.bg-primary[_ngcontent-%COMP%]{background-color:#5900ffa2;color:#fff}.table-title[_ngcontent-%COMP%]{background-color:#7584d438;padding:5px}.caption[_ngcontent-%COMP%]{display:block;margin:auto;text-align:center;font-size:large}"],data:{animation:[pm]}});var iq=N(1144);const sq=["addListener","removeListener"],oq=["addEventListener","removeEventListener"],aq=["on","off"];function FI(n,e,t,r){if((0,qi.m)(t)&&(r=t,t=void 0),r)return FI(n,e,t).pipe(ft(r));const[i,a]=function uq(n){return(0,qi.m)(n.addEventListener)&&(0,qi.m)(n.removeEventListener)}(n)?oq.map(c=>f=>n[c](e,f,t)):function lq(n){return(0,qi.m)(n.addListener)&&(0,qi.m)(n.removeListener)}(n)?sq.map(NB(n,e)):function cq(n){return(0,qi.m)(n.on)&&(0,qi.m)(n.off)}(n)?aq.map(NB(n,e)):[];if(!i&&(0,iq.z)(n))return(0,qr.z)(c=>FI(c,e,t))((0,yr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Zn.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function NB(n,e){return t=>r=>n[t](e,r)}const Mh=new Zn.y(th.Z),hq={connector:()=>new on.x};function FB(n,e=hq){const{connector:t}=e;return(0,vr.e)((r,i)=>{const a=t();(0,yr.Xf)(n(function dq(n){return new Zn.y(e=>n.subscribe(e))}(a))).subscribe(i),i.add(r.subscribe(a))})}function LB(n,e){return e?t=>_r(e.pipe(sr(1),function gq(){return(0,vr.e)((n,e)=>{n.subscribe((0,pt.x)(e,th.Z))})}()),t.pipe(LB(n))):(0,qr.z)((t,r)=>(0,yr.Xf)(n(t,r)).pipe(sr(1),Np(t)))}var mq=N(3532);const Mb="Service workers are disabled or not supported by this browser";class LI{constructor(e){if(this.serviceWorker=e,e){const r=FI(e,"controllerchange").pipe((0,U.U)(()=>e.controller)),a=_r(Gi(()=>nt(e.controller)),r);this.worker=a.pipe(Kn(D=>!!D)),this.registration=this.worker.pipe(yn(()=>e.getRegistration()));const w=FI(e,"message").pipe((0,U.U)(D=>D.data)).pipe(Kn(D=>D&&D.type)).pipe(function pq(n){return n?e=>FB(n)(e):e=>function fq(n,e){const t=(0,qi.m)(n)?n:()=>n;return(0,qi.m)(e)?FB(e,{connector:t}):r=>new Gh(r,t)}(new on.x)(e)}());w.connect(),this.events=w}else this.worker=this.events=this.registration=function bq(n){return Gi(()=>ha(new Error(n)))}(Mb)}postMessage(e,t){return this.worker.pipe(sr(1),(0,Yn.b)(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(e,t);return Promise.all([a,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Kn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(sr(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Kn(t=>t.nonce===e),sr(1),(0,U.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let wq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new on.x,!t.isEnabled)return this.messages=Mh,this.notificationClicks=Mh,void(this.subscription=Mh);this.messages=this.sw.eventsOfType("PUSH").pipe((0,U.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,U.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,U.U)(i=>i.pushManager));const r=this.pushManager.pipe(yn(i=>i.getSubscription()));this.subscription=(0,Jx.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Mb));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);return r.applicationServerKey=a,this.pushManager.pipe(yn(c=>c.subscribe(r)),sr(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(sr(1),yn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Mb))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(LI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Eq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Mh,this.available=Mh,this.activated=Mh,void(this.unrecoverable=Mh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Kn(r=>"VERSION_READY"===r.type),(0,U.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(LI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class kO{}const BB=new u.OlP("NGSW_REGISTER_SCRIPT");function Cq(n,e,t,r){return()=>{if(!so(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[c,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=nt(null);break;case"registerWithDelay":i=VB(+f[0]||0);break;case"registerWhenStable":i=f[0]?(0,Jx.T)(UB(n),VB(+f[0])):UB(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(u.R0b).runOutsideAngular(()=>i.pipe(sr(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function VB(n){return nt(null).pipe(function vq(n,e=qf.z){const t=function yq(n=0,e,t=qf.P){let r=-1;return null!=e&&((0,mq.K)(e)?t=e:r=e),new Zn.y(i=>{let a=function _q(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e);return LB(()=>t)}(n))}function UB(n){return n.get(u.z2F).isStable.pipe(Kn(t=>t))}function Iq(n,e){return new LI(so(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Dq=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:BB,useValue:t},{provide:kO,useValue:r},{provide:LI,useFactory:Iq,deps:[kO,u.Lbi]},{provide:u.ip1,useFactory:Cq,deps:[u.zs3,BB,kO,u.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[wq,Eq]}),n})();const Tq=[{path:"",redirectTo:"",pathMatch:"full",component:Zm},{path:"home",component:Zm},{path:"negocios",component:Cb},{path:"eventos",component:Eb},{path:"detailNegocios/:id",component:Ib},{path:"detailEventos/:id",component:Tb},{path:"info",component:Sb}];class Qm{}Qm.\u0275fac=function(e){return new(e||Qm)},Qm.\u0275mod=u.oAB({type:Qm,bootstrap:[vu]}),Qm.\u0275inj=u.cJS({imports:[eq,FG,l2,hG,oa,cT,EE,_2,bD.forRoot(Tq),wl.hO.initializeApp({apiKey:"AIzaSyBO-UGpyBD55KeTUJsOGbxI4ttmUXJ5ybY",authDomain:"comerciantes-restrepo.firebaseapp.com",databaseURL:"https://comerciantes-restrepo-default-rtdb.firebaseio.com",projectId:"comerciantes-restrepo",storageBucket:"comerciantes-restrepo.appspot.com",messagingSenderId:"982260572909",appId:"1:982260572909:web:194b521e51612314bde2e4",measurementId:"G-Z2N2R93WZ4"}),Dq.register("ngsw-worker.js",{enabled:!1})]}),ud().bootstrapModule(Qm).catch(n=>console.error(n))},9751:(mt,Ce,N)=>{N.d(Ce,{y:()=>de});var u=N(930),J=N(727),P=N(8822),ie=N(9635),se=N(2416),te=N(576),ge=N(2806);let de=(()=>{class Q{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const Ge=new Q;return Ge.source=this,Ge.operator=Te,Ge}subscribe(Te,Ge,ot){const pe=function $(Q){return Q&&Q instanceof u.Lv||function z(Q){return Q&&(0,te.m)(Q.next)&&(0,te.m)(Q.error)&&(0,te.m)(Q.complete)}(Q)&&(0,J.Nn)(Q)}(Te)?Te:new u.Hp(Te,Ge,ot);return(0,ge.x)(()=>{const{operator:Se,source:Me}=this;pe.add(Se?Se.call(pe,Me):Me?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ge){Te.error(Ge)}}forEach(Te,Ge){return new(Ge=ue(Ge))((ot,pe)=>{const Se=new u.Hp({next:Me=>{try{Te(Me)}catch(Be){pe(Be),Se.unsubscribe()}},error:pe,complete:ot});this.subscribe(Se)})}_subscribe(Te){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(Te)}[P.L](){return this}pipe(...Te){return(0,ie.U)(Te)(this)}toPromise(Te){return new(Te=ue(Te))((Ge,ot)=>{let pe;this.subscribe(Se=>pe=Se,Se=>ot(Se),()=>Ge(pe))})}}return Q.create=He=>new Q(He),Q})();function ue(Q){var He;return null!==(He=Q??se.v.Promise)&&void 0!==He?He:Promise}},7579:(mt,Ce,N)=>{N.d(Ce,{x:()=>ge});var u=N(9751),J=N(727);const ie=(0,N(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=N(8737),te=N(2806);let ge=(()=>{class ue extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new de(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new ie}next($){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:He,observers:Te}=this;return Q||He?J.Lc:(this.currentObservers=null,Te.push($),new J.w0(()=>{this.currentObservers=null,(0,se.P)(Te,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:He,isStopped:Te}=this;Q?$.error(He):Te&&$.complete()}asObservable(){const $=new u.y;return $.source=this,$}}return ue.create=(z,$)=>new de(z,$),ue})();class de extends ge{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,z)}error(z){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==Q?Q:J.Lc}}},930:(mt,Ce,N)=>{N.d(Ce,{Hp:()=>ot,Lv:()=>Q});var u=N(576),J=N(727),P=N(2416),ie=N(7849),se=N(5032);const te=ue("C",void 0,void 0);function ue(De,Ee,Ae){return{kind:De,value:Ee,error:Ae}}var z=N(3410),$=N(2806);class Q extends J.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,J.Nn)(Ee)&&Ee.add(this)):this.destination=Be}static create(Ee,Ae,Ve){return new ot(Ee,Ae,Ve)}next(Ee){this.isStopped?Me(function de(De){return ue("N",De,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Me(function ge(De){return ue("E",void 0,De)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Me(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Te(De,Ee){return He.call(De,Ee)}class Ge{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Ee)}catch(Ve){pe(Ve)}}error(Ee){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Ee)}catch(Ve){pe(Ve)}else pe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ae){pe(Ae)}}}class ot extends Q{constructor(Ee,Ae,Ve){let Pe;if(super(),(0,u.m)(Ee)||!Ee)Pe={next:Ee??void 0,error:Ae??void 0,complete:Ve??void 0};else{let j;this&&P.v.useDeprecatedNextContext?(j=Object.create(Ee),j.unsubscribe=()=>this.unsubscribe(),Pe={next:Ee.next&&Te(Ee.next,j),error:Ee.error&&Te(Ee.error,j),complete:Ee.complete&&Te(Ee.complete,j)}):Pe=Ee}this.destination=new Ge(Pe)}}function pe(De){P.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(De):(0,ie.h)(De)}function Me(De,Ee){const{onStoppedNotification:Ae}=P.v;Ae&&z.z.setTimeout(()=>Ae(De,Ee))}const Be={closed:!0,next:se.Z,error:function Se(De){throw De},complete:se.Z}},727:(mt,Ce,N)=>{N.d(Ce,{Lc:()=>te,w0:()=>se,Nn:()=>ge});var u=N(576);const P=(0,N(3888).d)(ue=>function($){ue(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,He)=>`${He+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ie=N(8737);class se{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Te of $)Te.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,u.m)(Q))try{Q()}catch(Te){z=Te instanceof P?Te.errors:[Te]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Te of He)try{de(Te)}catch(Ge){z=z??[],Ge instanceof P?z=[...z,...Ge.errors]:z.push(Ge)}}if(z)throw new P(z)}}add(z){var $;if(z&&z!==this)if(this.closed)de(z);else{if(z instanceof se){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,ie.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,ie.P)($,z),z instanceof se&&z._removeParent(this)}}se.EMPTY=(()=>{const ue=new se;return ue.closed=!0,ue})();const te=se.EMPTY;function ge(ue){return ue instanceof se||ue&&"closed"in ue&&(0,u.m)(ue.remove)&&(0,u.m)(ue.add)&&(0,u.m)(ue.unsubscribe)}function de(ue){(0,u.m)(ue)?ue():ue.unsubscribe()}},2416:(mt,Ce,N)=>{N.d(Ce,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Ce,N)=>{N.d(Ce,{E:()=>J});const J=new(N(9751).y)(se=>se.complete())},8996:(mt,Ce,N)=>{N.d(Ce,{D:()=>Ee});var u=N(8421),J=N(5363),P=N(9468),te=N(9751),de=N(2202),ue=N(576),z=N(9672);function Q(Ae,Ve){if(!Ae)throw new Error("Iterable cannot be null");return new te.y(Pe=>{(0,z.f)(Pe,Ve,()=>{const j=Ae[Symbol.asyncIterator]();(0,z.f)(Pe,Ve,()=>{j.next().then(_e=>{_e.done?Pe.complete():Pe.next(_e.value)})},0,!0)})})}var He=N(3670),Te=N(8239),Ge=N(1144),ot=N(6495),pe=N(2206),Se=N(4532),Me=N(3260);function Ee(Ae,Ve){return Ve?function De(Ae,Ve){if(null!=Ae){if((0,He.c)(Ae))return function ie(Ae,Ve){return(0,u.Xf)(Ae).pipe((0,P.R)(Ve),(0,J.Q)(Ve))}(Ae,Ve);if((0,Ge.z)(Ae))return function ge(Ae,Ve){return new te.y(Pe=>{let j=0;return Ve.schedule(function(){j===Ae.length?Pe.complete():(Pe.next(Ae[j++]),Pe.closed||this.schedule())})})}(Ae,Ve);if((0,Te.t)(Ae))return function se(Ae,Ve){return(0,u.Xf)(Ae).pipe((0,P.R)(Ve),(0,J.Q)(Ve))}(Ae,Ve);if((0,pe.D)(Ae))return Q(Ae,Ve);if((0,ot.T)(Ae))return function $(Ae,Ve){return new te.y(Pe=>{let j;return(0,z.f)(Pe,Ve,()=>{j=Ae[de.h](),(0,z.f)(Pe,Ve,()=>{let _e,je;try{({value:_e,done:je}=j.next())}catch(qe){return void Pe.error(qe)}je?Pe.complete():Pe.next(_e)},0,!0)}),()=>(0,ue.m)(j?.return)&&j.return()})}(Ae,Ve);if((0,Me.L)(Ae))return function Be(Ae,Ve){return Q((0,Me.Q)(Ae),Ve)}(Ae,Ve)}throw(0,Se.z)(Ae)}(Ae,Ve):(0,u.Xf)(Ae)}},8421:(mt,Ce,N)=>{N.d(Ce,{Xf:()=>He});var u=N(655),J=N(1144),P=N(8239),ie=N(9751),se=N(3670),te=N(2206),ge=N(4532),de=N(6495),ue=N(3260),z=N(576),$=N(7849),Q=N(8822);function He(De){if(De instanceof ie.y)return De;if(null!=De){if((0,se.c)(De))return function Te(De){return new ie.y(Ee=>{const Ae=De[Q.L]();if((0,z.m)(Ae.subscribe))return Ae.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,J.z)(De))return function Ge(De){return new ie.y(Ee=>{for(let Ae=0;Ae<De.length&&!Ee.closed;Ae++)Ee.next(De[Ae]);Ee.complete()})}(De);if((0,P.t)(De))return function ot(De){return new ie.y(Ee=>{De.then(Ae=>{Ee.closed||(Ee.next(Ae),Ee.complete())},Ae=>Ee.error(Ae)).then(null,$.h)})}(De);if((0,te.D)(De))return Se(De);if((0,de.T)(De))return function pe(De){return new ie.y(Ee=>{for(const Ae of De)if(Ee.next(Ae),Ee.closed)return;Ee.complete()})}(De);if((0,ue.L)(De))return function Me(De){return Se((0,ue.Q)(De))}(De)}throw(0,ge.z)(De)}function Se(De){return new ie.y(Ee=>{(function Be(De,Ee){var Ae,Ve,Pe,j;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,u.KL)(De);!(Ve=yield Ae.next()).done;)if(Ee.next(Ve.value),Ee.closed)return}catch(_e){Pe={error:_e}}finally{try{Ve&&!Ve.done&&(j=Ae.return)&&(yield j.call(Ae))}finally{if(Pe)throw Pe.error}}Ee.complete()})})(De,Ee).catch(Ae=>Ee.error(Ae))})}},6451:(mt,Ce,N)=>{N.d(Ce,{T:()=>te});var u=N(8189),J=N(8421),P=N(515),ie=N(3269),se=N(8996);function te(...ge){const de=(0,ie.yG)(ge),ue=(0,ie._6)(ge,1/0),z=ge;return z.length?1===z.length?(0,J.Xf)(z[0]):(0,u.J)(ue)((0,se.D)(z,de)):P.E}},5403:(mt,Ce,N)=>{N.d(Ce,{x:()=>J});var u=N(930);function J(ie,se,te,ge,de){return new P(ie,se,te,ge,de)}class P extends u.Lv{constructor(se,te,ge,de,ue,z){super(se),this.onFinalize=ue,this.shouldUnsubscribe=z,this._next=te?function($){try{te($)}catch(Q){se.error(Q)}}:super._next,this._error=de?function($){try{de($)}catch(Q){se.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(mt,Ce,N)=>{N.d(Ce,{U:()=>P});var u=N(4482),J=N(5403);function P(ie,se){return(0,u.e)((te,ge)=>{let de=0;te.subscribe((0,J.x)(ge,ue=>{ge.next(ie.call(se,ue,de++))}))})}},8189:(mt,Ce,N)=>{N.d(Ce,{J:()=>P});var u=N(5577),J=N(4671);function P(ie=1/0){return(0,u.z)(J.y,ie)}},5577:(mt,Ce,N)=>{N.d(Ce,{z:()=>de});var u=N(4004),J=N(8421),P=N(4482),ie=N(9672),se=N(5403),ge=N(576);function de(ue,z,$=1/0){return(0,ge.m)(z)?de((Q,He)=>(0,u.U)((Te,Ge)=>z(Q,Te,He,Ge))((0,J.Xf)(ue(Q,He))),$):("number"==typeof z&&($=z),(0,P.e)((Q,He)=>function te(ue,z,$,Q,He,Te,Ge,ot){const pe=[];let Se=0,Me=0,Be=!1;const De=()=>{Be&&!pe.length&&!Se&&z.complete()},Ee=Ve=>Se<Q?Ae(Ve):pe.push(Ve),Ae=Ve=>{Te&&z.next(Ve),Se++;let Pe=!1;(0,J.Xf)($(Ve,Me++)).subscribe((0,se.x)(z,j=>{He?.(j),Te?Ee(j):z.next(j)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Se--;pe.length&&Se<Q;){const j=pe.shift();Ge?(0,ie.f)(z,Ge,()=>Ae(j)):Ae(j)}De()}catch(j){z.error(j)}}))};return ue.subscribe((0,se.x)(z,Ee,()=>{Be=!0,De()})),()=>{ot?.()}}(Q,He,ue,$)))}},5363:(mt,Ce,N)=>{N.d(Ce,{Q:()=>ie});var u=N(9672),J=N(4482),P=N(5403);function ie(se,te=0){return(0,J.e)((ge,de)=>{ge.subscribe((0,P.x)(de,ue=>(0,u.f)(de,se,()=>de.next(ue),te),()=>(0,u.f)(de,se,()=>de.complete(),te),ue=>(0,u.f)(de,se,()=>de.error(ue),te)))})}},3099:(mt,Ce,N)=>{N.d(Ce,{B:()=>se});var u=N(8421),J=N(7579),P=N(930),ie=N(4482);function se(ge={}){const{connector:de=(()=>new J.x),resetOnError:ue=!0,resetOnComplete:z=!0,resetOnRefCountZero:$=!0}=ge;return Q=>{let He,Te,Ge,ot=0,pe=!1,Se=!1;const Me=()=>{Te?.unsubscribe(),Te=void 0},Be=()=>{Me(),He=Ge=void 0,pe=Se=!1},De=()=>{const Ee=He;Be(),Ee?.unsubscribe()};return(0,ie.e)((Ee,Ae)=>{ot++,!Se&&!pe&&Me();const Ve=Ge=Ge??de();Ae.add(()=>{ot--,0===ot&&!Se&&!pe&&(Te=te(De,$))}),Ve.subscribe(Ae),!He&&ot>0&&(He=new P.Hp({next:Pe=>Ve.next(Pe),error:Pe=>{Se=!0,Me(),Te=te(Be,ue,Pe),Ve.error(Pe)},complete:()=>{pe=!0,Me(),Te=te(Be,z),Ve.complete()}}),(0,u.Xf)(Ee).subscribe(He))})(Q)}}function te(ge,de,...ue){if(!0===de)return void ge();if(!1===de)return;const z=new P.Hp({next:()=>{z.unsubscribe(),ge()}});return(0,u.Xf)(de(...ue)).subscribe(z)}},9468:(mt,Ce,N)=>{N.d(Ce,{R:()=>J});var u=N(4482);function J(P,ie=0){return(0,u.e)((se,te)=>{te.add(P.schedule(()=>se.subscribe(te),ie))})}},8505:(mt,Ce,N)=>{N.d(Ce,{b:()=>se});var u=N(576),J=N(4482),P=N(5403),ie=N(4671);function se(te,ge,de){const ue=(0,u.m)(te)||ge||de?{next:te,error:ge,complete:de}:te;return ue?(0,J.e)((z,$)=>{var Q;null===(Q=ue.subscribe)||void 0===Q||Q.call(ue);let He=!0;z.subscribe((0,P.x)($,Te=>{var Ge;null===(Ge=ue.next)||void 0===Ge||Ge.call(ue,Te),$.next(Te)},()=>{var Te;He=!1,null===(Te=ue.complete)||void 0===Te||Te.call(ue),$.complete()},Te=>{var Ge;He=!1,null===(Ge=ue.error)||void 0===Ge||Ge.call(ue,Te),$.error(Te)},()=>{var Te,Ge;He&&(null===(Te=ue.unsubscribe)||void 0===Te||Te.call(ue)),null===(Ge=ue.finalize)||void 0===Ge||Ge.call(ue)}))}):ie.y}},4408:(mt,Ce,N)=>{N.d(Ce,{o:()=>se});var u=N(727);class J extends u.w0{constructor(ge,de){super()}schedule(ge,de=0){return this}}const P={setInterval(te,ge,...de){const{delegate:ue}=P;return ue?.setInterval?ue.setInterval(te,ge,...de):setInterval(te,ge,...de)},clearInterval(te){const{delegate:ge}=P;return(ge?.clearInterval||clearInterval)(te)},delegate:void 0};var ie=N(8737);class se extends J{constructor(ge,de){super(ge,de),this.scheduler=ge,this.work=de,this.pending=!1}schedule(ge,de=0){var ue;if(this.closed)return this;this.state=ge;const z=this.id,$=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId($,z,de)),this.pending=!0,this.delay=de,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId($,this.id,de),this}requestAsyncId(ge,de,ue=0){return P.setInterval(ge.flush.bind(ge,this),ue)}recycleAsyncId(ge,de,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return de;null!=de&&P.clearInterval(de)}execute(ge,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ge,de);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,de){let z,ue=!1;try{this.work(ge)}catch($){ue=!0,z=$||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ge,scheduler:de}=this,{actions:ue}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ue,this),null!=ge&&(this.id=this.recycleAsyncId(de,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Ce,N)=>{N.d(Ce,{v:()=>P});var u=N(6063);class J{constructor(se,te=J.now){this.schedulerActionCtor=se,this.now=te}schedule(se,te=0,ge){return new this.schedulerActionCtor(this,se).schedule(ge,te)}}J.now=u.l.now;class P extends J{constructor(se,te=J.now){super(se,te),this.actions=[],this._active=!1}flush(se){const{actions:te}=this;if(this._active)return void te.push(se);let ge;this._active=!0;do{if(ge=se.execute(se.state,se.delay))break}while(se=te.shift());if(this._active=!1,ge){for(;se=te.shift();)se.unsubscribe();throw ge}}}},4986:(mt,Ce,N)=>{N.d(Ce,{P:()=>ie,z:()=>P});var u=N(4408);const P=new(N(7565).v)(u.o),ie=P},6063:(mt,Ce,N)=>{N.d(Ce,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(mt,Ce,N)=>{N.d(Ce,{z:()=>u});const u={setTimeout(J,P,...ie){const{delegate:se}=u;return se?.setTimeout?se.setTimeout(J,P,...ie):setTimeout(J,P,...ie)},clearTimeout(J){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(mt,Ce,N)=>{N.d(Ce,{h:()=>J});const J=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Ce,N)=>{N.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Ce,N)=>{N.d(Ce,{_6:()=>te,jO:()=>ie,yG:()=>se});var u=N(576),J=N(3532);function P(ge){return ge[ge.length-1]}function ie(ge){return(0,u.m)(P(ge))?ge.pop():void 0}function se(ge){return(0,J.K)(P(ge))?ge.pop():void 0}function te(ge,de){return"number"==typeof P(ge)?ge.pop():de}},8737:(mt,Ce,N)=>{function u(J,P){if(J){const ie=J.indexOf(P);0<=ie&&J.splice(ie,1)}}N.d(Ce,{P:()=>u})},3888:(mt,Ce,N)=>{function u(J){const ie=J(se=>{Error.call(se),se.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}N.d(Ce,{d:()=>u})},2806:(mt,Ce,N)=>{N.d(Ce,{O:()=>ie,x:()=>P});var u=N(2416);let J=null;function P(se){if(u.v.useDeprecatedSynchronousErrorHandling){const te=!J;if(te&&(J={errorThrown:!1,error:null}),se(),te){const{errorThrown:ge,error:de}=J;if(J=null,ge)throw de}}else se()}function ie(se){u.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=se)}},9672:(mt,Ce,N)=>{function u(J,P,ie,se=0,te=!1){const ge=P.schedule(function(){ie(),te?J.add(this.schedule(null,se)):this.unsubscribe()},se);if(J.add(ge),!te)return ge}N.d(Ce,{f:()=>u})},4671:(mt,Ce,N)=>{function u(J){return J}N.d(Ce,{y:()=>u})},1144:(mt,Ce,N)=>{N.d(Ce,{z:()=>u});const u=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(mt,Ce,N)=>{N.d(Ce,{D:()=>J});var u=N(576);function J(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(mt,Ce,N)=>{function u(J){return"function"==typeof J}N.d(Ce,{m:()=>u})},3670:(mt,Ce,N)=>{N.d(Ce,{c:()=>P});var u=N(8822),J=N(576);function P(ie){return(0,J.m)(ie[u.L])}},6495:(mt,Ce,N)=>{N.d(Ce,{T:()=>P});var u=N(2202),J=N(576);function P(ie){return(0,J.m)(ie?.[u.h])}},8239:(mt,Ce,N)=>{N.d(Ce,{t:()=>J});var u=N(576);function J(P){return(0,u.m)(P?.then)}},3260:(mt,Ce,N)=>{N.d(Ce,{L:()=>ie,Q:()=>P});var u=N(655),J=N(576);function P(se){return(0,u.FC)(this,arguments,function*(){const ge=se.getReader();try{for(;;){const{value:de,done:ue}=yield(0,u.qq)(ge.read());if(ue)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(de)}}finally{ge.releaseLock()}})}function ie(se){return(0,J.m)(se?.getReader)}},3532:(mt,Ce,N)=>{N.d(Ce,{K:()=>J});var u=N(576);function J(P){return P&&(0,u.m)(P.schedule)}},4482:(mt,Ce,N)=>{N.d(Ce,{A:()=>J,e:()=>P});var u=N(576);function J(ie){return(0,u.m)(ie?.lift)}function P(ie){return se=>{if(J(se))return se.lift(function(te){try{return ie(te,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Ce,N)=>{function u(){}N.d(Ce,{Z:()=>u})},9635:(mt,Ce,N)=>{N.d(Ce,{U:()=>P,z:()=>J});var u=N(4671);function J(...ie){return P(ie)}function P(ie){return 0===ie.length?u.y:1===ie.length?ie[0]:function(te){return ie.reduce((ge,de)=>de(ge),te)}}},7849:(mt,Ce,N)=>{N.d(Ce,{h:()=>P});var u=N(2416),J=N(3410);function P(ie){J.z.setTimeout(()=>{const{onUnhandledError:se}=u.v;if(!se)throw ie;se(ie)})}},4532:(mt,Ce,N)=>{function u(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Ce,{z:()=>u})},655:(mt,Ce,N)=>{function ie(oe,he){var ye={};for(var Oe in oe)Object.prototype.hasOwnProperty.call(oe,Oe)&&he.indexOf(Oe)<0&&(ye[Oe]=oe[Oe]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(Oe=Object.getOwnPropertySymbols(oe);Le<Oe.length;Le++)he.indexOf(Oe[Le])<0&&Object.prototype.propertyIsEnumerable.call(oe,Oe[Le])&&(ye[Oe[Le]]=oe[Oe[Le]])}return ye}function Q(oe,he,ye,Oe){return new(ye||(ye=Promise))(function(ze,Ye){function We(nn){try{It(Oe.next(nn))}catch(rt){Ye(rt)}}function sn(nn){try{It(Oe.throw(nn))}catch(rt){Ye(rt)}}function It(nn){nn.done?ze(nn.value):function Le(ze){return ze instanceof ye?ze:new ye(function(Ye){Ye(ze)})}(nn.value).then(We,sn)}It((Oe=Oe.apply(oe,he||[])).next())})}function De(oe){return this instanceof De?(this.v=oe,this):new De(oe)}function Ee(oe,he,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Oe=ye.apply(oe,he||[]),ze=[];return Le={},Ye("next"),Ye("throw"),Ye("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Ye(Lt){Oe[Lt]&&(Le[Lt]=function(Hn){return new Promise(function(mn,Tn){ze.push([Lt,Hn,mn,Tn])>1||We(Lt,Hn)})})}function We(Lt,Hn){try{!function sn(Lt){Lt.value instanceof De?Promise.resolve(Lt.value.v).then(It,nn):rt(ze[0][2],Lt)}(Oe[Lt](Hn))}catch(mn){rt(ze[0][3],mn)}}function It(Lt){We("next",Lt)}function nn(Lt){We("throw",Lt)}function rt(Lt,Hn){Lt(Hn),ze.shift(),ze.length&&We(ze[0][0],ze[0][1])}}function Ve(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,he=oe[Symbol.asyncIterator];return he?he.call(oe):(oe=function ot(oe){var he="function"==typeof Symbol&&Symbol.iterator,ye=he&&oe[he],Oe=0;if(ye)return ye.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Oe>=oe.length&&(oe=void 0),{value:oe&&oe[Oe++],done:!oe}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ye={},Oe("next"),Oe("throw"),Oe("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Oe(ze){ye[ze]=oe[ze]&&function(Ye){return new Promise(function(We,sn){!function Le(ze,Ye,We,sn){Promise.resolve(sn).then(function(It){ze({value:It,done:We})},Ye)}(We,sn,(Ye=oe[ze](Ye)).done,Ye.value)})}}}N.d(Ce,{FC:()=>Ee,KL:()=>Ve,_T:()=>ie,mG:()=>Q,qq:()=>De})},4650:(mt,Ce,N)=>{N.d(Ce,{$8M:()=>Wl,$WT:()=>Gn,$Z:()=>H_,AFp:()=>bS,AaK:()=>de,CHM:()=>Fc,CRH:()=>YT,CZH:()=>sv,CqO:()=>$0,D6c:()=>WS,EJc:()=>Kk,EiD:()=>Nb,EpF:()=>z0,F$t:()=>Cf,F4k:()=>uy,FYo:()=>hf,FiY:()=>Jl,GfV:()=>S_,Gpc:()=>$,Hsn:()=>Z0,JOm:()=>Wi,JVY:()=>Y,JZr:()=>ot,KtG:()=>Xu,L6k:()=>ce,LAX:()=>Xe,LFG:()=>$e,LSH:()=>Lb,Lbi:()=>Gk,Lck:()=>kT,MGl:()=>Bg,MMx:()=>zy,NdJ:()=>dy,OlP:()=>pn,Oqu:()=>Gg,P3R:()=>gs,PXZ:()=>cR,Q6J:()=>j0,QGY:()=>Ef,QbO:()=>qk,Qsj:()=>sg,R0b:()=>ko,RDi:()=>Io,Rgc:()=>Hf,SBq:()=>Ld,Sil:()=>Qk,Suo:()=>KT,TTD:()=>Sl,TgZ:()=>Rg,VKq:()=>cE,X6Q:()=>nh,XFs:()=>yt,Xpm:()=>ka,Xts:()=>__,Y36:()=>gf,YKP:()=>Jw,YNc:()=>U0,Yjl:()=>Pa,Yz7:()=>rt,Z0I:()=>Tn,ZZ4:()=>YE,_Bn:()=>Hy,_UZ:()=>ly,_Vd:()=>df,_c5:()=>RR,_uU:()=>pw,aQg:()=>cv,c2e:()=>Wk,cJS:()=>Hn,cg1:()=>Wg,dDg:()=>oR,dqk:()=>Ut,eBb:()=>Ne,eFA:()=>FS,eJc:()=>SE,ekj:()=>Tu,eoX:()=>xS,f3M:()=>it,g9A:()=>ES,h0i:()=>vl,hGG:()=>PR,hij:()=>qg,iGM:()=>cm,ifc:()=>Dt,ip1:()=>vS,jDz:()=>iE,kL8:()=>Iy,lG2:()=>Ra,lqb:()=>mu,lri:()=>MS,mCW:()=>Do,n5z:()=>cd,oAB:()=>kn,oxw:()=>Lg,pB0:()=>Mt,q3G:()=>wr,q4F:()=>Zb,qLn:()=>Bd,qOj:()=>sy,qZA:()=>Pg,qzn:()=>S,rWj:()=>AS,s9C:()=>fy,sBO:()=>$E,s_b:()=>tv,soG:()=>ov,tb:()=>CS,tp0:()=>T,uIk:()=>Mg,vHH:()=>pe,vpe:()=>bl,wAp:()=>xt,xp6:()=>s0,z2F:()=>th,z3N:()=>b,zSh:()=>Hb,zs3:()=>yu});var u=N(7579),J=N(727),P=N(9751),ie=N(6451),se=N(3099);function te(s){for(let o in s)if(s[o]===te)return o;throw Error("Could not find renamed property on target object.")}function ge(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ue(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=te({__forward_ref__:te});function $(s){return s.__forward_ref__=$,s.toString=function(){return de(this())},s}function Q(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===$}function Te(s){return s&&!!s.\u0275providers}const ot="https://g.co/ng/security#xss";class pe extends Error{constructor(o,l){super(Se(o,l)),this.code=o}}function Se(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Me(s){return"string"==typeof s?s:null==s?"":String(s)}function Ve(s,o){throw new pe(-201,!1)}function Ye(s,o){null==s&&function We(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function rt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Hn(s){return{providers:s.providers||[],imports:s.imports||[]}}function mn(s){return An(s,Zr)||An(s,Sn)}function Tn(s){return null!==mn(s)}function An(s,o){return s.hasOwnProperty(o)?s[o]:null}function ci(s){return s&&(s.hasOwnProperty(Ts)||s.hasOwnProperty(Kr))?s[Ts]:null}const Zr=te({\u0275prov:te}),Ts=te({\u0275inj:te}),Sn=te({ngInjectableDef:te}),Kr=te({ngInjectorDef:te});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Ss;function xn(s){const o=Ss;return Ss=s,o}function Tr(s,o,l){const d=mn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&yt.Optional?null:void 0!==o?o:void Ve(de(s))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wn={},zn="__NG_DI_FLAG__",Lr="ngTempTokenPath",Sr="ngTokenPath",Oa=/\n/gm,un="\u0275",ns="__source";let Jt;function Br(s){const o=Jt;return Jt=s,o}function Bi(s,o=yt.Default){if(void 0===Jt)throw new pe(-203,!1);return null===Jt?Tr(s,void 0,o):Jt.get(s,o&yt.Optional?null:void 0,o)}function $e(s,o=yt.Default){return(function bi(){return Ss}()||Bi)(Q(s),o)}function it(s,o=yt.Default){return $e(s,At(o))}function At(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Bt(s){const o=[];for(let l=0;l<s.length;l++){const d=Q(s[l]);if(Array.isArray(d)){if(0===d.length)throw new pe(900,!1);let h,g=yt.Default;for(let v=0;v<d.length;v++){const E=d[v],C=Mr(E);"number"==typeof C?-1===C?h=E.token:g|=C:h=E}o.push($e(h,g))}else o.push($e(d))}return o}function $t(s,o){return s[zn]=o,s.prototype[zn]=o,s}function Mr(s){return s[zn]}function K(s){return{toString:s}.toString()}var me=(()=>((me=me||{})[me.OnPush=0]="OnPush",me[me.Default=1]="Default",me))(),Dt=(()=>{return(s=Dt||(Dt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Dt;var s})();const rn={},St=[],On=te({\u0275cmp:te}),$n=te({\u0275dir:te}),Qt=te({\u0275pipe:te}),wi=te({\u0275mod:te}),tr=te({\u0275fac:te}),to=te({__NG_ELEMENT_ID__:te});let xh=0;function ka(s){return K(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===me.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Dt.Emulated,id:"c"+xh++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=s.dependencies,v=s.features;return h.inputs=Ic(s.inputs,d),h.outputs=Ic(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Cc).filter(Gu):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Vn).filter(Gu):null,h})}function Cc(s){return en(s)||nr(s)}function Gu(s){return null!==s}function kn(s){return K(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ic(s,o){if(null==s)return rn;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const Ra=ka;function Pa(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function en(s){return s[On]||null}function nr(s){return s[$n]||null}function Vn(s){return s[Qt]||null}function Gn(s){const o=en(s)||nr(s)||Vn(s);return null!==o&&o.standalone}function Ar(s,o){const l=s[wi]||null;if(!l&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return l}const ui=0,Qe=1,jt=2,En=3,Vr=4,rs=5,qn=6,Ur=7,Rn=8,Bo=9,Vo=10,Gt=11,Dc=12,Ms=13,Tc=14,Ei=15,xr=16,Uo=17,no=18,Ci=19,As=20,is=21,_n=22,di=1,Wu=2,jo=7,ro=8,jr=9,Or=10;function Yr(s){return Array.isArray(s)&&"object"==typeof s[di]}function Ii(s){return Array.isArray(s)&&!0===s[di]}function Na(s){return 0!=(4&s.flags)}function Di(s){return s.componentOffset>-1}function Sc(s){return 1==(1&s.flags)}function Qr(s){return null!==s.template}function Fa(s){return 0!=(256&s[jt])}function oo(s,o){return s.hasOwnProperty(tr)?s[tr]:null}class ao{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Sl(){return Go}function Go(s){return s.type.prototype.ngOnChanges&&(s.setInput=qo),Ml}function Ml(){const s=Ba(this),o=s?.current;if(o){const l=s.previous;if(l===rn)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function qo(s,o,l,d){const h=this.declaredInputs[l],g=Ba(s)||function Yu(s,o){return s[lo]=o}(s,{previous:rn,current:null}),v=g.current||(g.current={}),E=g.previous,C=E[h];v[h]=new ao(C&&C.currentValue,o,E===rn),s[d]=o}Sl.ngInherit=!0;const lo="__ngSimpleChanges__";function Ba(s){return s[lo]||null}const Xr=function(s,o,l){};function Un(s){for(;Array.isArray(s);)s=s[ui];return s}function co(s,o){return Un(o[s])}function Wn(s,o){return Un(o[s.index])}function Yo(s,o){return s.data[o]}function ur(s,o){const l=o[s];return Yr(l)?l:l[ui]}function Qo(s){return 64==(64&s[jt])}function os(s,o){return null==o?null:s[o]}function Ua(s){s[no]=0}function ja(s,o){s[rs]+=o;let l=s,d=s[En];for(;null!==d&&(1===o&&1===l[rs]||-1===o&&0===l[rs]);)d[rs]+=o,l=d,d=d[En]}const Pt={lFrame:Xm(null),bindingsEnabled:!0};function Rl(){return Pt.bindingsEnabled}function fe(){return Pt.lFrame.lView}function tn(){return Pt.lFrame.tView}function Fc(s){return Pt.lFrame.contextLView=s,s[Rn]}function Xu(s){return Pt.lFrame.contextLView=null,s}function pr(){let s=Ha();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ha(){return Pt.lFrame.currentTNode}function Jr(s,o){const l=Pt.lFrame;l.currentTNode=s,l.isParent=o}function Nl(){return Pt.lFrame.isParent}function Fl(){Pt.lFrame.isParent=!1}function ho(){return Pt.lFrame.bindingIndex++}function td(s,o){const l=Pt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Vc(o)}function Vc(s){Pt.lFrame.currentDirectiveIndex=s}function nd(){return Pt.lFrame.currentQueryIndex}function Uc(s){Pt.lFrame.currentQueryIndex=s}function rd(s){const o=s[Qe];return 2===o.type?o.declTNode:1===o.type?s[qn]:null}function Nh(s,o,l){if(l&yt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&yt.Host||(h=rd(g),null===h||(g=g[Ei],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Pt.lFrame=Fh();return d.currentTNode=o,d.lView=s,!0}function Bl(s){const o=Fh(),l=s[Qe];Pt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Fh(){const s=Pt.lFrame,o=null===s?null:s.child;return null===o?Xm(s):o}function Xm(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Mp(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const jc=Mp;function Ap(){const s=Mp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function zr(){return Pt.lFrame.selectedIndex}function Xo(s){Pt.lFrame.selectedIndex=s}function Cn(){const s=Pt.lFrame;return Yo(s.tView,s.selectedIndex)}function $a(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function fo(s,o,l){Ga(s,o,3,l)}function zc(s,o,l,d){(3&s[jt])===l&&Ga(s,o,l,d)}function Os(s,o){let l=s[jt];(3&l)===o&&(l&=2047,l+=1,s[jt]=l)}function Ga(s,o,l,d){const g=d??-1,v=o.length-1;let E=0;for(let C=void 0!==d?65535&s[no]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=d&&E>=d)break}else o[C]<0&&(s[no]+=65536),(E<g||-1==g)&&(qa(s,l,o,C),s[no]=(4294901760&s[no])+C+2),C++}function qa(s,o,l,d){const h=l[d]<0,g=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[jt]>>11<s[no]>>16&&(3&s[jt])===o){s[jt]+=2048,Xr(4,E,g);try{g.call(E)}finally{Xr(5,E,g)}}}else{Xr(4,E,g);try{g.call(E)}finally{Xr(5,E,g)}}}const ea=-1;class ks{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Pn(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const g=l[d++],v=l[d++],E=l[d++];s.setAttribute(o,v,E,g)}else{const g=h,v=l[++d];ls(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function Wa(s){return 3===s||4===s||6===s}function ls(s){return 64===s.charCodeAt(0)}function cs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||na(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function na(s,o,l,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function $c(s){return s!==ea}function Za(s){return 32767&s}function jl(s,o){let l=function Ul(s){return s>>16}(s),d=o;for(;l>0;)d=d[Ei],l--;return d}let Rs=!0;function ra(s){const o=Rs;return Rs=s,o}const Ka=255,Ya=5;let Hl=0;const mr={};function sa(s,o){const l=Xa(s,o);if(-1!==l)return l;const d=o[Qe];d.firstCreatePass&&(s.injectorIndex=o.length,Ps(d.data,s),Ps(o,null),Ps(d.blueprint,null));const h=zl(s,o),g=s.injectorIndex;if($c(h)){const v=Za(h),E=jl(h,o),C=E[Qe].data;for(let M=0;M<8;M++)o[g+M]=E[v+M]|C[v+M]}return o[g+8]=h,g}function Ps(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Xa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function zl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=qc(h),null===d)return ea;if(l++,h=h[Ei],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return ea}function Ja(s,o,l){!function Qa(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(to)&&(d=l[to]),null==d&&(d=l[to]=Hl++);const h=d&Ka;o.data[s+(h>>Ya)]|=1<<h}(s,o,l)}function mo(s,o,l){if(l&yt.Optional||void 0!==s)return s;Ve()}function el(s,o,l,d){if(l&yt.Optional&&void 0===d&&(d=null),!(l&(yt.Self|yt.Host))){const h=s[Bo],g=xn(void 0);try{return h?h.get(o,d,l&yt.Optional):Tr(o,d,l&yt.Optional)}finally{xn(g)}}return mo(d,0,l)}function ad(s,o,l,d=yt.Default,h){if(null!==s){if(1024&o[jt]){const v=function ud(s,o,l,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[jt]&&!(256&v[jt]);){const E=Hi(g,v,l,d|yt.Self,mr);if(E!==mr)return E;let C=g.parent;if(!C){const M=v[is];if(M){const k=M.get(l,mr,d);if(k!==mr)return k}C=qc(v),v=v[Ei]}g=C}return h}(s,o,l,d,mr);if(v!==mr)return v}const g=Hi(s,o,l,d,mr);if(g!==mr)return g}return el(o,l,d,h)}function Hi(s,o,l,d,h){const g=function ld(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(to)?s[to]:void 0;return"number"==typeof o?o>=0?o&Ka:kp:o}(l);if("function"==typeof g){if(!Nh(o,s,d))return d&yt.Host?mo(h,0,d):el(o,l,d,h);try{const v=g(d);if(null!=v||d&yt.Optional)return v;Ve()}finally{jc()}}else if("number"==typeof g){let v=null,E=Xa(s,o),C=ea,M=d&yt.Host?o[xr][qn]:null;for((-1===E||d&yt.SkipSelf)&&(C=-1===E?zl(s,o):o[E+8],C!==ea&&us(d,!1)?(v=o[Qe],E=Za(C),o=jl(C,o)):E=-1);-1!==E;){const k=o[Qe];if(Gl(g,E,k.data)){const F=$l(E,o,l,v,d,M);if(F!==mr)return F}C=o[E+8],C!==ea&&us(d,o[Qe].data[E+8]===M)&&Gl(g,E,o)?(v=k,E=Za(C),o=jl(C,o)):E=-1}}return h}function $l(s,o,l,d,h,g){const v=o[Qe],E=v.data[s+8],k=_o(E,v,l,null==d?Di(E)&&Rs:d!=v&&0!=(3&E.type),h&yt.Host&&g===E);return null!==k?zi(o,v,k,E):mr}function _o(s,o,l,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,C=s.directiveStart,k=g>>20,W=h?E+k:s.directiveEnd;for(let ee=d?E:E+k;ee<W;ee++){const ve=v[ee];if(ee<C&&l===ve||ee>=C&&ve.type===l)return ee}if(h){const ee=v[C];if(ee&&Qr(ee)&&ee.type===l)return C}return null}function zi(s,o,l,d){let h=s[l];const g=o.data;if(function hi(s){return s instanceof ks}(h)){const v=h;v.resolving&&function De(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new pe(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Me(s)}(g[l]));const E=ra(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?xn(v.injectImpl):null;Nh(s,d,yt.Default);try{h=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Op(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=Go(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==C&&xn(C),ra(E),v.resolving=!1,jc()}}return h}function Gl(s,o,l){return!!(l[o+(s>>Ya)]&1<<s)}function us(s,o){return!(s&yt.Self||s&yt.Host&&o)}class Ti{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return ad(this._tNode,this._lView,o,At(d),l)}}function kp(){return new Ti(pr(),fe())}function cd(s){return K(()=>{const o=s.prototype.constructor,l=o[tr]||ql(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[tr]||ql(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function ql(s){return He(s)?()=>{const o=ql(Q(s));return o&&o()}:oo(s)}function qc(s){const o=s[Qe],l=o.type;return 2===l?o.declTNode:1===l?s[qn]:null}function Wl(s){return function Gc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Wa(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(pr(),s)}const oa="__parameters__";function tl(s,o,l){return K(()=>{const d=function Vh(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(C,M,k){const F=C.hasOwnProperty(oa)?C[oa]:Object.defineProperty(C,oa,{value:[]})[oa];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class pn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=rt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $i(s,o){s.forEach(l=>Array.isArray(l)?$i(l,o):o(l))}function Ql(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function aa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function la(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function $r(s,o,l){let d=Si(s,o);return d>=0?s[1|d]=l:(d=~d,function Hh(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function vo(s,o){const l=Si(s,o);if(l>=0)return s[1|l]}function Si(s,o){return function zh(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const Jl=$t(tl("Optional"),8),T=$t(tl("SkipSelf"),4);var Wi=(()=>((Wi=Wi||{})[Wi.Important=1]="Important",Wi[Wi.DashCase=2]="DashCase",Wi))();const Eo=new Map;let r_=0;const dr="__ngContext__";function Bn(s,o){Yr(o)?(s[dr]=o[As],function i_(s){Eo.set(s[As],s)}(o)):s[dr]=o}let Wt;function il(s,o){return Wt(s,o)}function Mi(s){const o=s[En];return Ii(o)?o[En]:o}function sl(s){return Jc(s[Ms])}function Qh(s){return Jc(s[Vr])}function Jc(s){for(;null!==s&&!Ii(s);)s=s[Vr];return s}function Bs(s,o,l,d,h){if(null!=d){let g,v=!1;Ii(d)?g=d:Yr(d)&&(v=!0,d=d[ui]);const E=Un(d);0===s&&null!==l?null==h?Zi(o,l,E):al(o,l,E,h||null,!0):1===s&&null!==l?al(o,l,E,h||null,!0):2===s?function va(s,o,l){const d=nu(s,o);d&&function d_(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function tf(s,o,l,d,h){const g=l[jo];g!==Un(l)&&Bs(o,s,d,g,h);for(let E=Or;E<l.length;E++){const C=l[E];cl(C[Qe],C,s,o,d,g)}}(o,s,g,l,h)}}function ol(s,o,l){return s.createElement(o,l)}function ya(s,o){const l=s[jr],d=l.indexOf(o),h=o[En];512&o[jt]&&(o[jt]&=-513,ja(h,-1)),l.splice(d,1)}function Jh(s,o){if(s.length<=Or)return;const l=Or+o,d=s[l];if(d){const h=d[Uo];null!==h&&h!==s&&ya(h,d),o>0&&(s[l-1][Vr]=d[Vr]);const g=aa(s,Or+o);!function Cd(s,o){cl(s,o,o[Gt],2,null,null),o[ui]=null,o[qn]=null}(d[Qe],d);const v=g[Ci];null!==v&&v.detachView(g[Qe]),d[En]=null,d[Vr]=null,d[jt]&=-65}return d}function Hp(s,o){if(!(128&o[jt])){const l=o[Gt];l.destroyNode&&cl(s,o,l,3,null,null),function Xh(s){let o=s[Ms];if(!o)return ef(s[Qe],s);for(;o;){let l=null;if(Yr(o))l=o[Ms];else{const d=o[Or];d&&(l=d)}if(!l){for(;o&&!o[Vr]&&o!==s;)Yr(o)&&ef(o[Qe],o),o=o[En];null===o&&(o=s),Yr(o)&&ef(o[Qe],o),l=o&&o[Vr]}o=l}}(o)}}function ef(s,o){if(!(128&o[jt])){o[jt]&=-65,o[jt]|=128,function u_(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof ks)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],C=g[v+1];Xr(4,E,C);try{C.call(E)}finally{Xr(5,E,C)}}else{Xr(4,h,g);try{g.call(h)}finally{Xr(5,h,g)}}}}}(s,o),function zp(s,o){const l=s.cleanup,d=o[Ur];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[Ur]=null}}(s,o),1===o[Qe].type&&o[Gt].destroy();const l=o[Uo];if(null!==l&&Ii(o[En])){l!==o[En]&&ya(l,o);const d=o[Ci];null!==d&&d.detachView(s)}!function Ls(s){Eo.delete(s[As])}(o)}}function Dd(s,o,l){return function tu(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[ui];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===Dt.None||g===Dt.Emulated)return null}return Wn(d,l)}}(s,o.parent,l)}function al(s,o,l,d,h){s.insertBefore(o,l,d,h)}function Zi(s,o,l){s.appendChild(o,l)}function Td(s,o,l,d,h){null!==d?al(s,o,l,d,h):Zi(s,o,l)}function nu(s,o){return s.parentNode(o)}function nc(s,o,l){return Co(s,o,l)}let rc,Ai,rf,ou,Co=function ll(s,o,l){return 40&s.type?Wn(s,l):null};function ru(s,o,l,d){const h=Dd(s,d,o),g=o[Gt],E=nc(d.parent||o[qn],d,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)Td(g,h,l[C],E,!1);else Td(g,h,l,E,!1);void 0!==rc&&rc(g,d,o,l,h)}function fs(s,o){if(null!==o){const l=o.type;if(3&l)return Wn(o,s);if(4&l)return ri(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return fs(s,d);{const h=s[o.index];return Ii(h)?ri(-1,h):Un(h)}}if(32&l)return il(o,s)()||Un(s[o.index]);{const d=$p(s,o);return null!==d?Array.isArray(d)?d[0]:fs(Mi(s[xr]),d):fs(s,o.next)}}return null}function $p(s,o){return null!==o?s[xr][qn].projection[o.projection]:null}function ri(s,o){const l=Or+s+1;if(l<o.length){const d=o[l],h=d[Qe].firstChild;if(null!==h)return fs(d,h)}return o[jo]}function Md(s,o,l,d,h,g,v){for(;null!=l;){const E=d[l.index],C=l.type;if(v&&0===o&&(E&&Bn(Un(E),d),l.flags|=2),32!=(32&l.flags))if(8&C)Md(s,o,l.child,d,h,g,!1),Bs(o,s,h,E,g);else if(32&C){const M=il(l,d);let k;for(;k=M();)Bs(o,s,h,k,g);Bs(o,s,h,E,g)}else 16&C?Ad(s,o,d,l,h,g):Bs(o,s,h,E,g);l=v?l.projectionNext:l.next}}function cl(s,o,l,d,h,g){Md(l,d,s.firstChild,o,h,g,!1)}function Ad(s,o,l,d,h,g){const v=l[xr],C=v[qn].projection[d.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)Bs(o,s,h,C[M],g);else Md(s,o,C,v[En],h,g,!0)}function Vs(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function ul(s,o,l){const{mergedAttrs:d,classes:h,styles:g}=l;null!==d&&Pn(s,o,d),null!==h&&Vs(s,o,h),null!==g&&function qp(s,o,l){s.setAttribute(o,"style",l)}(s,o,g)}function Ki(s){return function iu(){if(void 0===Ai&&(Ai=null,Ut.trustedTypes))try{Ai=Ut.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ai}()?.createHTML(s)||s}function Io(s){rf=s}function Zp(s){return function Od(){if(void 0===ou&&(ou=null,Ut.trustedTypes))try{ou=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ou}()?.createScriptURL(s)||s}class dl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}class p_ extends dl{getTypeName(){return"HTML"}}class Kp extends dl{getTypeName(){return"Style"}}class y extends dl{getTypeName(){return"Script"}}class p extends dl{getTypeName(){return"URL"}}class m extends dl{getTypeName(){return"ResourceURL"}}function b(s){return s instanceof dl?s.changingThisBreaksApplicationSecurity:s}function S(s,o){const l=function R(s){return s instanceof dl&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${ot})`)}return l===o}function Y(s){return new p_(s)}function ce(s){return new Kp(s)}function Ne(s){return new y(s)}function Xe(s){return new p(s)}function Mt(s){return new m(s)}class hr{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Ki(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class br{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=Ki(o),l}}const Yp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Do(s){return(s=String(s)).match(Yp)?s:"unsafe:"+s}function ps(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function wa(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const lu=ps("area,br,col,hr,img,wbr"),cu=ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uu=ps("rp,rt"),hu=wa(lu,wa(cu,ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wa(uu,ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wa(uu,cu)),fu=ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),g_=wa(fu,ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pb=ps("script,style,template");class jI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!hu.hasOwnProperty(l))return this.sanitizedSomething=!0,!Pb.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!g_.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=g.value;fu[E]&&(C=Do(C)),this.buf.push(" ",v,'="',Jp(C),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();hu.hasOwnProperty(l)&&!lu.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Jp(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const sf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xp=/([^\#-~ |!])/g;function Jp(s){return s.replace(/&/g,"&amp;").replace(sf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Xp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eg;function Nb(s,o){let l=null;try{eg=eg||function bt(s){const o=new br(s);return function au(){try{return!!(new window.DOMParser).parseFromString(Ki(""),"text/html")}catch{return!1}}()?new hr(o):o}(s);let d=o?String(o):"";l=eg.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=eg.getInertBodyElement(d)}while(d!==g);return Ki((new jI).sanitizeChildren(af(l)||l))}finally{if(l){const d=af(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function af(s){return"content"in s&&function Fb(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var wr=(()=>((wr=wr||{})[wr.NONE=0]="NONE",wr[wr.HTML=1]="HTML",wr[wr.STYLE=2]="STYLE",wr[wr.SCRIPT=3]="SCRIPT",wr[wr.URL=4]="URL",wr[wr.RESOURCE_URL=5]="RESOURCE_URL",wr))();function Lb(s){const o=lf();return o?o.sanitize(wr.URL,s)||"":S(s,"URL")?b(s):Do(Me(s))}function tg(s){const o=lf();if(o)return Zp(o.sanitize(wr.RESOURCE_URL,s)||"");if(S(s,"ResourceURL"))return Zp(b(s));throw new pe(904,!1)}function gs(s,o,l){return function m_(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?tg:Lb}(o,l)(s)}function lf(){const s=fe();return s&&s[Dc]}const __=new pn("ENVIRONMENT_INITIALIZER"),y_=new pn("INJECTOR",-1),cf=new pn("INJECTOR_DEF_TYPES");class Bb{get(o,l=wn){if(l===wn){const d=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw d.name="NullInjectorError",d}return l}}function Rd(...s){return{\u0275providers:Pd(0,s),\u0275fromNgModule:!0}}function Pd(s,...o){const l=[],d=new Set;let h;return $i(o,g=>{const v=g;v_(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Vb(h,l),l}function Vb(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];pu(h,g=>{o.push(g)})}}function v_(s,o,l,d){if(!(s=Q(s)))return!1;let h=null,g=ci(s);const v=!g&&en(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const C=s.ngModule;if(g=ci(C),!g)return!1;h=C}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of C)v_(M,o,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let M;d.add(h);try{$i(g.imports,k=>{v_(k,o,l,d)&&(M||(M=[]),M.push(k))})}finally{}void 0!==M&&Vb(M,o)}if(!E){const M=oo(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:St},{provide:cf,useValue:h,multi:!0},{provide:__,useValue:()=>$e(h),multi:!0})}const C=g.providers;null==C||E||pu(C,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}function pu(s,o){for(let l of s)Te(l)&&(l=l.\u0275providers),Array.isArray(l)?pu(l,o):o(l)}const qI=te({provide:String,useValue:te});function b_(s){return null!==s&&"object"==typeof s&&qI in s}function gu(s){return"function"==typeof s}const Hb=new pn("Set Injector scope."),ig={},w_={};let Nd;function hl(){return void 0===Nd&&(Nd=new Bb),Nd}class mu{}class zb extends mu{get destroyed(){return this._destroyed}constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C_(o,v=>this.processProvider(v)),this.records.set(y_,Fd(void 0,this)),h.has("environment")&&this.records.set(mu,Fd(void 0,this));const g=this.records.get(Hb);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(cf.multi,St,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Br(this),d=xn(void 0);try{return o()}finally{Br(l),xn(d)}}get(o,l=wn,d=yt.Default){this.assertNotDestroyed(),d=At(d);const h=Br(this),g=xn(void 0);try{if(!(d&yt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function Gb(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&mn(o);E=C&&this.injectableDefInScope(C)?Fd(E_(o),ig):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&yt.Self?hl():this.parent).get(o,l=d&yt.Optional&&l===wn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Lr]=v[Lr]||[]).unshift(de(o)),h)throw v;return function H(s,o,l,d){const h=s[Lr];throw o[ns]&&h.unshift(o[ns]),s.message=function V(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==un?s.slice(2):s;let h=de(o);if(Array.isArray(o))h=o.map(de).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):de(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Oa,"\n  ")}`}("\n"+s.message,h,l,d),s[Sr]=h,s[Lr]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{xn(g),Br(h)}}resolveInjectorInitializers(){const o=Br(this),l=xn(void 0);try{const d=this.get(__.multi,St,yt.Self);for(const h of d)h()}finally{Br(o),xn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(de(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(o){let l=gu(o=Q(o))?o:Q(o&&o.provide);const d=function KI(s){return b_(s)?Fd(void 0,s.useValue):Fd($b(s),ig)}(o);if(gu(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Fd(void 0,ig,!0),h.factory=()=>Bt(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===ig&&(l.value=w_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function QI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Q(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function E_(s){const o=mn(s),l=null!==o?o.factory:oo(s);if(null!==l)return l;if(s instanceof pn)throw new pe(204,!1);if(s instanceof Function)return function ZI(s){const o=s.length;if(o>0)throw la(o,"?"),new pe(204,!1);const l=function li(s){const o=s&&(s[Zr]||s[Sn]);return o?(function Xs(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new pe(204,!1)}function $b(s,o,l){let d;if(gu(s)){const h=Q(s);return oo(h)||E_(h)}if(b_(s))d=()=>Q(s.useValue);else if(function jb(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Bt(s.deps||[]));else if(function Ub(s){return!(!s||!s.useExisting)}(s))d=()=>$e(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function YI(s){return!!s.deps}(s))return oo(h)||E_(h);d=()=>new h(...Bt(s.deps))}return d}function Fd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function C_(s,o){for(const l of s)Array.isArray(l)?C_(l,o):l&&Te(l)?C_(l.\u0275providers,o):o(l)}class I_{}class D_{}class XI{resolveComponentFactory(o){throw function T_(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let df=(()=>{class s{}return s.NULL=new XI,s})();function JI(){return fl(pr(),fe())}function fl(s,o){return new Ld(Wn(s,o))}let Ld=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=JI,s})();function qb(s){return s instanceof Ld?s.nativeElement:s}class hf{}let sg=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Wb(){const s=fe(),l=ur(pr().index,s);return(Yr(l)?l:s)[Gt]}(),s})(),ff=(()=>{class s{}return s.\u0275prov=rt({token:s,providedIn:"root",factory:()=>null}),s})();class S_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Zb=new S_("15.2.1"),M_={},A_="ngOriginalError";function x_(s){return s[A_]}class Bd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&x_(o);for(;l&&x_(l);)l=x_(l);return l||null}}function pl(s){return s instanceof Function?s():s}function Qb(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const Xb="ng-template";function cD(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Qb(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Jb(s){return 4===s.type&&s.value!==Xb}function uD(s,o,l){return o===(4!==s.type||l?s.value:Xb)}function e0(s,o,l){let d=4;const h=s.attrs||[],g=function R_(s){for(let o=0;o<s.length;o++)if(Wa(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!uD(s,C,l)||""===C&&1===o.length){if(ms(d))return!1;v=!0}}else{const M=8&d?C:o[++E];if(8&d&&null!==s.attrs){if(!cD(s.attrs,M,l)){if(ms(d))return!1;v=!0}continue}const F=dD(8&d?"class":C,h,Jb(s),l);if(-1===F){if(ms(d))return!1;v=!0;continue}if(""!==M){let W;W=F>g?"":h[F+1].toLowerCase();const ee=8&d?W:null;if(ee&&-1!==Qb(ee,M,0)||2&d&&M!==W){if(ms(d))return!1;v=!0}}}}else{if(!v&&!ms(d)&&!ms(C))return!1;if(v&&ms(C))continue;v=!1,d=C|1&d}}return ms(d)||v}function ms(s){return 0==(1&s)}function dD(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function hD(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function k_(s,o,l=!1){for(let d=0;d<o.length;d++)if(e0(s,o[d],l))return!0;return!1}function t0(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function pf(s,o){return s?":not("+o.trim()+")":o}function og(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ms(v)&&(o+=pf(g,h),h=""),d=v,g=g||!ms(d);l++}return""!==h&&(o+=pf(g,h)),o}const Zt={};function s0(s){o0(tn(),fe(),zr()+s,!1)}function o0(s,o,l,d){if(!d)if(3==(3&o[jt])){const g=s.preOrderCheckHooks;null!==g&&fo(o,g,l)}else{const g=s.preOrderHooks;null!==g&&zc(o,g,0,l)}Xo(l)}function c0(s,o=null,l=null,d){const h=ii(s,o,l,d);return h.resolveInjectorInitializers(),h}function ii(s,o=null,l=null,d,h=new Set){const g=[l||St,Rd(s)];return d=d||("object"==typeof s?void 0:de(s)),new zb(g,o||hl(),d||null,h)}let yu=(()=>{class s{static create(l,d){if(Array.isArray(l))return c0({name:""},d,l,"");{const h=l.name??"";return c0({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=wn,s.NULL=new Bb,s.\u0275prov=rt({token:s,providedIn:"any",factory:()=>$e(y_)}),s.__NG_ELEMENT_ID__=-1,s})();function gf(s,o=yt.Default){const l=fe();return null===l?$e(s,o):ad(pr(),l,Q(s),o)}function H_(){throw new Error("invalid")}function _0(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const g=l[d+1];if(-1!==g){const v=s.data[g];Uc(l[d]),v.contentQueries(2,o[g],g)}}}function hg(s,o,l,d,h,g,v,E,C,M,k){const F=o.blueprint.slice();return F[ui]=h,F[jt]=76|d,(null!==k||s&&1024&s[jt])&&(F[jt]|=1024),Ua(F),F[En]=F[Ei]=s,F[Rn]=l,F[Vo]=v||s&&s[Vo],F[Gt]=E||s&&s[Gt],F[Dc]=C||s&&s[Dc]||null,F[Bo]=M||s&&s[Bo]||null,F[qn]=g,F[As]=function pa(){return r_++}(),F[is]=k,F[xr]=2==o.type?s[xr]:F,F}function Ud(s,o,l,d,h){let g=s.data[o];if(null===g)g=function z_(s,o,l,d,h){const g=Ha(),v=Nl(),C=s.data[o]=function Ca(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(s,o,l,d,h),function ed(){return Pt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=function Pl(){const s=Pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Jr(g,!0),g}function mf(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function fg(s,o,l){Bl(o);try{const d=s.viewQuery;null!==d&&X_(1,d,l);const h=s.template;null!==h&&ED(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&_0(s,o),s.staticViewQueries&&X_(2,s.viewQuery,l);const g=s.components;null!==g&&function wD(s,o){for(let l=0;l<o.length;l++)FD(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[jt]&=-5,Ap()}}function pg(s,o,l,d){const h=o[jt];if(128!=(128&h)){Bl(o);try{Ua(o),function xs(s){return Pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&ED(s,o,l,2,d);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&fo(o,M,null)}else{const M=s.preOrderHooks;null!==M&&zc(o,M,0,null),Os(o,0)}if(function PD(s){for(let o=sl(s);null!==o;o=Qh(o)){if(!o[Wu])continue;const l=o[jr];for(let d=0;d<l.length;d++){const h=l[d];512&h[jt]||ja(h[En],1),h[jt]|=512}}}(o),function RD(s){for(let o=sl(s);null!==o;o=Qh(o))for(let l=Or;l<o.length;l++){const d=o[l],h=d[Qe];Qo(d)&&pg(h,d,h.template,d[Rn])}}(o),null!==s.contentQueries&&_0(s,o),v){const M=s.contentCheckHooks;null!==M&&fo(o,M)}else{const M=s.contentHooks;null!==M&&zc(o,M,1),Os(o,1)}!function vD(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Xo(~h);else{const g=h,v=l[++d],E=l[++d];td(v,g),E(2,o[g])}}}finally{Xo(-1)}}(s,o);const E=s.components;null!==E&&function bD(s,o){for(let l=0;l<o.length;l++)ND(s,o[l])}(o,E);const C=s.viewQuery;if(null!==C&&X_(2,C,d),v){const M=s.viewCheckHooks;null!==M&&fo(o,M)}else{const M=s.viewHooks;null!==M&&zc(o,M,2),Os(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[jt]&=-41,512&o[jt]&&(o[jt]&=-513,ja(o[En],-1))}finally{Ap()}}}function ED(s,o,l,d,h){const g=zr(),v=2&d;try{Xo(-1),v&&o.length>_n&&o0(s,o,_n,!1),Xr(v?2:0,h),l(d,h)}finally{Xo(g),Xr(v?3:1,h)}}function vu(s,o,l){if(Na(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function gg(s,o,l){Rl()&&(function ZO(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;Di(l)&&function OD(s,o,l){const d=Wn(o,s),h=Ea(l),g=s[Vo],v=vg(s,hg(s,h,null,l.onPush?32:16,d,o,g,g.createRenderer(d,l),null,null,null));s[o.index]=v}(o,l,s.data[h+l.componentOffset]),s.firstCreatePass||sa(l,o),Bn(d,o);const v=l.initialInputs;for(let E=h;E<g;E++){const C=s.data[E],M=zi(o,s,E,l);Bn(M,o),null!==v&&KO(0,E-h,M,C,0,v),Qr(C)&&(ur(l.index,o)[Rn]=zi(o,s,E,l))}}(s,o,l,Wn(l,o)),64==(64&l.flags)&&W_(s,o,l))}function $_(s,o,l=Wn){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function Ea(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=mg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function mg(s,o,l,d,h,g,v,E,C,M){const k=_n+d,F=k+h,W=function _f(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Zt);return l}(k,F),ee="function"==typeof M?M():M;return W[Qe]={type:s,blueprint:W,template:l,queries:null,viewQuery:E,declTNode:o,data:W.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function G_(s,o,l,d){const h=b0(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&w0(s).push(d,h.length-1))}function _g(s,o,l,d){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const g=s[h];null===d?CD(l,o,h,g):d.hasOwnProperty(h)&&CD(l,o,d[h],g)}return l}function CD(s,o,l,d){s.hasOwnProperty(l)?s[l].push(o,d):s[l]=[o,d]}function js(s,o,l,d,h,g,v,E){const C=Wn(o,l);let k,M=o.inputs;!E&&null!=M&&(k=M[d])?(J_(s,l,k,d,h),Di(o)&&ID(l,o.index)):3&o.type&&(d=function qO(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(C,d,h))}function ID(s,o){const l=ur(o,s);16&l[jt]||(l[jt]|=32)}function yg(s,o,l,d){if(Rl()){const h=null===d?null:{"":-1},g=function TD(s,o){const l=s.directiveRegistry;let d=null,h=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];if(k_(o,v.selectors,!1))if(d||(d=[]),Qr(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),d.unshift(...E,v),Z_(s,o,E.length)}else d.unshift(v),Z_(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(s,l);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&jd(s,o,l,v,h,E),h&&function SD(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new pe(-301,!1);d.push(o[h],g)}}}(l,d,h)}l.mergedAttrs=cs(l.mergedAttrs,l.attrs)}function jd(s,o,l,d,h,g){for(let M=0;M<d.length;M++)Ja(sa(l,o),s,d[M].type);!function AD(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,d.length);for(let M=0;M<d.length;M++){const k=d[M];k.providersResolver&&k.providersResolver(k)}let v=!1,E=!1,C=mf(s,o,d.length,null);for(let M=0;M<d.length;M++){const k=d[M];l.mergedAttrs=cs(l.mergedAttrs,k.hostAttrs),xD(s,l,o,C,k),MD(C,k,h),null!==k.contentQueries&&(l.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(l.flags|=64);const F=k.type.prototype;!v&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),v=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),C++}!function yf(s,o,l){const h=o.directiveEnd,g=s.data,v=o.attrs,E=[];let C=null,M=null;for(let k=o.directiveStart;k<h;k++){const F=g[k],W=l?l.get(F):null,ve=W?W.outputs:null;C=_g(F.inputs,k,C,W?W.inputs:null),M=_g(F.outputs,k,M,ve);const Ue=null===C||null===v||Jb(o)?null:kD(C,k,v);E.push(Ue)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=C,o.outputs=M}(s,l,g)}function W_(s,o,l){const d=l.directiveStart,h=l.directiveEnd,g=l.index,v=function Bc(){return Pt.lFrame.currentDirectiveIndex}();try{Xo(g);for(let E=d;E<h;E++){const C=s.data[E],M=o[E];Vc(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&DD(C,M)}}finally{Xo(-1),Vc(v)}}function DD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Z_(s,o,l){o.componentOffset=l,(s.components||(s.components=[])).push(o.index)}function MD(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Qr(o)&&(l[""]=s)}}function xD(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=oo(h.type)),v=new ks(g,Qr(h),gf);s.blueprint[d]=v,l[d]=v,function y0(s,o,l,d,h){const g=h.hostBindings;if(g){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const E=~o.index;(function q_(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(v)!=E&&v.push(E),v.push(l,d,g)}}(s,o,d,mf(s,l,h.hostVars,Zt),h)}function Ia(s,o,l,d,h,g){const v=Wn(s,o);!function K_(s,o,l,d,h,g,v){if(null==g)s.removeAttribute(o,h,l);else{const E=null==v?Me(g):v(g,d||"",h);s.setAttribute(o,h,E,l)}}(o[Gt],v,g,s.value,l,d,h)}function KO(s,o,l,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let C=0;C<v.length;){const M=v[C++],k=v[C++],F=v[C++];null!==E?d.setInput(l,F,M,k):l[k]=F}}}function kD(s,o,l){let d=null,h=0;for(;h<l.length;){const g=l[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const v=s[g];for(let E=0;E<v.length;E+=2)if(v[E]===o){d.push(g,v[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function v0(s,o,l,d){return[s,!0,!1,o,null,0,d,l,null,null]}function ND(s,o){const l=ur(o,s);if(Qo(l)){const d=l[Qe];48&l[jt]?pg(d,l,d.template,l[Rn]):l[rs]>0&&Y_(l)}}function Y_(s){for(let d=sl(s);null!==d;d=Qh(d))for(let h=Or;h<d.length;h++){const g=d[h];if(Qo(g))if(512&g[jt]){const v=g[Qe];pg(v,g,v.template,g[Rn])}else g[rs]>0&&Y_(g)}const l=s[Qe].components;if(null!==l)for(let d=0;d<l.length;d++){const h=ur(l[d],s);Qo(h)&&h[rs]>0&&Y_(h)}}function FD(s,o){const l=ur(o,s),d=l[Qe];(function LD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),fg(d,l,l[Rn])}function vg(s,o){return s[Ms]?s[Tc][Vr]=o:s[Ms]=o,s[Tc]=o,o}function Q_(s){for(;s;){s[jt]|=32;const o=Mi(s);if(Fa(s)&&!o)return s;s=o}return null}function bg(s,o,l,d=!0){const h=o[Vo];h.begin&&h.begin();try{pg(s,o,s.template,l)}catch(v){throw d&&C0(o,v),v}finally{h.end&&h.end()}}function X_(s,o,l){Uc(0),o(s,l)}function b0(s){return s[Ur]||(s[Ur]=[])}function w0(s){return s.cleanup||(s.cleanup=[])}function C0(s,o){const l=s[Bo],d=l?l.get(Bd,null):null;d&&d.handleError(o)}function J_(s,o,l,d,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,d,E):C[E]=h}}function wg(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=ue(h,E):2==g&&(d=ue(d,E+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function Eg(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(Un(g)),Ii(g))for(let E=Or;E<g.length;E++){const C=g[E],M=C[Qe].firstChild;null!==M&&Eg(C[Qe],C,M,d)}const v=l.type;if(8&v)Eg(s,o,l.child,d);else if(32&v){const E=il(l,o);let C;for(;C=E();)d.push(C)}else if(16&v){const E=$p(o,l);if(Array.isArray(E))d.push(...E);else{const C=Mi(o[xr]);Eg(C[Qe],C,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class Cg{get rootNodes(){const o=this._lView,l=o[Qe];return Eg(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(o){this._lView[Rn]=o}get destroyed(){return 128==(128&this._lView[jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[En];if(Ii(o)){const l=o[ro],d=l?l.indexOf(this):-1;d>-1&&(Jh(o,d),aa(l,d))}this._attachedToViewContainer=!1}Hp(this._lView[Qe],this._lView)}onDestroy(o){G_(this._lView[Qe],this._lView,null,o)}markForCheck(){Q_(this._cdRefInjectingView||this._lView)}detach(){this._lView[jt]&=-65}reattach(){this._lView[jt]|=64}detectChanges(){bg(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Id(s,o){cl(s,o,o[Gt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=o}}class BD extends Cg{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;bg(o[Qe],o,o[Rn],!1)}checkNoChanges(){}get context(){return null}}class I0 extends df{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=en(o);return new Hd(l,this.ngModule)}}function D0(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class sc{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){d=At(d);const h=this.injector.get(o,M_,d);return h!==M_||l===M_?h:this.parentInjector.get(o,l,d)}}class Hd extends D_{get inputs(){return D0(this.componentDef.inputs)}get outputs(){return D0(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function n0(s){return s.map(og).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,d,h){let g=(h=h||this.ngModule)instanceof mu?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new sc(o,g):o,E=v.get(hf,null);if(null===E)throw new pe(407,!1);const C=v.get(ff,null),M=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",F=d?function GO(s,o,l){return s.selectRootElement(o,l===Dt.ShadowDom)}(M,d,this.componentDef.encapsulation):ol(M,k,function ey(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),W=this.componentDef.onPush?288:272,ee=mg(0,null,null,1,0,null,null,null,null,null),ve=hg(null,ee,null,W,null,null,E,M,C,v,null);let Ue,Ke;Bl(ve);try{const at=this.componentDef;let Ft,Re=null;at.findHostDirectiveDefs?(Ft=[],Re=new Map,at.findHostDirectiveDefs(at,Ft,Re),Ft.push(at)):Ft=[at];const qt=function ny(s,o){const l=s[Qe],d=_n;return s[d]=o,Ud(l,d,2,"#host",null)}(ve,F),jn=function _s(s,o,l,d,h,g,v,E){const C=h[Qe];!function S0(s,o,l,d){for(const h of s)o.mergedAttrs=cs(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(wg(o,o.mergedAttrs,!0),null!==l&&ul(d,l,o))}(d,s,o,v);const M=g.createRenderer(o,l),k=hg(h,Ea(l),null,l.onPush?32:16,h[s.index],s,g,M,E||null,null,null);return C.firstCreatePass&&Z_(C,s,d.length-1),vg(h,k),h[s.index]=k}(qt,F,at,Ft,ve,E,M);Ke=Yo(ee,_n),F&&function M0(s,o,l,d){if(d)Pn(s,l,["ng-version",Zb.full]);else{const{attrs:h,classes:g}=function r0(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!ms(h))break;h=g}d++}return{attrs:o,classes:l}}(o.selectors[0]);h&&Pn(s,l,h),g&&g.length>0&&Vs(s,l,g.join(" "))}}(M,at,F,d),void 0!==l&&function A0(s,o,l){const d=s.projection=[];for(let h=0;h<o.length;h++){const g=l[h];d.push(null!=g?Array.from(g):null)}}(Ke,this.ngContentSelectors,l),Ue=function ry(s,o,l,d,h,g){const v=pr(),E=h[Qe],C=Wn(v,h);jd(E,h,v,l,null,d);for(let k=0;k<l.length;k++)Bn(zi(h,E,v.directiveStart+k,v),h);W_(E,h,v),C&&Bn(C,h);const M=zi(h,E,v.directiveStart+v.componentOffset,v);if(s[Rn]=h[Rn]=M,null!==g)for(const k of g)k(M,o);return vu(E,v,s),M}(jn,at,Ft,Re,ve,[iy]),fg(ee,ve,null)}finally{Ap()}return new ty(this.componentType,Ue,fl(Ke,ve),ve,Ke)}}class ty extends I_{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new BD(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;J_(g[Qe],g,h,o,l),ID(g,this._tNode.index)}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function iy(){const s=pr();$a(fe()[Qe],s)}function sy(s){let o=function VD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Qr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new pe(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=Ig(s.inputs),v.declaredInputs=Ig(s.declaredInputs),v.outputs=Ig(s.outputs);const E=h.hostBindings;E&&jD(s,E);const C=h.viewQuery,M=h.contentQueries;if(C&&UD(s,C),M&&XO(s,M),ge(s.inputs,h.inputs),ge(s.declaredInputs,h.declaredInputs),ge(s.outputs,h.outputs),Qr(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===sy&&(l=!1)}}o=Object.getPrototypeOf(o)}!function bu(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=cs(h.hostAttrs,l=cs(l,h.hostAttrs))}}(d)}function Ig(s){return s===rn?{}:s===St?[]:s}function UD(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function XO(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function jD(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}function wu(s){return!!vf(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function vf(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function fi(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Mg(s,o,l,d){const h=fe();return fi(h,ho(),o)&&(tn(),Ia(Cn(),h,s,o,l,d)),Mg}function Eu(s,o,l,d){return fi(s,ho(),l)?o+Me(l)+d:Zt}function U0(s,o,l,d,h,g,v,E){const C=fe(),M=tn(),k=s+_n,F=M.firstCreatePass?function Og(s,o,l,d,h,g,v,E,C){const M=o.consts,k=Ud(o,s,4,v||null,os(M,E));yg(o,l,k,os(M,C)),$a(o,k);const F=k.tViews=mg(2,k,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),F.queries=o.queries.embeddedTView(k)),k}(k,M,C,o,l,d,h,g,v):M.data[k];Jr(F,!1);const W=C[Gt].createComment("");ru(M,C,W,F),Bn(W,C),vg(C,C[k]=v0(W,C,W,F)),Sc(F)&&gg(M,C,F),null!=v&&$_(C,F,E)}function j0(s,o,l){const d=fe();return fi(d,ho(),o)&&js(tn(),Cn(),d,s,o,d[Gt],l,!1),j0}function H0(s,o,l,d,h){const v=h?"class":"style";J_(s,l,o.inputs[v],v,d)}function Rg(s,o,l,d){const h=fe(),g=tn(),v=_n+s,E=h[Gt],C=g.firstCreatePass?function kg(s,o,l,d,h,g){const v=o.consts,C=Ud(o,s,2,d,os(v,h));return yg(o,l,C,os(v,g)),null!==C.attrs&&wg(C,C.attrs,!1),null!==C.mergedAttrs&&wg(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(v,g,h,o,l,d):g.data[v],M=h[v]=ol(E,o,function xp(){return Pt.lFrame.currentNamespace}()),k=Sc(C);return Jr(C,!0),ul(E,M,C),32!=(32&C.flags)&&ru(g,h,M,C),0===function kl(){return Pt.lFrame.elementDepthCount}()&&Bn(M,h),function Rc(){Pt.lFrame.elementDepthCount++}(),k&&(gg(g,h,C),vu(g,C,h)),null!==d&&$_(h,C),Rg}function Pg(){let s=pr();Nl()?Fl():(s=s.parent,Jr(s,!1));const o=s;!function Pc(){Pt.lFrame.elementDepthCount--}();const l=tn();return l.firstCreatePass&&($a(l,s),Na(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function od(s){return 0!=(8&s.flags)}(o)&&H0(l,o,fe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Bh(s){return 0!=(16&s.flags)}(o)&&H0(l,o,fe(),o.stylesWithoutHost,!1),Pg}function ly(s,o,l,d){return Rg(s,o,l,d),Pg(),ly}function z0(){return fe()}function Ef(s){return!!s&&"function"==typeof s.then}function uy(s){return!!s&&"function"==typeof s.subscribe}const $0=uy;function dy(s,o,l,d){const h=fe(),g=tn(),v=pr();return function q0(s,o,l,d,h,g,v){const E=Sc(d),M=s.firstCreatePass&&w0(s),k=o[Rn],F=b0(o);let W=!0;if(3&d.type||v){const Ue=Wn(d,o),Ke=v?v(Ue):Ue,at=F.length,Ft=v?qt=>v(Un(qt[d.index])):d.index;let Re=null;if(!v&&E&&(Re=function $D(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const E=o[Ur],C=h[g+2];return E.length>C?E[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=g,Re.__ngLastListenerFn__=g,W=!1;else{g=lc(d,o,k,g,!1);const qt=l.listen(Ke,h,g);F.push(g,qt),M&&M.push(h,Ft,at,at+1)}}else g=lc(d,o,k,g,!1);const ee=d.outputs;let ve;if(W&&null!==ee&&(ve=ee[h])){const Ue=ve.length;if(Ue)for(let Ke=0;Ke<Ue;Ke+=2){const jn=o[ve[Ke]][ve[Ke+1]].subscribe(g),Dn=F.length;F.push(g,jn),M&&M.push(h,d.index,Dn,-(Dn+1))}}}(g,h,h[Gt],v,s,o,d),dy}function W0(s,o,l,d){try{return Xr(6,o,l),!1!==l(d)}catch(h){return C0(s,h),!1}finally{Xr(7,o,l)}}function lc(s,o,l,d,h){return function g(v){if(v===Function)return d;Q_(s.componentOffset>-1?ur(s.index,o):o);let C=W0(o,l,d,v),M=g.__ngNextListenerFn__;for(;M;)C=W0(o,l,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Lg(s=1){return function Jm(s){return(Pt.lFrame.contextLView=function id(s,o){for(;s>0;)o=o[Ei],s--;return o}(s,Pt.lFrame.contextLView))[Rn]}(s)}function hy(s,o){let l=null;const d=function Vd(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?k_(s,g,!0):t0(d,g))return h}else l=h}return l}function Cf(s){const o=fe()[xr][qn];if(!o.projection){const d=o.projection=la(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?hy(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Z0(s,o=0,l){const d=fe(),h=tn(),g=Ud(h,_n+s,16,null,l||null);null===g.projection&&(g.projection=o),Fl(),32!=(32&g.flags)&&function ba(s,o,l){Ad(o[Gt],0,o,l,Dd(s,l,o),nc(l.parent||o[qn],l,o))}(h,d,g)}function fy(s,o,l){return Bg(s,"",o,"",l),fy}function Bg(s,o,l,d,h){const g=fe(),v=Eu(g,o,l,d);return v!==Zt&&js(tn(),Cn(),g,s,v,g[Gt],h,!1),Bg}function Tf(s,o){return s<<17|o<<2}function cc(s){return s>>17&32767}function J0(s){return 2|s}function Du(s){return(131068&s)>>2}function gy(s,o){return-131069&s|o<<2}function Sf(s){return 1|s}function tw(s,o,l,d,h){const g=s[l+1],v=null===o;let E=d?cc(g):Du(g),C=!1;for(;0!==E&&(!1===C||v);){const k=s[E+1];ZD(s[E],o)&&(C=!0,s[E+1]=d?Sf(k):J0(k)),E=d?cc(k):Du(k)}C&&(s[l+1]=d?J0(g):Sf(g))}function ZD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Si(s,o)>=0}function Tu(s,o){return function xo(s,o,l,d){const h=fe(),g=tn(),v=function ji(s){const o=Pt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);g.firstUpdatePass&&function uw(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[zr()],v=function Mf(s,o){return o>=s.expandoStartIndex}(s,l);(function $g(s,o){return 0!=(s.flags&(o?8:16))})(g,d)&&null===o&&!v&&(o=!1),o=function dw(s,o,l,d){const h=function as(s){const o=Pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Af(l=uc(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=uc(h,s,o,l,d),null===g){let C=function hw(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Du(d))return s[cc(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=uc(null,s,o,C[1],d),C=Af(C,o.attrs,d),function fw(s,o,l,d){s[cc(l?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else g=function Ws(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Af(d,s[g].hostAttrs,l);return Af(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function qD(s,o,l,d,h,g){let v=g?o.classBindings:o.styleBindings,E=cc(v),C=Du(v);s[d]=l;let k,M=!1;if(Array.isArray(l)?(k=l[1],(null===k||Si(l,k)>0)&&(M=!0)):k=l,h)if(0!==C){const W=cc(s[E+1]);s[d+1]=Tf(W,E),0!==W&&(s[W+1]=gy(s[W+1],d)),s[E+1]=function py(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Tf(E,0),0!==E&&(s[E+1]=gy(s[E+1],d)),E=d;else s[d+1]=Tf(C,0),0===E?E=d:s[C+1]=gy(s[C+1],d),C=d;M&&(s[d+1]=J0(s[d+1])),tw(s,k,d,!0),tw(s,k,d,!1),function WD(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Si(g,o)>=0&&(l[d+1]=Sf(l[d+1]))}(o,k,s,d,g),v=Tf(E,C),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,d)}}(g,s,v,d),o!==Zt&&fi(h,v,o)&&function _y(s,o,l,d,h,g,v,E){if(!(3&o.type))return;const C=s.data,M=C[E+1],k=function ew(s){return 1==(1&s)}(M)?xf(C,o,l,h,Du(M),v):void 0;zg(k)||(zg(g)||function tk(s){return 2==(2&s)}(M)&&(g=xf(C,null,l,h,E,v)),function Gp(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:Wi.DashCase;null==h?s.removeStyle(l,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Wi.Important),s.setStyle(l,d,h,g))}}(d,v,co(zr(),l),h,g))}(g,g.data[zr()],h,h[Gt],s,h[v+1]=function nT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de(b(s)))),s}(o,l),d,v)}(s,o,null,!0),Tu}function uc(s,o,l,d,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],d=Af(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function Af(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),$r(s,v,!!l||o[++g]))}return void 0===s?null:s}function xf(s,o,l,d,h,g){const v=null===o;let E;for(;h>0;){const C=s[h],M=Array.isArray(C),k=M?C[1]:C,F=null===k;let W=l[h+1];W===Zt&&(W=F?St:void 0);let ee=F?vo(W,d):k===d?W:void 0;if(M&&!zg(ee)&&(ee=vo(C,d)),zg(ee)&&(E=ee,v))return E;const ve=s[h+1];h=v?cc(ve):Du(ve)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(E=vo(C,d))}return E}function zg(s){return void 0!==s}function pw(s,o=""){const l=fe(),d=tn(),h=s+_n,g=d.firstCreatePass?Ud(d,h,1,o,null):d.data[h],v=l[h]=function Ed(s,o){return s.createText(o)}(l[Gt],o);ru(d,l,v,g),Jr(g,!1)}function Gg(s){return qg("",s,""),Gg}function qg(s,o,l){const d=fe(),h=Eu(d,s,o,l);return h!==Zt&&function gl(s,o,l){const d=co(o,s);!function eu(s,o,l){s.setValue(o,l)}(s[Gt],d,l)}(d,zr(),h),qg}const Zd=void 0;var Aw=["en",[["a","p"],["AM","PM"],Zd],[["AM","PM"],Zd,Zd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zd,"{1} 'at' {0}",Zd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mw(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Mu={};function Wg(s){const o=function xw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Dy(o);if(l)return l;const d=o.split("-")[0];if(l=Dy(d),l)return l;if("en"===d)return Aw;throw new pe(701,!1)}function Iy(s){return Wg(s)[xt.PluralCase]}function Dy(s){return s in Mu||(Mu[s]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[s]),Mu[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Kd="en-US";let Sy=Kd;function im(s,o,l,d,h){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)im(s[g],o,l,d,h);else{const g=tn(),v=fe();let E=gu(s)?s:Q(s.provide),C=$b(s);const M=pr(),k=1048575&M.providerIndexes,F=M.directiveStart,W=M.providerIndexes>>20;if(gu(s)||!s.multi){const ee=new ks(C,h,gf),ve=Xw(E,o,h?k:k+W,F);-1===ve?(Ja(sa(M,v),g,E),Qw(g,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(ee),v.push(ee)):(l[ve]=ee,v[ve]=ee)}else{const ee=Xw(E,o,k+W,F),ve=Xw(E,o,k,k+W),Ke=ve>=0&&l[ve];if(h&&!Ke||!h&&!(ee>=0&&l[ee])){Ja(sa(M,v),g,E);const at=function OT(s,o,l,d,h){const g=new ks(s,l,gf);return g.multi=[],g.index=o,g.componentProviders=0,AT(g,h,d&&!l),g}(h?xT:_k,l.length,h,d,C);!h&&Ke&&(l[ve].providerFactory=at),Qw(g,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(at),v.push(at)}else Qw(g,s,ee>-1?ee:ve,AT(l[h?ve:ee],C,!h&&d));!h&&d&&Ke&&l[ve].componentProviders++}}}function Qw(s,o,l,d){const h=gu(o),g=function WI(s){return!!s.useClass}(o);if(h||g){const C=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=M.indexOf(l);-1===k?M.push(l,[d,C]):M[k+1].push(d,C)}else M.push(l,C)}}}function AT(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Xw(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function _k(s,o,l,d){return sm(this.multi,[])}function xT(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=zi(l,l[Qe],this.providerFactory.index,d);g=E.slice(0,v),sm(h,g);for(let C=v;C<E.length;C++)g.push(E[C])}else g=[],sm(h,g);return g}function sm(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Hy(s,o=[]){return l=>{l.providersResolver=(d,h)=>function MT(s,o,l){const d=tn();if(d.firstCreatePass){const h=Qr(s);im(l,d.data,d.blueprint,h,!0),im(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class vl{}class Jw{}function kT(s,o){return new eE(s,o??null)}class eE extends vl{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I0(this);const d=Ar(o);this._bootstrapComponents=pl(d.bootstrap),this._r3Injector=ii(o,l,[{provide:vl,useValue:this},{provide:df,useValue:this.componentFactoryResolver}],de(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class tE extends Jw{constructor(o){super(),this.moduleType=o}create(o){return new eE(this.moduleType,o)}}class nE extends vl{constructor(o,l,d){super(),this.componentFactoryResolver=new I0(this),this.instance=null;const h=new zb([...o,{provide:vl,useValue:this},{provide:df,useValue:this.componentFactoryResolver}],l||hl(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function zy(s,o,l=null){return new nE(s,o,l).injector}let rE=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Pd(0,l.type),h=d.length>0?zy([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rt({token:s,providedIn:"environment",factory:()=>new s($e(mu))}),s})();function iE(s){s.getStandaloneInjector=o=>o.get(rE).getOrCreateStandaloneInjector(s)}function cE(s,o,l,d){return function Yy(s,o,l,d,h,g){const v=o+l;return fi(s,v,h)?function Hs(s,o,l){return s[o]=l}(s,v+1,g?d.call(g,h):d(h)):function Uf(s,o){const l=s[o];return l===Zt?void 0:l}(s,v+1)}(fe(),function rr(){const s=Pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,l,d)}function wE(s){return o=>{setTimeout(s,void 0,o)}}const bl=class bE extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,g=l||(()=>null),v=d;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),g=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(g=wE(g),h&&(h=wE(h)),v&&(v=wE(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof J.w0&&o.add(E),E}};function bk(){return this._results[Symbol.iterator]()}class Jy{get changes(){return this._changes||(this._changes=new bl)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Jy.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=bk)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=function ti(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function gd(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Hf=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ck,s})();const wk=Hf,Ek=class extends wk{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=hg(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[Uo]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Ci];return null!==v&&(h[Ci]=v.createEmbeddedView(d)),fg(d,h,o),new Cg(h)}};function Ck(){return ev(pr(),fe())}function ev(s,o){return 4&s.type?new Ek(o,s,fl(s,o)):null}let tv=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ik,s})();function Ik(){return nv(pr(),fe())}const Dk=tv,EE=class extends Dk{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return fl(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const o=zl(this._hostTNode,this._hostLView);if($c(o)){const l=jl(o,this._hostLView),d=Za(o);return new Ti(l[Qe].data[d+8],l)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=GT(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-Or}createEmbeddedView(o,l,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(l||{},g);return this.insert(v,h),v}createComponent(o,l,d,h,g){const v=o&&!function Yl(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const F=l||{};E=F.index,d=F.injector,h=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const C=v?o:new Hd(en(o)),M=d||this.parentInjector;if(!g&&null==C.ngModule){const W=(v?M:this.parentInjector).get(mu,null);W&&(g=W)}const k=C.create(M,h,void 0,g);return this.insert(k.hostView,E),k}insert(o,l){const d=o._lView,h=d[Qe];if(function xl(s){return Ii(s[En])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const F=d[En],W=new EE(F,F[qn],F[En]);W.detach(W.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function l_(s,o,l,d){const h=Or+d,g=l.length;d>0&&(l[h-1][Vr]=o),d<g-Or?(o[Vr]=l[h],Ql(l,Or+d,o)):(l.push(o),o[Vr]=null),o[En]=l;const v=o[Uo];null!==v&&l!==v&&function c_(s,o){const l=s[jr];o[xr]!==o[En][En][xr]&&(s[Wu]=!0),null===l?s[jr]=[o]:l.push(o)}(v,o);const E=o[Ci];null!==E&&E.insertView(s),o[jt]|=64}(h,d,v,g);const E=ri(g,v),C=d[Gt],M=nu(C,v[jo]);return null!==M&&function jp(s,o,l,d,h,g){d[ui]=h,d[qn]=o,cl(s,d,l,1,h,g)}(h,v[qn],C,d,M,E),o.attachToViewContainerRef(),Ql(zf(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=GT(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Jh(this._lContainer,l);d&&(aa(zf(this._lContainer),l),Hp(d[Qe],d))}detach(o){const l=this._adjustIndex(o,-1),d=Jh(this._lContainer,l);return d&&null!=aa(zf(this._lContainer),l)?new Cg(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function GT(s){return s[ro]}function zf(s){return s[ro]||(s[ro]=[])}function nv(s,o){let l;const d=o[s.index];if(Ii(d))l=d;else{let h;if(8&s.type)h=Un(d);else{const g=o[Gt];h=g.createComment("");const v=Wn(s,o);al(g,nu(g,v),h,function f_(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=l=v0(d,o,h,s),vg(o,l)}return new EE(l,s,o)}class CE{constructor(o){this.queryList=o,this.matches=null}clone(){return new CE(this.queryList)}setDirty(){this.queryList.setDirty()}}class fc{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new fc(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==JT(o,l).matches&&this.queries[l].setDirty()}}class rv{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class IE{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new IE(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ou{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Ou(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,qT(l,g)),this.matchTNodeWithReadOption(o,l,_o(l,o,g,!1,!1))}else d===Hf?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,_o(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ld||h===tv||h===Hf&&4&l.type)this.addMatch(l.index,-2);else{const g=_o(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function qT(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function lm(s,o,l,d){return-1===l?function $f(s,o){return 11&s.type?fl(s,o):4&s.type?ev(s,o):null}(o,s):-2===l?function ku(s,o,l){return l===Ld?fl(o,s):l===Hf?ev(o,s):l===tv?nv(o,s):void 0}(s,o,d):zi(s,s[Qe],l,o)}function WT(s,o,l,d){const h=o[Ci].queries[d];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let C=0;C<v.length;C+=2){const M=v[C];E.push(M<0?null:lm(o,g[M],v[C+1],l.metadata.read))}h.matches=E}return h.matches}function DE(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=WT(s,o,h,l);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)d.push(v[E/2]);else{const M=g[E+1],k=o[-C];for(let F=Or;F<k.length;F++){const W=k[F];W[Uo]===W[En]&&DE(W[Qe],W,M,d)}if(null!==k[jr]){const F=k[jr];for(let W=0;W<F.length;W++){const ee=F[W];DE(ee[Qe],ee,M,d)}}}}}return d}function cm(s){const o=fe(),l=tn(),d=nd();Uc(d+1);const h=JT(l,d);if(s.dirty&&function Va(s){return 4==(4&s[jt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?DE(l,o,d,[]):WT(l,o,h,d);s.reset(g,qb),s.notifyOnChanges()}return!0}return!1}function KT(s,o,l,d){const h=tn();if(h.firstCreatePass){const g=pr();(function XT(s,o,l){null===s.queries&&(s.queries=new IE),s.queries.track(new Ou(o,l))})(h,new rv(o,l,d),g.index),function Tk(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}!function TE(s,o,l){const d=new Jy(4==(4&l));G_(s,o,d,d.destroy),null===o[Ci]&&(o[Ci]=new fc),o[Ci].queries.push(new CE(d))}(h,fe(),l)}function YT(){return function QT(s,o){return s[Ci].queries[o].queryList}(fe(),nd())}function JT(s,o){return s.queries.getByIndex(o)}function SE(s){return!!Ar(s)}function dm(...s){}const vS=new pn("Application Initializer");let sv=(()=>{class s{constructor(l){this.appInits=l,this.resolve=dm,this.reject=dm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Ef(g))l.push(g);else if($0(g)){const v=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)($e(vS,8))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bS=new pn("AppId",{providedIn:"root",factory:function wS(){return`${kE()}${kE()}${kE()}`}});function kE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ES=new pn("Platform Initializer"),Gk=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CS=new pn("appBootstrapListener"),qk=new pn("AnimationModuleType");let Wk=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ov=new pn("LocaleId",{providedIn:"root",factory:()=>it(ov,yt.Optional|yt.SkipSelf)||function Zk(){return typeof $localize<"u"&&$localize.locale||Kd}()}),Kk=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Yk{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Qk=(()=>{class s{compileModuleSync(l){return new tE(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=pl(Ar(l).declarations).reduce((v,E)=>{const C=en(E);return C&&v.push(new Hd(C)),v},[]);return new Yk(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const eR=(()=>Promise.resolve(0))();function RE(s){typeof Zone>"u"?eR.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ko{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bl(!1),this.onMicrotaskEmpty=new bl(!1),this.onStable=new bl(!1),this.onError=new bl(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function tR(){let s=Ut.requestAnimationFrame,o=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iR(s){const o=()=>{!function rR(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ut,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,NE(s),s.isCheckStableRunning=!0,PE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),NE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,E)=>{try{return TS(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),SS(s)}},onInvoke:(l,d,h,g,v,E,C)=>{try{return TS(s),l.invoke(h,g,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),SS(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,NE(s),PE(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ko.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(ko.isInAngularZone())throw new pe(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,nR,dm,dm);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const nR={};function PE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function NE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function TS(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function SS(s){s._nesting--,PE(s)}class sR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bl,this.onMicrotaskEmpty=new bl,this.onStable=new bl,this.onError=new bl}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const MS=new pn(""),AS=new pn("");let FE,oR=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,FE||(function aR(s){FE=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ko.assertNotInAngularZone(),RE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())RE(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)($e(ko),$e(xS),$e(AS))},s.\u0275prov=rt({token:s,factory:s.\u0275fac}),s})(),xS=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return FE?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ru=null;const OS=new pn("AllowMultipleToken"),LE=new pn("PlatformDestroyListeners"),pc=!1;class cR{constructor(o,l){this.name=o,this.token=l}}function FS(s,o,l=[]){const d=`Platform: ${o}`,h=new pn(d);return(g=[])=>{let v=VE();if(!v||v.injector.get(OS,!1)){const E=[...l,...g,{provide:h,useValue:!0}];s?s(E):function RS(s){if(Ru&&!Ru.get(OS,!1))throw new pe(400,!1);Ru=s;const o=s.get(av);(function PS(s){const o=s.get(ES,null);o&&o.forEach(l=>l())})(s)}(function BE(s=[],o){return yu.create({name:o,providers:[{provide:Hb,useValue:"platform"},{provide:LE,useValue:new Set([()=>Ru=null])},...s]})}(E,d))}return function dR(s){const o=VE();if(!o)throw new pe(401,!1);return o}()}}function VE(){return Ru?.get(av)??null}let av=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function UE(s,o){let l;return l="noop"===s?new sR:("zone.js"===s?void 0:s)||new ko(o),l}(d?.ngZone,function BS(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:ko,useValue:h}];return h.run(()=>{const v=yu.create({providers:g,parent:this.injector,name:l.moduleType.name}),E=l.create(v),C=E.injector.get(Bd,null);if(!C)throw new pe(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:k=>{C.handleError(k)}});E.onDestroy(()=>{or(this._modules,E),M.unsubscribe()})}),function qf(s,o,l){try{const d=l();return Ef(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(C,h,()=>{const M=E.injector.get(sv);return M.runInitializers(),M.donePromise.then(()=>(function My(s){Ye(s,"Expected localeId to be defined"),"string"==typeof s&&(Sy=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(ov,Kd)||Kd),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=jE({},d);return function lR(s,o,l){const d=new tE(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(th);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new pe(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(LE,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)($e(yu))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function jE(s,o){return Array.isArray(o)?o.reduce(jE,s):{...s,...o}}let th=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new P.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{ko.assertNotInAngularZone(),RE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{ko.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ie.T)(g,v.pipe((0,se.B)()))}bootstrap(l,d){const h=l instanceof D_;if(!this._injector.get(sv).done){!h&&Gn(l);throw new pe(405,pc)}let v;v=h?l:this._injector.get(df).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function kS(s){return s.isBoundToModule}(v)?void 0:this._injector.get(vl),M=v.create(yu.NULL,[],d||v.selector,E),k=M.location.nativeElement,F=M.injector.get(MS,null);return F?.registerApplication(k),M.onDestroy(()=>{this.detachView(M.hostView),or(this.components,M),F?.unregisterApplication(k)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;or(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(CS,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>or(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new pe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)($e(ko),$e(mu),$e(Bd))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function or(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function nh(){return!1}let $E=(()=>{class s{}return s.__NG_ELEMENT_ID__=gR,s})();function gR(s){return function GE(s,o,l){if(Di(s)&&!l){const d=ur(s.index,o);return new Cg(d,d)}return 47&s.type?new Cg(o[xr],o):null}(pr(),fe(),16==(16&s))}class lv{constructor(){}supports(o){return wu(o)}create(o){return new TR(o)}}const DR=(s,o)=>o;class TR{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||DR}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<$S(d,h,g)?l:d,E=$S(v,h,g),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const M=E-h,k=C-h;if(M!=k){for(let W=0;W<M;W++){const ee=W<g.length?g[W]:g[W]=0,ve=ee+W;k<=ve&&ve<M&&(g[W]=ee+1)}g[v.previousIndex]=k-M}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!wu(o))throw new pe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),d=!0),l=l._next}else h=0,function N0(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new SR(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new zS),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zS),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class SR{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MR{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class zS{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new MR,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $S(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class GS{constructor(){}supports(o){return o instanceof Map||vf(o)}create(){return new AR}}class AR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||vf(o)))throw new pe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new xR(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class xR{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qS(){return new YE([new lv])}let YE=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||qS()),deps:[[s,new T,new Jl]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new pe(901,!1)}}return s.\u0275prov=rt({token:s,providedIn:"root",factory:qS}),s})();function QE(){return new cv([new GS])}let cv=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||QE()),deps:[[s,new T,new Jl]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new pe(901,!1)}}return s.\u0275prov=rt({token:s,providedIn:"root",factory:QE}),s})();const RR=FS(null,"core",[]);let PR=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)($e(th))},s.\u0275mod=kn({type:s}),s.\u0275inj=Hn({}),s})();function WS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(mt,Ce,N)=>{N.d(Ce,{Z:()=>Ge});var u=N(2090),J=N(4859),P=N(9681),ie=N(1877);class se{constructor(pe,Se){this._delegate=pe,this.firebase=Se,(0,P._addComponent)(pe,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(pe,Se=P._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(pe);return!Be.isInitialized()&&"EXPLICIT"===(null===(Me=Be.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Se})}_removeServiceInstance(pe,Se=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Se)}_addComponent(pe){(0,P._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,P._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ue(){const ot=function de(ot){const pe={},Se={__esModule:!0,initializeApp:function De(Pe,j={}){const _e=P.initializeApp(Pe,j);if((0,u.r3)(pe,_e.name))return pe[_e.name];const je=new ot(_e,Se);return pe[_e.name]=je,je},app:Be,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Pe){const j=Pe.name,_e=j.replace("-compat","");if(P._registerComponent(Pe)&&"PUBLIC"===Pe.type){const je=(qe=Be())=>{if("function"!=typeof qe[_e])throw ge.create("invalid-app-argument",{appName:j});return qe[_e]()};void 0!==Pe.serviceProps&&(0,u.ZB)(je,Pe.serviceProps),Se[_e]=je,ot.prototype[_e]=function(...qe){return this._getService.bind(this,j).apply(this,Pe.multipleInstances?qe:[])}}return"PUBLIC"===Pe.type?Se[_e]:null},removeApp:function Me(Pe){delete pe[Pe]},useAsService:function Ve(Pe,j){return"serverAuth"===j?null:j},modularAPIs:P}};function Be(Pe){if(!(0,u.r3)(pe,Pe=Pe||P._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Pe});return pe[Pe]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ee(){return Object.keys(pe).map(Pe=>pe[Pe])}}),Be.App=ot,Se}(se);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function pe(Se){(0,u.ZB)(ot,Se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ot}(),$=new ie.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=z;!function Te(ot){(0,P.registerVersion)("@firebase/app-compat","0.2.4",ot)}()},9681:(mt,Ce,N)=>{N.r(Ce),N.d(Ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>li,_DEFAULT_ENTRY_NAME:()=>Le,_addComponent:()=>sn,_addOrOverwriteComponent:()=>It,_apps:()=>Ye,_clearComponents:()=>Hn,_components:()=>We,_getProvider:()=>rt,_registerComponent:()=>nn,_removeServiceInstance:()=>Lt,deleteApp:()=>Ts,getApp:()=>ci,getApps:()=>Zr,initializeApp:()=>Xs,onLog:()=>yt,registerVersion:()=>Kr,setLogLevel:()=>Ss});var u=N(5861),J=N(4859),P=N(1877),ie=N(2090),se=N(8766);class te{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function ge($e){return"VERSION"===$e.getComponent()?.type}(it)){const At=it.getImmediate();return`${At.library}/${At.version}`}return null}).filter(it=>it).join(" ")}}const de="@firebase/app",z=new P.Yd("@firebase/app"),Le="[DEFAULT]",ze={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,We=new Map;function sn($e,Ie){try{$e.container.addComponent(Ie)}catch(it){z.debug(`Component ${Ie.name} failed to register with FirebaseApp ${$e.name}`,it)}}function It($e,Ie){$e.container.addOrOverwriteComponent(Ie)}function nn($e){const Ie=$e.name;if(We.has(Ie))return z.debug(`There were multiple attempts to register component ${Ie}.`),!1;We.set(Ie,$e);for(const it of Ye.values())sn(it,$e);return!0}function rt($e,Ie){const it=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),$e.container.getProvider(Ie)}function Lt($e,Ie,it=Le){rt($e,Ie).clearInstance(it)}function Hn(){We.clear()}const Tn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class An{constructor(Ie,it,At){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const li="9.17.2";function Xs($e,Ie={}){let it=$e;"object"!=typeof Ie&&(Ie={name:Ie});const At=Object.assign({name:Le,automaticDataCollectionEnabled:!1},Ie),Bt=At.name;if("string"!=typeof Bt||!Bt)throw Tn.create("bad-app-name",{appName:String(Bt)});if(it||(it=(0,ie.aH)()),!it)throw Tn.create("no-options");const $t=Ye.get(Bt);if($t){if((0,ie.vZ)(it,$t.options)&&(0,ie.vZ)(At,$t.config))return $t;throw Tn.create("duplicate-app",{appName:Bt})}const Mr=new J.H0(Bt);for(const V of We.values())Mr.addComponent(V);const H=new An(it,At,Mr);return Ye.set(Bt,H),H}function ci($e=Le){const Ie=Ye.get($e);if(!Ie&&$e===Le)return Xs();if(!Ie)throw Tn.create("no-app",{appName:$e});return Ie}function Zr(){return Array.from(Ye.values())}function Ts($e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*($e){const Ie=$e.name;Ye.has(Ie)&&(Ye.delete(Ie),yield Promise.all($e.container.getProviders().map(it=>it.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Kr($e,Ie,it){var At;let Bt=null!==(At=ze[$e])&&void 0!==At?At:$e;it&&(Bt+=`-${it}`);const $t=Bt.match(/\s|\//),Mr=Ie.match(/\s|\//);if($t||Mr){const H=[`Unable to register library "${Bt}" with version "${Ie}":`];return $t&&H.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),$t&&Mr&&H.push("and"),Mr&&H.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void z.warn(H.join(" "))}nn(new J.wA(`${Bt}-version`,()=>({library:Bt,version:Ie}),"VERSION"))}function yt($e,Ie){if(null!==$e&&"function"!=typeof $e)throw Tn.create("invalid-log-argument");(0,P.Am)($e,Ie)}function Ss($e){(0,P.Ub)($e)}const bi="firebase-heartbeat-database",xn=1,Tr="firebase-heartbeat-store";let Js=null;function Ut(){return Js||(Js=(0,se.X3)(bi,xn,{upgrade:($e,Ie)=>{0===Ie&&$e.createObjectStore(Tr)}}).catch($e=>{throw Tn.create("idb-open",{originalErrorMessage:$e.message})})),Js}function Ot(){return(Ot=(0,u.Z)(function*($e){try{return(yield Ut()).transaction(Tr).objectStore(Tr).get(zn($e))}catch(Ie){if(Ie instanceof ie.ZR)z.warn(Ie.message);else{const it=Tn.create("idb-get",{originalErrorMessage:Ie?.message});z.warn(it.message)}}})).apply(this,arguments)}function eo($e,Ie){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*($e,Ie){try{const At=(yield Ut()).transaction(Tr,"readwrite");return yield At.objectStore(Tr).put(Ie,zn($e)),At.done}catch(it){if(it instanceof ie.ZR)z.warn(it.message);else{const At=Tn.create("idb-set",{originalErrorMessage:it?.message});z.warn(At.message)}}})).apply(this,arguments)}function zn($e){return`${$e.name}!${$e.options.appId}`}class Oa{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new Jt(it),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var Ie=this;return(0,u.Z)(function*(){const At=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=un();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!Ie._heartbeatsCache.heartbeats.some($t=>$t.date===Bt))return Ie._heartbeatsCache.heartbeats.push({date:Bt,agent:At}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter($t=>{const Mr=new Date($t.date).valueOf();return Date.now()-Mr<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,u.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const it=un(),{heartbeatsToSend:At,unsentEntries:Bt}=function ns($e,Ie=1024){const it=[];let At=$e.slice();for(const Bt of $e){const $t=it.find(Mr=>Mr.agent===Bt.agent);if($t){if($t.dates.push(Bt.date),Br(it)>Ie){$t.dates.pop();break}}else if(it.push({agent:Bt.agent,dates:[Bt.date]}),Br(it)>Ie){it.pop();break}At=At.slice(1)}return{heartbeatsToSend:it,unsentEntries:At}}(Ie._heartbeatsCache.heartbeats),$t=(0,ie.L)(JSON.stringify({version:2,heartbeats:At}));return Ie._heartbeatsCache.lastSentHeartbeatDate=it,Bt.length>0?(Ie._heartbeatsCache.heartbeats=Bt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),$t})()}}function un(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,u.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function wt($e){return Ot.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var it=this;return(0,u.Z)(function*(){var At;if(yield it._canUseIndexedDBPromise){const $t=yield it.read();return eo(it.app,{lastSentHeartbeatDate:null!==(At=Ie.lastSentHeartbeatDate)&&void 0!==At?At:$t.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var it=this;return(0,u.Z)(function*(){var At;if(yield it._canUseIndexedDBPromise){const $t=yield it.read();return eo(it.app,{lastSentHeartbeatDate:null!==(At=Ie.lastSentHeartbeatDate)&&void 0!==At?At:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Ie.heartbeats]})}})()}}function Br($e){return(0,ie.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Bi($e){nn(new J.wA("platform-logger",Ie=>new te(Ie),"PRIVATE")),nn(new J.wA("heartbeat",Ie=>new Oa(Ie),"PRIVATE")),Kr(de,"0.9.4",$e),Kr(de,"0.9.4","esm2017"),Kr("fire-js","")}("")},4859:(mt,Ce,N)=>{N.d(Ce,{H0:()=>de,wA:()=>P});var u=N(5861),J=N(2090);class P{constructor(z,$,Q){this.name=z,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ie="[DEFAULT]";class se{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const Q=new J.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:$});He&&Q.resolve(He)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const Q=this.normalizeInstanceIdentifier(z?.identifier),He=null!==($=z?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Te){if(He)return null;throw Te}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ge(ue){return"EAGER"===ue.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier($);try{const Te=this.getOrInitializeService({instanceIdentifier:He});Q.resolve(Te)}catch{}}}}clearInstance(z=ie){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,u.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ie){return this.instances.has(z)}getOptions(z=ie){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,Q=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[Te,Ge]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Te)&&Ge.resolve(He);return He}onInit(z,$){var Q;const He=this.normalizeInstanceIdentifier($),Te=null!==(Q=this.onInitCallbacks.get(He))&&void 0!==Q?Q:new Set;Te.add(z),this.onInitCallbacks.set(He,Te);const Ge=this.instances.get(He);return Ge&&z(Ge,He),()=>{Te.delete(z)}}invokeOnInitCallbacks(z,$){const Q=this.onInitCallbacks.get($);if(Q)for(const He of Q)try{He(z,$)}catch{}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let Q=this.instances.get(z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=z,ue===ie?void 0:ue),options:$}),this.instances.set(z,Q),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(Q,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Q)}catch{}var ue;return Q||null}normalizeInstanceIdentifier(z=ie){return this.component?this.component.multipleInstances?z:ie:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new se(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Ce,N)=>{N.d(Ce,{Am:()=>ue,Ub:()=>de,Yd:()=>ge,in:()=>J});const u=[];var J=(()=>{return(z=J||(J={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",J;var z})();const P={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ie=J.INFO,se={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},te=(z,$,...Q)=>{if($<z.logLevel)return;const He=(new Date).toISOString(),Te=se[$];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Te](`[${He}]  ${z.name}:`,...Q)};class ge{constructor($){this.name=$,this._logLevel=ie,this._logHandler=te,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in J))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...$),this._logHandler(this,J.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...$),this._logHandler(this,J.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,J.INFO,...$),this._logHandler(this,J.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,J.WARN,...$),this._logHandler(this,J.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...$),this._logHandler(this,J.ERROR,...$)}}function de(z){u.forEach($=>{$.setLogLevel(z)})}function ue(z,$){for(const Q of u){let He=null;$&&$.level&&(He=P[$.level]),Q.userLogHandler=null===z?null:(Te,Ge,...ot)=>{const pe=ot.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");Ge>=(He??Te.logLevel)&&z({level:J[Ge].toLowerCase(),message:pe,args:ot,type:Te.name})}}}},259:(mt,Ce,N)=>{N.d(Ce,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=N(9681);(0,u.registerVersion)("firebase","9.17.2","app")},9260:(mt,Ce,N)=>{N.d(Ce,{Z:()=>u.Z});var u=N(3942);u.Z.registerVersion("firebase","9.17.2","app-compat")},4217:(mt,Ce,N)=>{N.r(Ce);var u=N(5861),J=N(3942),P=N(2090),ie=N(9681),se=N(1877),te=N(655),ge=N(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q_EMAIL_SIGNIN="EMAIL_SIGNIN",Q_PASSWORD_RESET="PASSWORD_RESET",Q_RECOVER_EMAIL="RECOVER_EMAIL",Q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Q_VERIFY_EMAIL="VERIFY_EMAIL";const Ge=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new se.Yd("@firebase/auth");function Be(y,...p){Me.logLevel<=se.in.ERROR&&Me.error(`Auth (${ie.SDK_VERSION}): ${y}`,...p)}function De(y,...p){throw Pe(y,...p)}function Ee(y,...p){return Pe(y,...p)}function Ae(y,p,m){const b=Object.assign(Object.assign({},ot()),{[p]:m});return new P.LL("auth","Firebase",b).create(p,{appName:y.name})}function Ve(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&De(y,"argument-error"),Ae(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return pe.create(y,...p)}function j(y,p,...m){if(!y)throw Pe(p,...m)}function _e(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Be(p),new Error(p)}function je(y,p){y||_e(p)}const qe=new Map;function _t(y){je(y instanceof Function,"Expected a class definition");let p=qe.get(y);return p?(je(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,qe.set(y,p),p)}function he(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ye(){return"http:"===Oe()||"https:"===Oe()}function Oe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ye{constructor(p,m){this.shortDelay=p,this.longDelay=m,je(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Le(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ye()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function We(y,p){je(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class sn{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new Ye(3e4,6e4);function rt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Lt(y,p,m,b){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(y,p,m,b,S={}){return mn(y,S,(0,u.Z)(function*(){let R={},Y={};b&&("GET"===p?Y=b:R={body:JSON.stringify(b)});const ce=(0,P.xO)(Object.assign({key:y.config.apiKey},Y)).slice(1),Ne=yield y._getAdditionalHeaders();return Ne["Content-Type"]="application/json",y.languageCode&&(Ne["X-Firebase-Locale"]=y.languageCode),sn.fetch()(Xs(y,y.config.apiHost,m,ce),Object.assign({method:p,headers:Ne,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function mn(y,p,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},It),p);try{const S=new ci(y),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const Y=yield R.json();if("needConfirmation"in Y)throw Zr(y,"account-exists-with-different-credential",Y);if(R.ok&&!("errorMessage"in Y))return Y;{const ce=R.ok?Y.errorMessage:Y.error.message,[Ne,Xe]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw Zr(y,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Ne)throw Zr(y,"email-already-in-use",Y);if("USER_DISABLED"===Ne)throw Zr(y,"user-disabled",Y);const Mt=b[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Ae(y,Mt,Xe);De(y,Mt)}}catch(S){if(S instanceof P.ZR)throw S;De(y,"internal-error",{message:String(S)})}})).apply(this,arguments)}function An(y,p,m,b){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(y,p,m,b,S={}){const R=yield Lt(y,p,m,b,S);return"mfaPendingCredential"in R&&De(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Xs(y,p,m,b){const S=`${p}${m}?${b}`;return y.config.emulator?We(y.config,S):`${y.config.apiScheme}://${S}`}class ci{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ee(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zr(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=Ee(y,p,b);return S.customData._tokenResponse=m,S}function Sn(){return(Sn=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function xn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ut(){return(Ut=(0,u.Z)(function*(y,p=!1){const m=(0,P.m9)(y),b=yield m.getIdToken(p),S=Ot(b);j(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,Y=R?.sign_in_provider;return{claims:S,token:b,authTime:xn(wt(S.auth_time)),issuedAtTime:xn(wt(S.iat)),expirationTime:xn(wt(S.exp)),signInProvider:Y||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(y){return 1e3*Number(y)}function Ot(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(m);return S?JSON.parse(S):(Be("Failed to decode base64 JWT payload"),null)}catch(S){return Be("Caught error parsing JWT payload as JSON",S?.toString()),null}}function wn(y,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof P.ZR&&function Lr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}class Sr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Oa{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=xn(this.lastLoginAt),this.creationTime=xn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function un(y){return ns.apply(this,arguments)}function ns(){return ns=(0,u.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),S=yield wn(y,function Ss(y,p){return bi.apply(this,arguments)}(m,{idToken:b}));j(S?.users.length,m,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const Y=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?function $e(y){return y.map(p=>{var{providerId:m}=p,b=(0,te._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(R.providerUserInfo):[],ce=function Bi(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}(y.providerData,Y),Mt=!!y.isAnonymous&&!(y.email&&R.passwordHash||ce?.length),bt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new Oa(R.createdAt,R.lastLoginAt),isAnonymous:Mt};Object.assign(y,bt)}),ns.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(y){const p=(0,P.m9)(y);yield un(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(y,p){const m=yield mn(y,{},(0,u.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,Y=Xs(y,S,"/v1/token",`key=${R}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",sn.fetch()(Y,{method:"POST",headers:ce,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class At{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){j(p.idToken,"internal-error"),j(typeof p.idToken<"u","internal-error"),j(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function eo(y){const p=Ot(y);return j(p,"internal-error"),j(typeof p.exp<"u","internal-error"),j(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,u.Z)(function*(){return j(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:Y}=yield function Ie(y,p){return it.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,R,Number(Y))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:R}=m,Y=new At;return b&&(j("string"==typeof b,"internal-error",{appName:p}),Y.refreshToken=b),S&&(j("string"==typeof S,"internal-error",{appName:p}),Y.accessToken=S),R&&(j("number"==typeof R,"internal-error",{appName:p}),Y.expirationTime=R),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new At,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Bt(y,p){j("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class $t{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,R=(0,te._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Oa(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const b=yield wn(m,m.stsTokenManager.getToken(m.auth,p));return j(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Js(y){return Ut.apply(this,arguments)}(this,p)}reload(){return function Jt(y){return Br.apply(this,arguments)}(this)}_assign(p){this!==p&&(j(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new $t(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield un(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield wn(p,function Ts(y,p){return Sn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,R,Y,ce,Ne,Xe,Mt;const bt=null!==(b=m.displayName)&&void 0!==b?b:void 0,hr=null!==(S=m.email)&&void 0!==S?S:void 0,br=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,au=null!==(Y=m.photoURL)&&void 0!==Y?Y:void 0,Yp=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,Do=null!==(Ne=m._redirectEventId)&&void 0!==Ne?Ne:void 0,ps=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,wa=null!==(Mt=m.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:lu,emailVerified:cu,isAnonymous:uu,providerData:Qp,stsTokenManager:du}=m;j(lu&&du,p,"internal-error");const Rb=At.fromJSON(this.name,du);j("string"==typeof lu,p,"internal-error"),Bt(bt,p.name),Bt(hr,p.name),j("boolean"==typeof cu,p,"internal-error"),j("boolean"==typeof uu,p,"internal-error"),Bt(br,p.name),Bt(au,p.name),Bt(Yp,p.name),Bt(Do,p.name),Bt(ps,p.name),Bt(wa,p.name);const hu=new $t({uid:lu,auth:p,email:hr,emailVerified:cu,displayName:bt,isAnonymous:uu,photoURL:au,phoneNumber:br,tenantId:Yp,stsTokenManager:Rb,createdAt:ps,lastLoginAt:wa});return Qp&&Array.isArray(Qp)&&(hu.providerData=Qp.map(fu=>Object.assign({},fu))),Do&&(hu._redirectEventId=Do),hu}static _fromIdTokenResponse(p,m,b=!1){return(0,u.Z)(function*(){const S=new At;S.updateFromServerResponse(m);const R=new $t({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield un(R),R})()}}const H=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,u.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,u.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,u.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function V(y,p,m){return`firebase:${y}:${p}:${m}`}class K{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:R}=this.auth;this.fullUserKey=V(this.userKey,S.apiKey,R),this.fullPersistenceKey=V("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?$t._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,u.Z)(function*(){if(!m.length)return new K(_t(H),p,b);const S=(yield Promise.all(m.map(function(){var Xe=(0,u.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let R=S[0]||_t(H);const Y=V(b,p.config.apiKey,p.name);let ce=null;for(const Xe of m)try{const Mt=yield Xe._get(Y);if(Mt){const bt=$t._fromJSON(p,Mt);Xe!==R&&(ce=bt),R=Xe;break}}catch{}const Ne=S.filter(Xe=>Xe._shouldAllowMigration);return R._shouldAllowMigration&&Ne.length?(R=Ne[0],ce&&(yield R._set(Y,ce.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,u.Z)(function*(Mt){if(Mt!==R)try{yield Mt._remove(Y)}catch{}});return function(Mt){return Xe.apply(this,arguments)}}())),new K(R,p,b)):new K(R,p,b)})()}}function me(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(rn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(re(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(On(p))return"Blackberry";if($n(p))return"Webos";if(ct(p))return"Safari";if((p.includes("chrome/")||Dt(p))&&!p.includes("edge/"))return"Chrome";if(St(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function re(y=(0,P.z$)()){return/firefox\//i.test(y)}function ct(y=(0,P.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Dt(y=(0,P.z$)()){return/crios\//i.test(y)}function rn(y=(0,P.z$)()){return/iemobile/i.test(y)}function St(y=(0,P.z$)()){return/android/i.test(y)}function On(y=(0,P.z$)()){return/blackberry/i.test(y)}function $n(y=(0,P.z$)()){return/webos/i.test(y)}function Qt(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function xh(y=(0,P.z$)()){return Qt(y)||St(y)||$n(y)||On(y)||/windows phone/i.test(y)||rn(y)}function Dl(y,p=[]){let m;switch(y){case"Browser":m=me((0,P.z$)());break;case"Worker":m=`${me((0,P.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ie.SDK_VERSION}/${b}`}class Cc{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=R=>new Promise((Y,ce)=>{try{Y(p(R))}catch(Ne){ce(Ne)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const S of m.queue)yield S(p),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const R of b)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Gu{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qu(this),this.idTokenSubscription=new qu(this),this.beforeStateQueue=new Cc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=_t(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,R;if(!b._deleted&&(b.persistenceManager=yield K.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let R=S,Y=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ne=R?._redirectEventId,Xe=yield m.tryRedirectSignIn(p);(!ce||ce===Ne)&&Xe?.user&&(R=Xe.user,Y=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(Y)try{yield m.beforeStateQueue.runMiddleware(R)}catch(ce){R=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return j(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield un(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const b=p?(0,P.m9)(p):null;return b&&j(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return p&&j(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(_t(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,u.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&_t(p)||m._popupRedirectResolver;j(b,m,"argument-error"),m.redirectPersistenceManager=yield K.create(m,[_t(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return j(Y,this,"internal-error"),Y.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Dl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function kn(y){return(0,P.m9)(y)}class qu{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ra(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function en(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Vn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,m){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function Gn(y,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:resetPassword",rt(y,p))})).apply(this,arguments)}function ui(y,p){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:update",rt(y,p))})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(y,p){return An(y,"POST","/v1/accounts:signInWithPassword",rt(y,p))})).apply(this,arguments)}function qn(y,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:sendOobCode",rt(y,p))})).apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(y,p){return qn(y,p)})).apply(this,arguments)}function Gt(){return(Gt=(0,u.Z)(function*(y,p){return qn(y,p)})).apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(y,p){return qn(y,p)})).apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(y,p){return qn(y,p)})).apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(y,p){return An(y,"POST","/v1/accounts:signInWithEmailLink",rt(y,p))})).apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(y,p){return An(y,"POST","/v1/accounts:signInWithEmailLink",rt(y,p))})).apply(this,arguments)}class As extends Vn{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new As(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new As(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Vr(y,p){return rs.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function xr(y,p){return Uo.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:De(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return ui(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function no(y,p){return Ci.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:De(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function is(y,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(y,p){return An(y,"POST","/v1/accounts:signInWithIdp",rt(y,p))})).apply(this,arguments)}class di extends Vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new di(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):De("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,R=(0,te._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const Y=new di(b,S);return Y.idToken=R.idToken||void 0,Y.accessToken=R.accessToken||void 0,Y.secret=R.secret,Y.nonce=R.nonce,Y.pendingToken=R.pendingToken||null,Y}_getIdTokenResponse(p){return is(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,is(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,is(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,P.xO)(m)}return p}}function jo(){return(jo=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:sendVerificationCode",rt(y,p))})).apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(y,p){return An(y,"POST","/v1/accounts:signInWithPhoneNumber",rt(y,p))})).apply(this,arguments)}function Zu(){return(Zu=(0,u.Z)(function*(y,p){const m=yield An(y,"POST","/v1/accounts:signInWithPhoneNumber",rt(y,p));if(m.temporaryProof)throw Zr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Yr={USER_NOT_FOUND:"user-not-found"};function Na(){return(Na=(0,u.Z)(function*(y,p){return An(y,"POST","/v1/accounts:signInWithPhoneNumber",rt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Yr)})).apply(this,arguments)}class Di extends Vn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Di({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Di({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function ro(y,p){return jr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Or(y,p){return Zu.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ii(y,p){return Na.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}=p;return b||m||S||R?new Di({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}):null}}class Fa{constructor(p){var m,b,S,R,Y,ce;const Ne=(0,P.zd)((0,P.pd)(p)),Xe=null!==(m=Ne.apiKey)&&void 0!==m?m:null,Mt=null!==(b=Ne.oobCode)&&void 0!==b?b:null,bt=function Sc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ne.mode)&&void 0!==S?S:null);j(Xe&&Mt&&bt,"argument-error"),this.apiKey=Xe,this.operation=bt,this.code=Mt,this.continueUrl=null!==(R=Ne.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Y=Ne.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(ce=Ne.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const m=function Qr(y){const p=(0,P.zd)((0,P.pd)(y)).link,m=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||m||p||y}(p);try{return new Fa(m)}catch{return null}}}let Mc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return As._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=Fa.parseLink(b);return j(S,"argument-error"),As._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ss{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ho extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class La extends Ho{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return j("providerId"in m&&"signInMethod"in m,"argument-error"),di._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return j(p.idToken||p.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return La.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return La.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:R,nonce:Y,providerId:ce}=p;if(!b&&!S&&!m&&!R||!ce)return null;try{return new La(ce)._credential({idToken:m,accessToken:b,nonce:Y,pendingToken:R})}catch{return null}}}let Ac=(()=>{class y extends Ho{constructor(){super("facebook.com")}static credential(m){return di._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),kh=(()=>{class y extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return di._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Rh=(()=>{class y extends Ho{constructor(){super("github.com")}static credential(m){return di._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class zo extends Vn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return is(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,is(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,is(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:R}=m;return b&&S&&R&&b===S?new zo(b,R):null}static _create(p,m){return new zo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends ss{constructor(p){j(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ui.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ui.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=zo.fromJSON(p);return j(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return zo._create(b,m)}catch{return null}}}let Sp=(()=>{class y extends Ho{constructor(){super("twitter.com")}static credential(m,b){return di._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function $o(y,p){return xc.apply(this,arguments)}function xc(){return(xc=(0,u.Z)(function*(y,p){return An(y,"POST","/v1/accounts:signUp",rt(y,p))})).apply(this,arguments)}class Hr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,u.Z)(function*(){const R=yield $t._fromIdTokenResponse(p,b,S),Y=Oc(b);return new Hr({user:R,providerId:Y,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Oc(b);return new Hr({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Oc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function so(){return(so=(0,u.Z)(function*(y){var p;const m=kn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Hr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield $o(m,{returnSecureToken:!0}),S=yield Hr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Tl extends P.ZR{constructor(p,m,b,S){var R;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Tl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new Tl(p,m,b,S)}}function oo(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Tl._fromErrorAndOperation(y,R,p,b):R})}function ao(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Go(){return Go=(0,u.Z)(function*(y,p){const m=(0,P.m9)(y);yield lo(!0,m,p);const{providerUserInfo:b}=yield function Kr(y,p){return yt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=ao(b||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Go.apply(this,arguments)}function Ml(y,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(y,p,m=!1){const b=yield wn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Hr._forOperation(y,"link",b)})).apply(this,arguments)}function lo(y,p,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(y,p,m){yield un(p);const S=!1===y?"provider-already-linked":"no-such-provider";j(ao(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function Yu(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(y,p,m=!1){const{auth:b}=y,S="reauthenticate";try{const R=yield wn(y,oo(b,S,p,y),m);j(R.idToken,b,"internal-error");const Y=Ot(R.idToken);j(Y,b,"internal-error");const{sub:ce}=Y;return j(y.uid===ce,b,"user-mismatch"),Hr._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===R?.code&&De(b,"user-mismatch"),R}})).apply(this,arguments)}function Zo(y,p){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(y,p,m=!1){const b="signIn",S=yield oo(y,b,p),R=yield Hr._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Fn(y,p){return Al.apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(y,p){return Zo(kn(y),p)})).apply(this,arguments)}function Un(y,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(y,p){const m=(0,P.m9)(y);return yield lo(!1,m,p.providerId),Ml(m,p)})).apply(this,arguments)}function co(y,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(y,p){return Yu((0,P.m9)(y),p)})).apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(y,p){return An(y,"POST","/v1/accounts:signInWithCustomToken",rt(y,p))})).apply(this,arguments)}function ur(){return ur=(0,u.Z)(function*(y,p){const m=kn(y),b=yield function kc(y,p){return Yo.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),S=yield Hr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S}),ur.apply(this,arguments)}class Va{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Qo._fromServerResponse(p,m):De(p,"internal-error")}}class Qo extends Va{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Qo(m)}}function xl(y,p,m){var b;j((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),j(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(j(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(j(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ua(){return Ua=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y),S={requestType:"PASSWORD_RESET",email:p};m&&xl(b,S,m),yield function Vo(y,p){return Gt.apply(this,arguments)}(b,S)}),Ua.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(y,p,m){yield Gn((0,P.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Qu(){return Qu=(0,u.Z)(function*(y,p){yield function jt(y,p){return En.apply(this,arguments)}((0,P.m9)(y),{oobCode:p})}),Qu.apply(this,arguments)}function kl(y,p){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,u.Z)(function*(y,p){const m=(0,P.m9)(y),b=yield Gn(m,{oobCode:p}),S=b.requestType;switch(j(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(b.mfaInfo,m,"internal-error");default:j(b.email,m,"internal-error")}let R=null;return b.mfaInfo&&(R=Va._fromServerResponse(kn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Rl(){return(Rl=(0,u.Z)(function*(y,p){const{data:m}=yield kl((0,P.m9)(y),p);return m.email})).apply(this,arguments)}function Nc(){return(Nc=(0,u.Z)(function*(y,p,m){const b=kn(y),S=yield $o(b,{returnSecureToken:!0,email:p,password:m}),R=yield Hr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function Fc(){return Fc=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};j(m.handleCodeInApp,b,"argument-error"),m&&xl(b,S,m),yield function Dc(y,p){return Ms.apply(this,arguments)}(b,S)}),Fc.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y),S=Mc.credentialWithLink(p,m||he());return j(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Fn(b,S)})).apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:createAuthUri",rt(y,p))})).apply(this,arguments)}function Fl(){return Fl=(0,u.Z)(function*(y,p){const b={identifier:p,continueUri:ye()?he():"http://localhost"},{signinMethods:S}=yield function Pl(y,p){return Jr.apply(this,arguments)}((0,P.m9)(y),b);return S||[]}),Fl.apply(this,arguments)}function Lc(){return Lc=(0,u.Z)(function*(y,p){const m=(0,P.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&xl(m.auth,S,p);const{email:R}=yield function Rn(y,p){return Bo.apply(this,arguments)}(m.auth,S);R!==y.email&&(yield y.reload())}),Lc.apply(this,arguments)}function rr(){return rr=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&xl(b.auth,R,m);const{email:Y}=yield function Tc(y,p){return Ei.apply(this,arguments)}(b.auth,R);Y!==y.email&&(yield y.reload())}),rr.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ji(){return ji=(0,u.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,P.m9)(y),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Y=yield wn(b,function ei(y,p){return xs.apply(this,arguments)}(b.auth,R));b.displayName=Y.displayName||null,b.photoURL=Y.photoUrl||null;const ce=b.providerData.find(({providerId:Ne})=>"password"===Ne);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Y)}),ji.apply(this,arguments)}function td(y,p,m){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(y,p,m){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const Y=yield wn(y,ui(b,R));yield y._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class as{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class nd extends as{constructor(p,m,b,S){super(p,m,b),this.username=S}}class Uc extends as{constructor(p,m){super(p,"facebook.com",m)}}class rd extends nd{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Nh extends as{constructor(p,m){super(p,"google.com",m)}}class Bl extends nd{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Fh(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Vc(y){var p,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const Y=null===(m=null===(p=Ot(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Y)return new as(R,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!b)return null;switch(b){case"facebook.com":return new Uc(R,S);case"github.com":return new rd(R,S);case"google.com":return new Nh(R,S);case"twitter.com":return new Bl(R,S,y.screenName||null);case"custom":case"anonymous":return new as(R,null);default:return new as(R,b,S)}}(m)}class Jo{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new Jo("enroll",p,m)}static _fromMfaPendingCredential(p){return new Jo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Jo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Jo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Hc{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=kn(p),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(ce=>Va._fromServerResponse(b,ce));j(S.mfaPendingCredential,b,"internal-error");const Y=Jo._fromMfaPendingCredential(S.mfaPendingCredential);return new Hc(Y,R,function(){var ce=(0,u.Z)(function*(Ne){const Xe=yield Ne._process(b,Y);delete S.mfaInfo,delete S.mfaPendingCredential;const Mt=Object.assign(Object.assign({},S),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const bt=yield Hr._fromIdTokenResponse(b,m.operationType,Mt);return yield b._updateCurrentUser(bt.user),bt;case"reauthenticate":return j(m.user,b,"internal-error"),Hr._forOperation(m.user,m.operationType,Mt);default:De(b,"internal-error")}});return function(Ne){return ce.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}class $a{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Va._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new $a(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Jo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,u.Z)(function*(){const S=p,R=yield b.getSession(),Y=yield wn(b.user,S._process(b.user.auth,R,m));return yield b.user._updateTokensIfNecessary(Y),b.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const R=yield wn(m.user,function Op(y,p){return Lt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Y})=>Y!==b),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const fo=new WeakMap,Os="__sak";class Ga{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Os,"1"),this.storage.removeItem(Os),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vl=(()=>{class y extends Ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qa(){const y=(0,P.z$)();return ct(y)||Qt(y)}()&&function ka(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xh(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),R=this.localCache[b];S!==R&&m(b,R,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ce,Ne,Xe)=>{this.notifyListeners(ce,Xe)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(S);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const R=()=>{const ce=this.storage.getItem(S);!b&&this.localCache[S]===ce||this.notifyListeners(S,ce)},Y=this.storage.getItem(S);!function to(){return(0,P.w1)()&&10===document.documentMode}()||Y===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,R=this;return(0,u.Z)(function*(){yield S().call(R,m,b),R.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,u.Z)(function*(){const R=yield b().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var b=()=>super._remove,S=this;return(0,u.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),po=(()=>{class y extends Ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Bh=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(R=>R.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,u.Z)(function*(){const S=m,{eventId:R,eventType:Y,data:ce}=S.data,Ne=b.handlersMap[Y];if(!Ne?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:Y});const Xe=Array.from(Ne).map(function(){var bt=(0,u.Z)(function*(hr){return hr(S.origin,ce)});return function(hr){return bt.apply(this,arguments)}}()),Mt=yield function od(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Xe);S.ports[0].postMessage({status:"done",eventId:R,eventType:Y,response:Mt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function go(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class ta{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,u.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Y,ce;return new Promise((Ne,Xe)=>{const Mt=go("",20);R.port1.start();const bt=setTimeout(()=>{Xe(new Error("unsupported_event"))},b);ce={messageChannel:R,onMessage(hr){const br=hr;if(br.data.eventId===Mt)switch(br.data.status){case"ack":clearTimeout(bt),Y=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Ne(br.data.response);break;default:clearTimeout(bt),clearTimeout(Y),Xe(new Error("invalid_response"))}}},S.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),S.target.postMessage({eventType:p,eventId:Mt,data:m},[R.port2])}).finally(()=>{ce&&S.removeMessageHandler(ce)})})()}}function Pn(){return window}function ls(){return typeof Pn().WorkerGlobalScope<"u"&&"function"==typeof Pn().importScripts}function na(){return(na=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ul="firebaseLocalStorageDb",jl=1,Rs="firebaseLocalStorage",ra="fbase_key";class ia{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ka(y,p){return y.transaction([Rs],p?"readwrite":"readonly").objectStore(Rs)}function Hl(){const y=indexedDB.open(Ul,jl);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Rs,{keyPath:ra})}catch(S){m(S)}}),y.addEventListener("success",(0,u.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Rs)?p(b):(b.close(),yield function Ya(){const y=indexedDB.deleteDatabase(Ul);return new ia(y).toPromise()}(),p(yield Hl()))}))})}function mr(y,p,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(y,p,m){const b=Ka(y,!0).put({[ra]:p,value:m});return new ia(b).toPromise()})).apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(y,p){const m=Ka(y,!1).get(p),b=yield new ia(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Xa(y,p){const m=Ka(y,!0).delete(p);return new ia(m).toPromise()}const mo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield Hl()),m.db})()}_withRetries(m){var b=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const R=yield b._openDb();return yield m(R)}catch(R){if(S++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return ls()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Bh._getInstance(function Za(){return ls()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function cs(){return na.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ta(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);R&&null!==(b=R[0])&&void 0!==b&&b.fulfilled&&null!==(S=R[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function $c(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Hl();return yield mr(m,Os,"1"),yield Xa(m,Os),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(R=>mr(R,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,u.Z)(function*(){const S=yield b._withRetries(R=>function sa(y,p){return Ps.apply(this,arguments)}(R,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(S=>Xa(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const b=yield m._withRetries(Y=>{const ce=Ka(Y,!1).getAll();return new ia(ce).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:Y,value:ce}of b)R.add(Y),JSON.stringify(m.localCache[Y])!==JSON.stringify(ce)&&(m.notifyListeners(Y,ce),S.push(Y));for(const Y of Object.keys(m.localCache))m.localCache[Y]&&!R.has(Y)&&(m.notifyListeners(Y,null),S.push(Y));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function $l(){return($l=(0,u.Z)(function*(y){return(yield Lt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zi(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const R=Ee("internal-error");R.customData=S,m(R)},b.type="text/javascript",b.charset="UTF-8",function _o(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function ld(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ti=1e12;class kp{constructor(p){this.auth=p,this.counter=Ti,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new cd(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Ti;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ti))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var b;return null===(b=m._widgets.get(p||Ti))||void 0===b||b.execute(),""})()}}class cd{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;j(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ql(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ud=ld("rcb"),qc=new Ye(3e4,6e4);class ds{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Pn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return j(function oa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Pn().grecaptcha):new Promise((b,S)=>{const R=Pn().setTimeout(()=>{S(Ee(p,"network-request-failed"))},qc.get());Pn()[ud]=()=>{Pn().clearTimeout(R),delete Pn()[ud];const ce=Pn().grecaptcha;if(!ce)return void S(Ee(p,"internal-error"));const Ne=ce.render;ce.render=(Xe,Mt)=>{const bt=Ne(Xe,Mt);return this.counter++,bt},this.hostLanguage=m,b(ce)},zi(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:ud,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Pn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zl{load(p){return(0,u.Z)(function*(){return new kp(p)})()}clearedOneInstance(){}}const dd="recaptcha",Vh={theme:"light",type:"image"};class tl{constructor(p,m=Object.assign({},Vh),b){this.parameters=m,this.type=dd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kn(b),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;j(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zl:new ds,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(R=>{const Y=ce=>{ce&&(p.tokenChangeListeners.delete(Y),R(ce))};p.tokenChangeListeners.add(Y),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Pn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){j(ye()&&!ls(),p.auth,"internal-error"),yield function Uh(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Hi(y){return $l.apply(this,arguments)}(p.auth);j(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hd{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Di._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function fd(){return(fd=(0,u.Z)(function*(y,p,m){const b=kn(y),S=yield Zc(b,p,(0,P.m9)(m));return new hd(S,R=>Fn(b,R))})).apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y);yield lo(!1,b,"phone");const S=yield Zc(b.auth,p,(0,P.m9)(m));return new hd(S,R=>Un(b,R))})).apply(this,arguments)}function pd(){return(pd=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y),S=yield Zc(b.auth,p,(0,P.m9)(m));return new hd(S,R=>co(b,R))})).apply(this,arguments)}function Zc(y,p,m){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,u.Z)(function*(y,p,m){var b;const S=yield m.verify();try{let R;if(j("string"==typeof S,y,"argument-error"),j(m.type===dd,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const Y=R.session;if("phoneNumber"in R)return j("enroll"===Y.type,y,"internal-error"),(yield function Lh(y,p){return Lt(y,"POST","/v2/accounts/mfaEnrollment:start",rt(y,p))}(y,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{j("signin"===Y.type,y,"internal-error");const ce=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return j(ce,y,"missing-multi-factor-info"),(yield function el(y,p){return Lt(y,"POST","/v2/accounts/mfaSignIn:start",rt(y,p))}(y,{mfaPendingCredential:Y.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function Wu(y,p){return jo.apply(this,arguments)}(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return Y}}finally{m._reset()}}),Kl.apply(this,arguments)}function jh(){return(jh=(0,u.Z)(function*(y,p){yield Ml((0,P.m9)(y),p)})).apply(this,arguments)}let Kc=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=kn(m)}verifyPhoneNumber(m,b){return Zc(this.auth,m,(0,P.m9)(b))}static credential(m,b){return Di._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Di._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function In(y,p){return p?_t(p):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class rl extends Vn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return is(p,this._buildIdpRequest())}_linkToIdToken(p,m){return is(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return is(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Yl(y){return Zo(y.auth,new rl(y),y.bypassAuthState)}function gd(y){const{auth:p,user:m}=y;return j(m,p,"internal-error"),Yu(m,new rl(y),y.bypassAuthState)}function ti(y){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(y){const{auth:p,user:m}=y;return j(m,p,"internal-error"),Ml(m,new rl(y),y.bypassAuthState)})).apply(this,arguments)}class Ql{constructor(p,m,b,S,R=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:R,tenantId:Y,error:ce,type:Ne}=p;if(ce)return void m.reject(ce);const Xe={auth:m.auth,requestUri:b,sessionId:S,tenantId:Y||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ne)(Xe))}catch(Mt){m.reject(Mt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Yl;case"linkViaPopup":case"linkViaRedirect":return ti;case"reauthViaPopup":case"reauthViaRedirect":return gd;default:De(this.auth,"internal-error")}}resolve(p){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aa=new Ye(2e3,1e4);function Xl(){return(Xl=(0,u.Z)(function*(y,p,m){const b=kn(y);Ve(y,p,ss);const S=In(b,m);return new vo(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Hh(){return(Hh=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y);Ve(b.auth,p,ss);const S=In(b.auth,m);return new vo(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y);Ve(b.auth,p,ss);const S=In(b.auth,m);return new vo(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let vo=(()=>{class y extends Ql{constructor(m,b,S,R,Y){super(m,b,R,Y),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const b=yield m.execute();return j(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,u.Z)(function*(){je(1===m.filter.length,"Popup operations only handle one event");const b=go();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,aa.get())};m()}}return y.currentPopupAction=null,y})();const Si="pendingRedirect",ca=new Map;class zh extends Ql{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let b=ca.get(m.auth._key());if(!b){try{const R=(yield function bn(y,p){return Gr.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(R)}catch(S){b=()=>Promise.reject(S)}ca.set(m.auth._key(),b)}return m.bypassAuthState||ca.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Gr(){return(Gr=(0,u.Z)(function*(y,p){const m=Zn(p),b=Ns(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function nt(y,p){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(y,p){return Ns(y)._set(Zn(p),"true")})).apply(this,arguments)}function md(y,p){ca.set(y._key(),p)}function Ns(y){return _t(y._redirectPersistence)}function Zn(y){return V(Si,y.config.apiKey,y.name)}function Yc(y,p,m){return function Jl(y,p,m){return I.apply(this,arguments)}(y,p,m)}function I(){return(I=(0,u.Z)(function*(y,p,m){const b=kn(y);Ve(y,p,ss),yield b._initializationPromise;const S=In(b,m);return yield nt(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function T(y,p,m){return function O(y,p,m){return B.apply(this,arguments)}(y,p,m)}function B(){return(B=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y);Ve(b.auth,p,ss),yield b.auth._initializationPromise;const S=In(b.auth,m);yield nt(S,b.auth);const R=yield Nt(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function X(y,p,m){return function U(y,p,m){return xe.apply(this,arguments)}(y,p,m)}function xe(){return(xe=(0,u.Z)(function*(y,p,m){const b=(0,P.m9)(y);Ve(b.auth,p,ss),yield b.auth._initializationPromise;const S=In(b.auth,m);yield lo(!1,b,p.providerId),yield nt(S,b.auth);const R=yield Nt(b);return S._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(y,p){return yield kn(y)._initializationPromise,ut(y,p,!1)})).apply(this,arguments)}function ut(y,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(y,p,m=!1){const b=kn(y),S=In(b,p),Y=yield new zh(b,S,m).execute();return Y&&!m&&(delete Y.user._redirectEventId,yield b._persistUserIfCurrent(Y.user),yield b._setRedirectUser(null,p)),Y})).apply(this,arguments)}function Nt(y){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(y){const p=go(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class ua{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function _r(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!da(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bo(p))}saveEventToCache(p){this.cachedEventUids.add(bo(p)),this.lastProcessedEventTime=Date.now()}}function bo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function da({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function yr(y){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(y,p={}){return Lt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Rp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qi=/^https?/;function wo(){return(wo=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield yr(y);for(const m of p)try{if($h(m))return}catch{}De(y,"unauthorized-domain")})).apply(this,arguments)}function $h(y){const p=he(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const Y=new URL(y);return""===Y.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Y.hostname===b}if(!qi.test(m))return!1;if(Rp.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const vr=new Ye(3e4,6e4);function _d(){const y=Pn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let yn=null;const yd=new Ye(5e3,15e3),Kn="__/auth/iframe",qr="emulator/auth/iframe",qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kb(y){const p=y.config;j(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?We(p,qr):`https://${y.config.authDomain}/${Kn}`,b={apiKey:p.apiKey,appName:y.name,v:ie.SDK_VERSION},S=t_.get(y.config.apiHost);S&&(b.eid=S);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${m}?${(0,P.xO)(b).slice(1)}`}function Fs(){return Fs=(0,u.Z)(function*(y){const p=yield function sr(y){return yn=yn||function Gh(y){return new Promise((p,m)=>{var b,S,R;function Y(){_d(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_d(),m(Ee(y,"network-request-failed"))},timeout:vr.get()})}if(null!==(S=null===(b=Pn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Pn().gapi)||void 0===R||!R.load){const ce=ld("iframefcb");return Pn()[ce]=()=>{gapi.load?Y():m(Ee(y,"network-request-failed"))},zi(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ne=>m(Ne))}Y()}}).catch(p=>{throw yn=null,p})}(y),yn}(y),m=Pn().gapi;return j(m,y,"internal-error"),p.open({where:document.body,url:kb(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qh,dontclear:!0},b=>new Promise(function(){var S=(0,u.Z)(function*(R,Y){yield b.restyle({setHideOnLeave:!1});const ce=Ee(y,"network-request-failed"),Ne=Pn().setTimeout(()=>{Y(ce)},yd.get());function Xe(){Pn().clearTimeout(Ne),R(b)}b.ping(Xe).then(Xe,()=>{Y(ce)})});return function(R,Y){return S.apply(this,arguments)}}()))}),Fs.apply(this,arguments)}const Yn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hs=500,Pp=600,ec="_blank",vd="http://localhost";class Wi{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bd="__/auth/handler",zt="emulator/auth/handler";function Eo(y,p,m,b,S,R){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const Y={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ie.SDK_VERSION,eventId:S};if(p instanceof ss){p.setDefaultLanguage(y.languageCode),Y.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ne,Xe]of Object.entries(R||{}))Y[Ne]=Xe}if(p instanceof Ho){const Ne=p.getScopes().filter(Xe=>""!==Xe);Ne.length>0&&(Y.scopes=Ne.join(","))}y.tenantId&&(Y.tid=y.tenantId);const ce=Y;for(const Ne of Object.keys(ce))void 0===ce[Ne]&&delete ce[Ne];return`${function r_({config:y}){return y.emulator?We(y,zt):`https://${y.authDomain}/${bd}`}(y)}?${(0,P.xO)(ce).slice(1)}`}const pa="webStorageSupport",Wh=class i_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=po,this._completeRedirectFn=ut,this._overrideRedirectResult=md}_openPopup(p,m,b,S){var R=this;return(0,u.Z)(function*(){var Y;je(null===(Y=R.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const ce=Eo(p,m,b,he(),S);return function n_(y,p,m,b=hs,S=Pp){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),Y=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Ne=Object.assign(Object.assign({},Yn),{width:b.toString(),height:S.toString(),top:R,left:Y}),Xe=(0,P.z$)().toLowerCase();m&&(ce=Dt(Xe)?ec:m),re(Xe)&&(p=p||vd,Ne.scrollbars="yes");const Mt=Object.entries(Ne).reduce((hr,[br,au])=>`${hr}${br}=${au},`,"");if(function tr(y=(0,P.z$)()){var p;return Qt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Xe)&&"_self"!==ce)return function Np(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ce),new Wi(null);const bt=window.open(p||"",ce,Mt);j(bt,y,"popup-blocked");try{bt.focus()}catch{}return new Wi(bt)}(p,ce,go())})()}_openRedirect(p,m,b,S){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(p),function Wa(y){Pn().location.href=y}(Eo(p,m,b,he(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(je(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const b=yield function fa(y){return Fs.apply(this,arguments)}(p),S=new ua(p);return b.register("authEvent",R=>(j(R?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(pa,{type:pa},S=>{var R;const Y=null===(R=S?.[0])||void 0===R?void 0:R[pa];void 0!==Y&&m(!!Y),De(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ha(y){return wo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return xh()||ct()||Qt()}};class Ls{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return _e("unexpected MultiFactorSessionType")}}}class wd extends Ls{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new wd(p)}_finalizeEnroll(p,m,b){return function xp(y,p){return Lt(y,"POST","/v2/accounts/mfaEnrollment:finalize",rt(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ad(y,p){return Lt(y,"POST","/v2/accounts/mfaSignIn:finalize",rt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ni=(()=>{class y{constructor(){}static assertion(m){return wd._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Qc="@firebase/auth";class dr{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ma(){return window}(0,P.Pz)("authIdTokenMaxAge"),function ga(y){(0,ie._registerComponent)(new ge.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:R,authDomain:Y}=b.options;return((ce,Ne)=>{j(R&&!R.includes(":"),"invalid-api-key",{appName:ce.name}),j(!Y?.includes(":"),"argument-error",{appName:ce.name});const Xe={apiKey:R,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dl(y)},Mt=new Gu(ce,Ne,Xe);return function oe(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(_t);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(Mt,m),Mt})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ge.wA("auth-internal",p=>{const m=kn(p.getProvider("auth").getImmediate());return new dr(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Qc,"0.21.4",function Bn(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ie.registerVersion)(Qc,"0.21.4","esm2017")}("Browser");const Vp=2e3;function tc(){return tc=(0,u.Z)(function*(y,p,m){var b;const{BuildInfo:S}=ma();je(p.sessionId,"AuthEvent did not contain a session ID");const R=yield function Xc(y){return sl.apply(this,arguments)}(p.sessionId),Y={};return Qt()?Y.ibi=S.packageName:St()?Y.apn=S.packageName:De(y,"operation-not-supported-in-this-environment"),S.displayName&&(Y.appDisplayName=S.displayName),Y.sessionId=R,Eo(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,Y)}),tc.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(y){const{BuildInfo:p}=ma(),m={};Qt()?m.iosBundleId=p.packageName:St()?m.androidPackageName=p.packageName:De(y,"operation-not-supported-in-this-environment"),yield yr(y,m)})).apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(y,p,m){const{cordova:b}=ma();let S=()=>{};try{yield new Promise((R,Y)=>{let ce=null;function Ne(){var bt;R();const hr=null===(bt=b.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof hr&&hr(),"function"==typeof m?.close&&m.close()}function Xe(){ce||(ce=window.setTimeout(()=>{Y(Ee(y,"redirect-cancelled-by-user"))},Vp))}function Mt(){"visible"===document?.visibilityState&&Xe()}p.addPassiveListener(Ne),document.addEventListener("resume",Xe,!1),St()&&document.addEventListener("visibilitychange",Mt,!1),S=()=>{p.removePassiveListener(Ne),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Mt,!1),ce&&window.clearTimeout(ce)}})}finally{S()}})).apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(y){const p=function Qh(y){if(je(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Jc=20;class Bs extends ua{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function Up(y){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(y){const p=yield Id()._get(Xh(y));return p&&(yield Id()._remove(Xh(y))),p})).apply(this,arguments)}function jp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Jc;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Id(){return _t(Vl)}function Xh(y){return V("authEvent",y.config.apiKey,y.name)}function ya(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,P.zd)(m.join("?"))}const ef=class Hp{constructor(){this._redirectPersistence=po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ut,this._overrideRedirectResult=md}_initialize(p){var m=this;return(0,u.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new Bs(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){De(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var R=this;return(0,u.Z)(function*(){!function a_(y){var p,m,b,S,R,Y,ce,Ne,Xe,Mt;const bt=ma();j("function"==typeof(null===(p=bt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(m=bt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(R=null===(S=null===(b=bt?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Ne=null===(ce=null===(Y=bt?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ne?void 0:Ne.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Mt=null===(Xe=bt?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Mt?void 0:Mt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Y=yield R._initialize(p);yield Y.initialized(),Y.resetRedirect(),function dn(){ca.clear()}(),yield R._originValidation(p);const ce=function Ed(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:jp(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(p,b,S);yield function eu(y,p){return Id()._set(Xh(y),p)}(p,ce);const Ne=yield function Yh(y,p,m){return tc.apply(this,arguments)}(p,ce,m),Xe=yield function il(y){const{cordova:p}=ma();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function wi(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Ne);return function o_(y,p,m){return Mi.apply(this,arguments)}(p,Y,Xe)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function _a(y){return Wt.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:R}=ma(),Y=setTimeout((0,u.Z)(function*(){yield Up(p),m.onEvent(zp())}),500),ce=function(){var Mt=(0,u.Z)(function*(bt){clearTimeout(Y);const hr=yield Up(p);let br=null;hr&&bt?.url&&(br=function Cd(y,p){var m,b;const S=function c_(y){const p=ya(y),m=p.link?decodeURIComponent(p.link):void 0,b=ya(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ya(S).link||S||b||m||y}(p);if(S.includes("/__/auth/callback")){const R=ya(S),Y=R.firebaseError?function l_(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(b=null===(m=Y?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ne=ce?Ee(ce):null;return Ne?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(hr,bt.url)),m.onEvent(br||zp())});return function(hr){return Mt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Ne=S,Xe=`${R.packageName.toLowerCase()}://`;ma().handleOpenURL=function(){var Mt=(0,u.Z)(function*(bt){if(bt.toLowerCase().startsWith(Xe)&&ce({url:bt}),"function"==typeof Ne)try{Ne(bt)}catch(hr){console.error(hr)}});return function(bt){return Mt.apply(this,arguments)}}()}};function zp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}const al=1e3;function Zi(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function d_(y=(0,P.z$)()){return!("file:"!==Zi()&&"ionic:"!==Zi()&&"capacitor:"!==Zi()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ll(){try{const y=self.localStorage,p=go();if(y)return y.setItem(p,"1"),y.removeItem(p),!function nc(y=(0,P.z$)()){return function nu(){return(0,P.w1)()&&11===document?.documentMode}()||function f_(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch{return Co()&&(0,P.hl)()}return!1}function Co(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rc(){return(function Td(){return"http:"===Zi()||"https:"===Zi()}()||(0,P.ru)()||d_())&&!function h_(){return(0,P.b$)()||(0,P.UG)()}()&&ll()&&!Co()}function Sd(){return d_()&&typeof document<"u"}function fs(){return(fs=(0,u.Z)(function*(){return!!Sd()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},al);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ri={LOCAL:"local",NONE:"none",SESSION:"session"},va=j,Md="persistence";function ba(y){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,u.Z)(function*(y){yield y._initializationPromise;const p=Gp(),m=V(Md,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Gp(){var y;try{return(null===(y=function $p(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const qp=j;class Vs{constructor(){this.browserResolver=_t(Wh),this.cordovaResolver=_t(ef),this.underlyingResolver=null,this._redirectPersistence=po,this._completeRedirectFn=ut,this._overrideRedirectResult=md}_initialize(p){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Sd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const m=yield function ru(){return fs.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function ul(y){return y.unwrap()}function iu(y){return su(y)}function su(y){const{_tokenResponse:p}=y instanceof P.ZR?y.customData:y;if(!p)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Kc.credentialFromResult(y);const m=p.providerId;if(!m||m===ue.PASSWORD)return null;let b;switch(m){case ue.GOOGLE:b=kh;break;case ue.FACEBOOK:b=Ac;break;case ue.GITHUB:b=Rh;break;case ue.TWITTER:b=Sp;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:Y,pendingToken:ce,nonce:Ne}=p;return R||Y||S||ce?ce?m.startsWith("saml.")?zo._create(m,ce):di._fromParams({providerId:m,signInMethod:m,pendingToken:ce,idToken:S,accessToken:R}):new La(m).credential({idToken:S,accessToken:R,rawNonce:Ne}):null}return y instanceof P.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function kr(y,p){return p.catch(m=>{throw m instanceof P.ZR&&function Ki(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new rf(y,function gr(y,p){var m;const b=(0,P.m9)(y),S=p;return j(p.customData.operationType,b,"argument-error"),j(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Hc._fromError(b,S)}(y,p));else if(b){const S=su(p),R=p;S&&(R.credential=S,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:iu(m),additionalUserInfo:Fh(m),user:Io.getOrCreate(S)}})}function xd(y,p){return nf.apply(this,arguments)}function nf(){return(nf=(0,u.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>kr(y,m.confirm(b))}})).apply(this,arguments)}class rf{constructor(p,m){this.resolver=m,this.auth=function Ai(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return kr(ul(this.auth),this.resolver.resolveSignIn(p))}}class Io{constructor(p){this._delegate=p,this.multiFactor=function zc(y){const p=(0,P.m9)(y);return fo.has(p)||fo.set(p,$a._fromUser(p)),fo.get(p)}(p)}static getOrCreate(p){return Io.USER_MAP.has(p)||Io.USER_MAP.set(p,new Io(p)),Io.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,u.Z)(function*(){return kr(m.auth,Un(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,u.Z)(function*(){return xd(b.auth,function e_(y,p,m){return Wc.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,u.Z)(function*(){return kr(m.auth,function Ob(y,p,m){return $r.apply(this,arguments)}(m._delegate,p,Vs))})()}linkWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield ba(kn(m.auth)),X(m._delegate,p,Vs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,u.Z)(function*(){return kr(m.auth,co(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return xd(this.auth,function yo(y,p,m){return pd.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return kr(this.auth,function xb(y,p,m){return Hh.apply(this,arguments)}(this._delegate,p,Vs))}reauthenticateWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield ba(kn(m.auth)),T(m._delegate,p,Vs)})()}sendEmailVerification(p){return function Ju(y,p){return Lc.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,u.Z)(function*(){return yield function Sl(y,p){return Go.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function ed(y,p){return td((0,P.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function za(y,p){return td((0,P.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function nl(y,p){return jh.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ho(y,p){return ji.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Ll(y,p,m){return rr.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Io.USER_MAP=new WeakMap;const ic=j;let ou=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;ic(S,"invalid-api-key",{appName:m.name}),ic(S,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?Vs:void 0;this._delegate=b.initialize({options:{persistence:Wp(S,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Io.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Ic(y,p,m){const b=kn(y);j(b._canInitEmulator,b,"emulator-config-failed"),j(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!m?.disableWarnings,R=Ra(p),{host:Y,port:ce}=function Pa(y){const p=Ra(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const R=S[1];return{host:R,port:en(b.substr(R.length+1))}}{const[R,Y]=b.split(":");return{host:R,port:en(Y)}}}(p);b.config.emulator={url:`${R}//${Y}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Y,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function nr(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Ol(y,p){return Qu.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return kl(this._delegate,m)}confirmPasswordReset(m,b){return function ja(y,p,m){return Pt.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,u.Z)(function*(){return kr(S._delegate,function Ph(y,p,m){return Nc.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Nl(y,p){return Fl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Xu(y,p){return"EMAIL_SIGNIN"===Fa.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){ic(rc(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function st(y,p){return ft.apply(this,arguments)}(m._delegate,Vs);return b?kr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function u_(y,p){kn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:R,error:Y,complete:ce}=Od(m,b,S);return this._delegate.onAuthStateChanged(R,Y,ce)}onIdTokenChanged(m,b,S){const{next:R,error:Y,complete:ce}=Od(m,b,S);return this._delegate.onIdTokenChanged(R,Y,ce)}sendSignInLinkToEmail(m,b){return function tn(y,p,m){return Fc.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function os(y,p,m){return Ua.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,u.Z)(function*(){let S;switch(function cl(y,p){va(Object.values(ri).includes(p),y,"invalid-persistence-type"),(0,P.b$)()?va(p!==ri.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?va(p===ri.NONE,y,"unsupported-persistence-type"):Co()?va(p===ri.NONE||p===ri.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):va(p===ri.NONE||ll(),y,"unsupported-persistence-type")}(b._delegate,m),m){case ri.SESSION:S=po;break;case ri.LOCAL:S=(yield _t(mo)._isAvailable())?mo:Vl;break;case ri.NONE:S=H;break;default:return De("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return kr(this._delegate,function Ku(y){return so.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return kr(this._delegate,Fn(this._delegate,m))}signInWithCustomToken(m){return kr(this._delegate,function uo(y,p){return ur.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return kr(this._delegate,function fe(y,p,m){return Fn((0,P.m9)(y),Mc.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return kr(this._delegate,function pr(y,p,m){return Ha.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return xd(this._delegate,function pn(y,p,m){return fd.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,u.Z)(function*(){return ic(rc(),b._delegate,"operation-not-supported-in-this-environment"),kr(b._delegate,function la(y,p,m){return Xl.apply(this,arguments)}(b._delegate,m,Vs))})()}signInWithRedirect(m){var b=this;return(0,u.Z)(function*(){return ic(rc(),b._delegate,"operation-not-supported-in-this-environment"),yield ba(b._delegate),Yc(b._delegate,m,Vs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Pc(y,p){return Rl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ri,y})();function Od(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const S=b;return{next:Y=>S(Y&&Io.getOrCreate(Y)),error:p,complete:m}}function Wp(y,p){const m=function tf(y,p){const m=Gp();if(!m)return[];const b=V(Md,y,p);switch(m.getItem(b)){case ri.NONE:return[H];case ri.LOCAL:return[mo,po];case ri.SESSION:return[po];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(mo)&&m.push(mo),typeof window<"u")for(const b of[Vl,po])m.includes(b)||m.push(b);return m.includes(H)||m.push(H),m}class kd{constructor(){this.providerId="phone",this._delegate=new Kc(ul(J.Z.auth()))}static credential(p,m){return Kc.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}kd.PHONE_SIGN_IN_METHOD=Kc.PHONE_SIGN_IN_METHOD,kd.PROVIDER_ID=Kc.PROVIDER_ID;const Zp=j;class dl{constructor(p,m,b=J.Z.app()){var S;Zp(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new tl(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Kp(y){y.INTERNAL.registerComponent(new ge.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new ou(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Q_EMAIL_SIGNIN,PASSWORD_RESET:Q_PASSWORD_RESET,RECOVER_EMAIL:Q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Q_VERIFY_EMAIL}},EmailAuthProvider:Mc,FacebookAuthProvider:Ac,GithubAuthProvider:Rh,GoogleAuthProvider:kh,OAuthProvider:La,SAMLAuthProvider:Ui,PhoneAuthProvider:kd,PhoneMultiFactorGenerator:ni,RecaptchaVerifier:dl,TwitterAuthProvider:Sp,Auth:ou,AuthCredential:Vn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.4")}(J.Z)},8766:(mt,Ce,N)=>{N.d(Ce,{Lj:()=>De,X3:()=>Be});var u=N(5861);const J=(j,_e)=>_e.some(je=>j instanceof je);let P,ie;const ge=new WeakMap,de=new WeakMap,ue=new WeakMap,z=new WeakMap,$=new WeakMap;let Te={get(j,_e,je){if(j instanceof IDBTransaction){if("done"===_e)return de.get(j);if("objectStoreNames"===_e)return j.objectStoreNames||ue.get(j);if("store"===_e)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return Se(j[_e])},set:(j,_e,je)=>(j[_e]=je,!0),has:(j,_e)=>j instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in j};function pe(j){return"function"==typeof j?function ot(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(..._e){return j.apply(Me(this),_e),Se(ge.get(this))}:function(..._e){return Se(j.apply(Me(this),_e))}:function(_e,...je){const qe=j.call(Me(this),_e,...je);return ue.set(qe,_e.sort?_e.sort():[_e]),Se(qe)}}(j):(j instanceof IDBTransaction&&function He(j){if(de.has(j))return;const _e=new Promise((je,qe)=>{const _t=()=>{j.removeEventListener("complete",tt),j.removeEventListener("error",oe),j.removeEventListener("abort",oe)},tt=()=>{je(),_t()},oe=()=>{qe(j.error||new DOMException("AbortError","AbortError")),_t()};j.addEventListener("complete",tt),j.addEventListener("error",oe),j.addEventListener("abort",oe)});de.set(j,_e)}(j),J(j,function se(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Te):j)}function Se(j){if(j instanceof IDBRequest)return function Q(j){const _e=new Promise((je,qe)=>{const _t=()=>{j.removeEventListener("success",tt),j.removeEventListener("error",oe)},tt=()=>{je(Se(j.result)),_t()},oe=()=>{qe(j.error),_t()};j.addEventListener("success",tt),j.addEventListener("error",oe)});return _e.then(je=>{je instanceof IDBCursor&&ge.set(je,j)}).catch(()=>{}),$.set(_e,j),_e}(j);if(z.has(j))return z.get(j);const _e=pe(j);return _e!==j&&(z.set(j,_e),$.set(_e,j)),_e}const Me=j=>$.get(j);function Be(j,_e,{blocked:je,upgrade:qe,blocking:_t,terminated:tt}={}){const oe=indexedDB.open(j,_e),he=Se(oe);return qe&&oe.addEventListener("upgradeneeded",ye=>{qe(Se(oe.result),ye.oldVersion,ye.newVersion,Se(oe.transaction))}),je&&oe.addEventListener("blocked",()=>je()),he.then(ye=>{tt&&ye.addEventListener("close",()=>tt()),_t&&ye.addEventListener("versionchange",()=>_t())}).catch(()=>{}),he}function De(j,{blocked:_e}={}){const je=indexedDB.deleteDatabase(j);return _e&&je.addEventListener("blocked",()=>_e()),Se(je).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Ve=new Map;function Pe(j,_e){if(!(j instanceof IDBDatabase)||_e in j||"string"!=typeof _e)return;if(Ve.get(_e))return Ve.get(_e);const je=_e.replace(/FromIndex$/,""),qe=_e!==je,_t=Ae.includes(je);if(!(je in(qe?IDBIndex:IDBObjectStore).prototype)||!_t&&!Ee.includes(je))return;const tt=function(){var oe=(0,u.Z)(function*(he,...ye){const Oe=this.transaction(he,_t?"readwrite":"readonly");let Le=Oe.store;return qe&&(Le=Le.index(ye.shift())),(yield Promise.all([Le[je](...ye),_t&&Oe.done]))[0]});return function(ye){return oe.apply(this,arguments)}}();return Ve.set(_e,tt),tt}!function Ge(j){Te=j(Te)}(j=>({...j,get:(_e,je,qe)=>Pe(_e,je)||j.get(_e,je,qe),has:(_e,je)=>!!Pe(_e,je)||j.has(_e,je)}))},5861:(mt,Ce,N)=>{function u(P,ie,se,te,ge,de,ue){try{var z=P[de](ue),$=z.value}catch(Q){return void se(Q)}z.done?ie($):Promise.resolve($).then(te,ge)}function J(P){return function(){var ie=this,se=arguments;return new Promise(function(te,ge){var de=P.apply(ie,se);function ue($){u(de,te,ge,ue,z,"next",$)}function z($){u(de,te,ge,ue,z,"throw",$)}ue(void 0)})}}N.d(Ce,{Z:()=>J})}},mt=>{mt(mt.s=7894)}]);