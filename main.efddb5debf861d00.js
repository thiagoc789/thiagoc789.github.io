"use strict";(self.webpackChunkComerciantesR=self.webpackChunkComerciantesR||[]).push([[179],{2011:(Et,Me,O)=>{O.d(Me,{Dh:()=>_e,GT:()=>J,cc:()=>ve,hO:()=>Ze,on:()=>H,pX:()=>te,xv:()=>ce});var u=O(4650),X=O(9260),N=O(2432);Et=O.hmd(Et);const ie=["ngOnDestroy"],te=(Ae,Re,Ve,xe={})=>new Proxy(Ae,{get:(Ee,Oe)=>Ve.runOutsideAngular(()=>{var $e;if(Ae[Oe])return!(null===($e=xe?.spy)||void 0===$e)&&$e.get&&xe.spy.get(Oe,Ae[Oe]),Ae[Oe];if(ie.indexOf(Oe)>-1)return()=>{};const Pe=Re.toPromise().then(U=>{const ye=U&&U[Oe];return"function"==typeof ye?ye.bind(U):ye&&ye.then?ye.then(qe=>Ve.run(()=>qe)):Ve.run(()=>ye)});return new Proxy(()=>{},{get:(U,ye)=>Pe[ye],apply:(U,ye,qe)=>Pe.then(Ye=>{var vt;const tt=Ye&&Ye(...qe);return!(null===(vt=xe?.spy)||void 0===vt)&&vt.apply&&xe.spy.apply(Oe,qe,tt),tt})})})}),J=(Ae,Re)=>{Re.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(xe=>{Object.defineProperty(Ae.prototype,xe,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,xe))})})};class ge{constructor(Re){return Re}}const _e=new u.OlP("angularfire2.app.options"),ce=new u.OlP("angularfire2.app.name");function H(Ae,Re,Ve){const Ee="object"==typeof Ve&&Ve||{};Ee.name=Ee.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const $e=X.Z.apps.filter(Pe=>Pe&&Pe.name===Ee.name)[0]||Re.runOutsideAngular(()=>X.Z.initializeApp(Ae,Ee));try{JSON.stringify(Ae)!==JSON.stringify($e.options)&&$("error",`${$e.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge($e)}const $=(Ae,...Re)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ae](...Re)},Y={provide:ge,useFactory:H,deps:[_e,u.R0b,[new u.FiY,ce]]};let Ze=(()=>{class Ae{constructor(Ve){X.Z.registerVersion("angularfire",N.q4.full,"core"),X.Z.registerVersion("angularfire",N.q4.full,"app-compat"),X.Z.registerVersion("angular",u.q4F.full,Ve.toString())}static initializeApp(Ve,xe){return{ngModule:Ae,providers:[{provide:_e,useValue:Ve},{provide:ce,useValue:xe}]}}}return Ae.\u0275fac=function(Ve){return new(Ve||Ae)(u.LFG(u.Lbi))},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({providers:[Y]}),Ae})();function ve(Ae,Re,Ve,xe,Ee){const[,Oe,$e]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Ae)||[];if(Oe)return function Qe(Ae,Re){try{return Ae.toString()===Re.toString()}catch{return Ae===Re}}(Ee,$e)||(ue("error",`${Re} was already initialized on the ${Ve} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:Ee,was:$e})),Oe;{const Pe=xe();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Pe,Ee]),Pe}}const Je=!!Et.hot,ue=(Ae,...Re)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ae](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2432:(Et,Me,O)=>{O.d(Me,{q4:()=>Pc,iC:()=>Na,HU:()=>xf,vb:()=>ea,JM:()=>Jo});var u=O(4650),X=O(259),N=O(5861),ie=O(9681),te=O(2090),J=O(4859),ge=O(1877);O(2833);const ce="@firebase/remote-config",H="0.4.4",ve=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(R,z,de,De){this.client=R,this.storage=z,this.storageCache=de,this.logger=De}isCachedDataFresh(R,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const de=Date.now()-z,De=de<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${de}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${De}.`),De}fetch(R){var z=this;return(0,N.Z)(function*(){const[de,De]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(De&&z.isCachedDataFresh(R.cacheMaxAgeMillis,de))return De;R.eTag=De&&De.eTag;const je=yield z.client.fetch(R),pt=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===je.status&&pt.push(z.storage.setLastSuccessfulFetchResponse(je)),yield Promise.all(pt),je})()}}function ke(F=navigator){return F.languages&&F.languages[0]||F.language}class Le{constructor(R,z,de,De,je,pt){this.firebaseInstallations=R,this.sdkVersion=z,this.namespace=de,this.projectId=De,this.apiKey=je,this.appId=pt}fetch(R){var z=this;return(0,N.Z)(function*(){const[de,De]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},Yt={sdk_version:z.sdkVersion,app_instance_id:de,app_instance_id_token:De,app_id:z.appId,language_code:ke()},an={method:"POST",headers:Ht,body:JSON.stringify(Yt)},wn=fetch(pt,an),ur=new Promise((Rr,Ei)=>{R.signal.addEventListener(()=>{const dr=new Error("The operation was aborted.");dr.name="AbortError",Ei(dr)})});let qr;try{yield Promise.race([wn,ur]),qr=yield wn}catch(Rr){let Ei="fetch-client-network";throw"AbortError"===Rr?.name&&(Ei="fetch-timeout"),ve.create(Ei,{originalErrorMessage:Rr?.message})}let Dn=qr.status;const ks=qr.headers.get("ETag")||void 0;let So,Yn;if(200===qr.status){let Rr;try{Rr=yield qr.json()}catch(Ei){throw ve.create("fetch-client-parse",{originalErrorMessage:Ei?.message})}So=Rr.entries,Yn=Rr.state}if("INSTANCE_STATE_UNSPECIFIED"===Yn?Dn=500:"NO_CHANGE"===Yn?Dn=304:("NO_TEMPLATE"===Yn||"EMPTY_CONFIG"===Yn)&&(So={}),304!==Dn&&200!==Dn)throw ve.create("fetch-status",{httpStatus:Dn});return{status:Dn,eTag:ks,config:So}})()}}class st{constructor(R,z){this.client=R,this.storage=z}fetch(R){var z=this;return(0,N.Z)(function*(){const de=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(R,de)})()}attemptFetch(R,{throttleEndTimeMillis:z,backoffCount:de}){var De=this;return(0,N.Z)(function*(){yield function Ue(F,R){return new Promise((z,de)=>{const De=Math.max(R-Date.now(),0),je=setTimeout(z,De);F.addEventListener(()=>{clearTimeout(je),de(ve.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,z);try{const je=yield De.client.fetch(R);return yield De.storage.deleteThrottleMetadata(),je}catch(je){if(!function He(F){if(!(F instanceof te.ZR&&F.customData))return!1;const R=Number(F.customData.httpStatus);return 429===R||500===R||503===R||504===R}(je))throw je;const pt={throttleEndTimeMillis:Date.now()+(0,te.$s)(de),backoffCount:de+1};return yield De.storage.setThrottleMetadata(pt),De.attemptFetch(R,pt)}})()}}class un{constructor(R,z,de,De,je){this.app=R,this._client=z,this._storageCache=de,this._storage=De,this._logger=je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xe(F,R){const z=F.target.error||void 0;return ve.create(R,{originalErrorMessage:z&&z?.message})}const At="app_namespace_store";class mn{constructor(R,z,de,De=function Sn(){return new Promise((F,R)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=de=>{R(Xe(de,"storage-open"))},z.onsuccess=de=>{F(de.target.result)},z.onupgradeneeded=de=>{0===de.oldVersion&&de.target.result.createObjectStore(At,{keyPath:"compositeKey"})}}catch(z){R(ve.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=R,this.appName=z,this.namespace=de,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var z=this;return(0,N.Z)(function*(){const de=yield z.openDbPromise;return new Promise((De,je)=>{const Ht=de.transaction([At],"readonly").objectStore(At),Yt=z.createCompositeKey(R);try{const an=Ht.get(Yt);an.onerror=wn=>{je(Xe(wn,"storage-get"))},an.onsuccess=wn=>{const ur=wn.target.result;De(ur?ur.value:void 0)}}catch(an){je(ve.create("storage-get",{originalErrorMessage:an?.message}))}})})()}set(R,z){var de=this;return(0,N.Z)(function*(){const De=yield de.openDbPromise;return new Promise((je,pt)=>{const Yt=De.transaction([At],"readwrite").objectStore(At),an=de.createCompositeKey(R);try{const wn=Yt.put({compositeKey:an,value:z});wn.onerror=ur=>{pt(Xe(ur,"storage-set"))},wn.onsuccess=()=>{je()}}catch(wn){pt(ve.create("storage-set",{originalErrorMessage:wn?.message}))}})})()}delete(R){var z=this;return(0,N.Z)(function*(){const de=yield z.openDbPromise;return new Promise((De,je)=>{const Ht=de.transaction([At],"readwrite").objectStore(At),Yt=z.createCompositeKey(R);try{const an=Ht.delete(Yt);an.onerror=wn=>{je(Xe(wn,"storage-delete"))},an.onsuccess=()=>{De()}}catch(an){je(ve.create("storage-delete",{originalErrorMessage:an?.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class vr{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,N.Z)(function*(){const z=R.storage.getLastFetchStatus(),de=R.storage.getLastSuccessfulFetchTimestampMillis(),De=R.storage.getActiveConfig(),je=yield z;je&&(R.lastFetchStatus=je);const pt=yield de;pt&&(R.lastSuccessfulFetchTimestampMillis=pt);const Ht=yield De;Ht&&(R.activeConfig=Ht)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function ei(){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,N.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}!function ii(){(0,ie._registerComponent)(new J.wA("remote-config",function F(R,{instanceIdentifier:z}){const de=R.getProvider("app").getImmediate(),De=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ve.create("registration-window");if(!(0,te.hl)())throw ve.create("indexed-db-unavailable");const{projectId:je,apiKey:pt,appId:Ht}=de.options;if(!je)throw ve.create("registration-project-id");if(!pt)throw ve.create("registration-api-key");if(!Ht)throw ve.create("registration-app-id");const Yt=new mn(Ht,de.name,z=z||"firebase"),an=new vr(Yt),wn=new ge.Yd(ce);wn.logLevel=ge.in.ERROR;const ur=new Le(De,ie.SDK_VERSION,z,je,pt,Ht),qr=new st(ur,Yt),Dn=new we(qr,Yt,an,wn),ks=new un(de,Dn,an,Yt,wn);return function $e(F){const R=(0,te.m9)(F);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(ks),ks},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ce,H),(0,ie.registerVersion)(ce,H,"esm2017")}();var tr=O(6774);const yt="analytics",ti="firebase_id",si="origin",Fn=6e4,Tr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pi="https://www.googletagmanager.com/gtag/js",mt=new ge.Yd("@firebase/analytics");function Tt(F){return Promise.all(F.map(R=>R.catch(z=>z)))}function zn(){return(zn=(0,N.Z)(function*(F,R,z,de,De,je){const pt=de[De];try{if(pt)yield R[pt];else{const Yt=(yield Tt(z)).find(an=>an.measurementId===De);Yt&&(yield R[Yt.appId])}}catch(Ht){mt.error(Ht)}F("config",De,je)})).apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(F,R,z,de,De){try{let je=[];if(De&&De.send_to){let pt=De.send_to;Array.isArray(pt)||(pt=[pt]);const Ht=yield Tt(z);for(const Yt of pt){const an=Ht.find(ur=>ur.measurementId===Yt),wn=an&&R[an.appId];if(!wn){je=[];break}je.push(wn)}}0===je.length&&(je=Object.values(R)),yield Promise.all(je),F("event",de,De||{})}catch(je){mt.error(je)}})).apply(this,arguments)}const bn=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jr=30,at=new class Se{constructor(R={},z=1e3){this.throttleMetadata=R,this.intervalMillis=z}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,z){this.throttleMetadata[R]=z}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function Rt(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function Gt(){return(Gt=(0,N.Z)(function*(F){var R;const{appId:z,apiKey:de}=F,De={method:"GET",headers:Rt(de)},je=Tr.replace("{app-id}",z),pt=yield fetch(je,De);if(200!==pt.status&&304!==pt.status){let Ht="";try{const Yt=yield pt.json();null!==(R=Yt.error)&&void 0!==R&&R.message&&(Ht=Yt.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:Ht})}return pt.json()})).apply(this,arguments)}function V(){return(V=(0,N.Z)(function*(F,R=at,z){const{appId:de,apiKey:De,measurementId:je}=F.options;if(!de)throw bn.create("no-app-id");if(!De){if(je)return{measurementId:je,appId:de};throw bn.create("no-api-key")}const pt=R.getThrottleMetadata(de)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new ht;return setTimeout((0,N.Z)(function*(){Ht.abort()}),void 0!==z?z:Fn),L({appId:de,apiKey:De,measurementId:je},pt,Ht,R)})).apply(this,arguments)}function L(F,R,z){return q.apply(this,arguments)}function q(){return q=(0,N.Z)(function*(F,{throttleEndTimeMillis:R,backoffCount:z},de,De=at){var je;const{appId:pt,measurementId:Ht}=F;try{yield function me(F,R){return new Promise((z,de)=>{const De=Math.max(R-Date.now(),0),je=setTimeout(z,De);F.addEventListener(()=>{clearTimeout(je),de(bn.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(de,R)}catch(Yt){if(Ht)return mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${Yt?.message}]`),{appId:pt,measurementId:Ht};throw Yt}try{const Yt=yield function jt(F){return Gt.apply(this,arguments)}(F);return De.deleteThrottleMetadata(pt),Yt}catch(Yt){const an=Yt;if(!function ne(F){if(!(F instanceof te.ZR&&F.customData))return!1;const R=Number(F.customData.httpStatus);return 429===R||500===R||503===R||504===R}(an)){if(De.deleteThrottleMetadata(pt),Ht)return mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${an?.message}]`),{appId:pt,measurementId:Ht};throw Yt}const wn=503===Number(null===(je=an?.customData)||void 0===je?void 0:je.httpStatus)?(0,te.$s)(z,De.intervalMillis,jr):(0,te.$s)(z,De.intervalMillis),ur={throttleEndTimeMillis:Date.now()+wn,backoffCount:z+1};return De.setThrottleMetadata(pt,ur),mt.debug(`Calling attemptFetch again in ${wn} millis`),L(F,ur,de,De)}}),q.apply(this,arguments)}class ht{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Mt,nt;function Ot(){return(Ot=(0,N.Z)(function*(F,R,z,de,De){if(De&&De.global)F("event",z,de);else{const je=yield R;F("event",z,Object.assign(Object.assign({},de),{send_to:je}))}})).apply(this,arguments)}function oe(){return(oe=(0,N.Z)(function*(){if(!(0,te.hl)())return mt.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(F){return mt.warn(bn.create("indexeddb-unavailable",{errorInfo:F?.toString()}).message),!1}return!0})).apply(this,arguments)}function _t(){return _t=(0,N.Z)(function*(F,R,z,de,De,je,pt){var Ht;const Yt=function nr(F){return V.apply(this,arguments)}(F);Yt.then(Dn=>{z[Dn.measurementId]=Dn.appId,F.options.measurementId&&Dn.measurementId!==F.options.measurementId&&mt.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${Dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dn=>mt.error(Dn)),R.push(Yt);const an=function B(){return oe.apply(this,arguments)}().then(Dn=>{if(Dn)return de.getId()}),[wn,ur]=yield Promise.all([Yt,an]);(function oi(F){const R=window.document.getElementsByTagName("script");for(const z of Object.values(R))if(z.src&&z.src.includes(Pi)&&z.src.includes(F))return z;return null})(je)||function Nt(F,R){const z=document.createElement("script");z.src=`${Pi}?l=${F}&id=${R}`,z.async=!0,document.head.appendChild(z)}(je,wn.measurementId),nt&&(De("consent","default",nt),function ft(F){nt=F}(void 0)),De("js",new Date);const qr=null!==(Ht=pt?.config)&&void 0!==Ht?Ht:{};return qr[si]="firebase",qr.update=!0,null!=ur&&(qr[ti]=ur),De("config",wn.measurementId,qr),Mt&&(De("set",Mt),function Wt(F){Mt=F}(void 0)),wn.measurementId}),_t.apply(this,arguments)}class In{constructor(R){this.app=R}_delete(){return delete lt[this.app.options.appId],Promise.resolve()}}let lt={},Ct=[];const pn={};let Hr,et,Sr="dataLayer",An="gtag",Kt=!1;function Yi(F,R,z){!function vi(){const F=[];if((0,te.ru)()&&F.push("This is a browser extension environment."),(0,te.zI)()||F.push("Cookies are not available."),F.length>0){const R=F.map((de,De)=>`(${De+1}) ${de}`).join(" "),z=bn.create("invalid-analytics-context",{errorInfo:R});mt.warn(z.message)}}();const de=F.options.appId;if(!de)throw bn.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw bn.create("no-api-key");mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lt[de])throw bn.create("already-exists",{id:de});if(!Kt){!function Zi(F){let R=[];Array.isArray(window[F])?R=window[F]:window[F]=R}(Sr);const{wrappedGtag:je,gtagCore:pt}=function hn(F,R,z,de,De){let je=function(...pt){window[de].push(arguments)};return window[De]&&"function"==typeof window[De]&&(je=window[De]),window[De]=function Ki(F,R,z,de){function je(){return je=(0,N.Z)(function*(pt,Ht,Yt){try{"event"===pt?yield function lr(F,R,z,de,De){return Zn.apply(this,arguments)}(F,R,z,Ht,Yt):"config"===pt?yield function vn(F,R,z,de,De,je){return zn.apply(this,arguments)}(F,R,z,de,Ht,Yt):"consent"===pt?F("consent","update",Yt):F("set",Ht)}catch(an){mt.error(an)}}),je.apply(this,arguments)}return function De(pt,Ht,Yt){return je.apply(this,arguments)}}(je,F,R,z),{gtagCore:je,wrappedGtag:window[De]}}(lt,Ct,pn,Sr,An);et=je,Hr=pt,Kt=!0}return lt[de]=function Ne(F,R,z,de,De,je,pt){return _t.apply(this,arguments)}(F,Ct,pn,R,Hr,Sr,z),new In(F)}function Kn(){return Is.apply(this,arguments)}function Is(){return(Is=(0,N.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}const Js="@firebase/analytics";!function Ni(){(0,ie._registerComponent)(new J.wA(yt,(R,{options:z})=>Yi(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,ie._registerComponent)(new J.wA("analytics-internal",function F(R){try{const z=R.getProvider(yt).getImmediate();return{logEvent:(de,De,je)=>function Ts(F,R,z,de){F=(0,te.m9)(F),function dn(F,R,z,de,De){return Ot.apply(this,arguments)}(et,lt[F.app.options.appId],R,z,de).catch(De=>mt.error(De))}(z,de,De,je)}}catch(z){throw bn.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,ie.registerVersion)(Js,"0.9.4"),(0,ie.registerVersion)(Js,"0.9.4","esm2017")}();var Ms=O(4408),Ln=O(7565);const wi=new class Qi extends Ln.v{}(class ls extends Ms.o{constructor(R,z){super(R,z),this.scheduler=R,this.work=z}schedule(R,z=0){return z>0?super.schedule(R,z):(this.delay=z,this.state=R,this.scheduler.flush(this),this)}execute(R,z){return z>0||this.closed?super.execute(R,z):this._execute(R,z)}requestAsyncId(R,z,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(R,z,de):(R.flush(this),0)}});var Do=O(4986),Pa=O(8505),As=O(9468),$r=O(5363);const Pc=new u.GfV("7.5.0"),Gr="__angularfire_symbol__analyticsIsSupportedValue",ai="__angularfire_symbol__analyticsIsSupported",eo="__angularfire_symbol__remoteConfigIsSupportedValue",li="__angularfire_symbol__remoteConfigIsSupported",To="__angularfire_symbol__messagingIsSupportedValue",ci="__angularfire_symbol__messagingIsSupported";function Jo(F,R,z){if(R){if(1===R.length)return R[0];const je=R.filter(pt=>pt.app===z);if(1===je.length)return je[0]}return z.container.getProvider(F).getImmediate({optional:!0})}globalThis[ai]||(globalThis[ai]=Kn().then(F=>globalThis[Gr]=F).catch(()=>globalThis[Gr]=!1)),globalThis[ci]||(globalThis[ci]=(0,tr.Gb)().then(F=>globalThis[To]=F).catch(()=>globalThis[To]=!1)),globalThis[li]||(globalThis[li]=ei().then(F=>globalThis[eo]=F).catch(()=>globalThis[eo]=!1));const ea=(F,R)=>{const z=R?[R]:(0,X.C6)(),de=[];return z.forEach(De=>{De.container.getProvider(F).instances.forEach(pt=>{de.includes(pt)||de.push(pt)})}),de};function no(){}class Fc{constructor(R,z=wi){this.zone=R,this.delegate=z}now(){return this.delegate.now()}schedule(R,z,de){const De=this.zone;return this.delegate.schedule(function(pt){De.runGuarded(()=>{R.apply(this,[pt])})},z,de)}}class Ed{constructor(R){this.zone=R,this.task=null}call(R,z){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",no,{},no,no)),z.pipe((0,Pa.b)({next:de,complete:de,error:de})).subscribe(R).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xf=(()=>{class F{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new Fc(Zone.current)),this.insideAngular=z.run(()=>new Fc(Zone.current,Do.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(z){return new(z||F)(u.LFG(u.R0b))},F.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function ui(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Na(F){return ui(),function di(F){return function(z){return(z=z.lift(new Ed(F.ngZone))).pipe((0,As.R)(F.outsideAngular),(0,$r.Q)(F.insideAngular))}}(ui())(F)}},2090:(Et,Me,O)=>{O.d(Me,{$s:()=>Rt,BH:()=>Oe,G6:()=>ke,L:()=>ce,LL:()=>xt,Pz:()=>Ee,Sg:()=>$e,UG:()=>ye,US:()=>J,ZB:()=>Y,ZR:()=>_n,aH:()=>xe,b$:()=>vt,eu:()=>Ue,hl:()=>Le,jU:()=>qe,m9:()=>nr,ne:()=>mt,pd:()=>Tr,r3:()=>Jr,ru:()=>Ye,tV:()=>H,uI:()=>U,vZ:()=>tr,w1:()=>ae,xO:()=>si,xb:()=>ei,z$:()=>Pe,zI:()=>He,zd:()=>Fn});const ie=function(V){const L=[];let q=0;for(let me=0;me<V.length;me++){let ne=V.charCodeAt(me);ne<128?L[q++]=ne:ne<2048?(L[q++]=ne>>6|192,L[q++]=63&ne|128):55296==(64512&ne)&&me+1<V.length&&56320==(64512&V.charCodeAt(me+1))?(ne=65536+((1023&ne)<<10)+(1023&V.charCodeAt(++me)),L[q++]=ne>>18|240,L[q++]=ne>>12&63|128,L[q++]=ne>>6&63|128,L[q++]=63&ne|128):(L[q++]=ne>>12|224,L[q++]=ne>>6&63|128,L[q++]=63&ne|128)}return L},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,L){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let ne=0;ne<V.length;ne+=3){const ht=V[ne],Mt=ne+1<V.length,dn=Mt?V[ne+1]:0,Ot=ne+2<V.length,Vn=Ot?V[ne+2]:0;let cr=(15&dn)<<2|Vn>>6,sr=63&Vn;Ot||(sr=64,Mt||(cr=64)),me.push(q[ht>>2],q[(3&ht)<<4|dn>>4],q[cr],q[sr])}return me.join("")},encodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(V):this.encodeByteArray(ie(V),L)},decodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(V):function(V){const L=[];let q=0,me=0;for(;q<V.length;){const ne=V[q++];if(ne<128)L[me++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const ht=V[q++];L[me++]=String.fromCharCode((31&ne)<<6|63&ht)}else if(ne>239&&ne<365){const Ot=((7&ne)<<18|(63&V[q++])<<12|(63&V[q++])<<6|63&V[q++])-65536;L[me++]=String.fromCharCode(55296+(Ot>>10)),L[me++]=String.fromCharCode(56320+(1023&Ot))}else{const ht=V[q++],Mt=V[q++];L[me++]=String.fromCharCode((15&ne)<<12|(63&ht)<<6|63&Mt)}}return L.join("")}(this.decodeStringToByteArray(V,L))},decodeStringToByteArray(V,L){this.init_();const q=L?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let ne=0;ne<V.length;){const ht=q[V.charAt(ne++)],dn=ne<V.length?q[V.charAt(ne)]:0;++ne;const Vn=ne<V.length?q[V.charAt(ne)]:64;++ne;const nn=ne<V.length?q[V.charAt(ne)]:64;if(++ne,null==ht||null==dn||null==Vn||null==nn)throw new ge;me.push(ht<<2|dn>>4),64!==Vn&&(me.push(dn<<4&240|Vn>>2),64!==nn&&me.push(Vn<<6&192|nn))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ce=function(V){return function(V){const L=ie(V);return J.encodeByteArray(L,!0)}(V).replace(/\./g,"")},H=function(V){try{return J.decodeString(V,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function Y(V,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return L}for(const q in L)!L.hasOwnProperty(q)||!Ze(q)||(V[q]=Y(V[q],L[q]));return V}function Ze(V){return"__proto__"!==V}const Ae=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=V&&H(V[1]);return L&&JSON.parse(L)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},xe=()=>{var V;return null===(V=Ae())||void 0===V?void 0:V.config},Ee=V=>{var L;return null===(L=Ae())||void 0===L?void 0:L[`_${V}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,q)=>{this.resolve=L,this.reject=q})}wrapCallback(L){return(q,me)=>{q?this.reject(q):this.resolve(me),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(q):L(q,me))}}}function $e(V,L){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=L||"demo-project",ne=V.iat||0,ht=V.sub||V.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:ne,exp:ne+3600,auth_time:ne,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},V);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Mt)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function U(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function ye(){var V;const L=null===(V=Ae())||void 0===V?void 0:V.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function Ye(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ae(){const V=Pe();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function ke(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((V,L)=>{try{let q=!0;const me="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(me);ne.onsuccess=()=>{ne.result.close(),q||self.indexedDB.deleteDatabase(me),V(!0)},ne.onupgradeneeded=()=>{q=!1},ne.onerror=()=>{var ht;L((null===(ht=ne.error)||void 0===ht?void 0:ht.message)||"")}}catch(q){L(q)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _n extends Error{constructor(L,q,me){super(q),this.code=L,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(L,q,me){this.service=L,this.serviceName=q,this.errors=me}create(L,...q){const me=q[0]||{},ne=`${this.service}/${L}`,ht=this.errors[L],Mt=ht?function un(V,L){return V.replace(Xe,(q,me)=>{const ne=L[me];return null!=ne?String(ne):`<${me}?>`})}(ht,me):"Error";return new _n(ne,`${this.serviceName}: ${Mt} (${ne}).`,me)}}const Xe=/\{\$([^}]+)}/g;function Jr(V,L){return Object.prototype.hasOwnProperty.call(V,L)}function ei(V){for(const L in V)if(Object.prototype.hasOwnProperty.call(V,L))return!1;return!0}function tr(V,L){if(V===L)return!0;const q=Object.keys(V),me=Object.keys(L);for(const ne of q){if(!me.includes(ne))return!1;const ht=V[ne],Mt=L[ne];if(yt(ht)&&yt(Mt)){if(!tr(ht,Mt))return!1}else if(ht!==Mt)return!1}for(const ne of me)if(!q.includes(ne))return!1;return!0}function yt(V){return null!==V&&"object"==typeof V}function si(V){const L=[];for(const[q,me]of Object.entries(V))Array.isArray(me)?me.forEach(ne=>{L.push(encodeURIComponent(q)+"="+encodeURIComponent(ne))}):L.push(encodeURIComponent(q)+"="+encodeURIComponent(me));return L.length?"&"+L.join("&"):""}function Fn(V){const L={};return V.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[ne,ht]=me.split("=");L[decodeURIComponent(ne)]=decodeURIComponent(ht)}}),L}function Tr(V){const L=V.indexOf("?");if(!L)return"";const q=V.indexOf("#",L);return V.substring(L,q>0?q:void 0)}function mt(V,L){const q=new Tt(V,L);return q.subscribe.bind(q)}class Tt{constructor(L,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{L(this)}).catch(me=>{this.error(me)})}next(L){this.forEachObserver(q=>{q.next(L)})}error(L){this.forEachObserver(q=>{q.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,q,me){let ne;if(void 0===L&&void 0===q&&void 0===me)throw new Error("Missing Observer.");ne=function Zi(V,L){if("object"!=typeof V||null===V)return!1;for(const q of L)if(q in V&&"function"==typeof V[q])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:q,complete:me},void 0===ne.next&&(ne.next=vn),void 0===ne.error&&(ne.error=vn),void 0===ne.complete&&(ne.complete=vn);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),ht}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,L)}sendOne(L,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{q(this.observers[L])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vn(){}const jr=1e3,We=2,Se=144e5,at=.5;function Rt(V,L=jr,q=We){const me=L*Math.pow(q,V),ne=Math.round(at*me*(Math.random()-.5)*2);return Math.min(Se,me+ne)}function nr(V){return V&&V._delegate?V._delegate:V}},2848:(Et,Me,O)=>{var u=O(4650);let X=null;function N(){return X}class te{}const J=new u.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function _e(){return(0,u.LFG)(H)}()},providedIn:"platform"}),n})();const ce=new u.OlP("Location Initialized");let H=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Y(){return new H((0,u.LFG)(J))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let Je=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ae)},providedIn:"root"}),n})();const ue=new u.OlP("appBaseHref");let Ae=(()=>{class n extends Je{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ze(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Qe(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Qe(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Re=(()=>{class n extends Je{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ze(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Qe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Qe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ve(Oe(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Oe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=Ze,n.stripTrailingSlash=ve,n.\u0275fac=function(t){return new(t||n)(u.LFG(Je))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function xe(){return new Ve((0,u.LFG)(Je))}()},providedIn:"root"}),n})();function Oe(n){return n.replace(/\/index.html$/,"")}const Hr=/\s+/,et=[];let Kt=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=et,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Hr):et}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Hr):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Hr).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class br{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new br(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),Kn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Kn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kn(n,e){n.context.$implicit=e.item}let wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Na="browser",di="server";function F(n){return n===Na}function R(n){return n===di}let je=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new pt((0,u.LFG)(J),window)}),n})();class pt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yt(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ht(this.window.history)||Ht(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ht(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Va extends te{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sl extends Va{static makeCurrent(){!function ie(n){X||(X=n)}(new Sl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ua(){return Ml=Ml||document.querySelector("base"),Ml?Ml.getAttribute("href"):null}();return null==t?null:function Mb(n){Ao=Ao||document.createElement("a"),Ao.setAttribute("href",n);const e=Ao.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function An(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ao,Ml=null;const Gc=new u.OlP("TRANSITION_ID"),na=[{provide:u.ip1,useFactory:function jf(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Gc,J,u.zs3],multi:!0}];let Rm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=new u.OlP("EventManagerPlugins");let qc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ra),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class or{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let kd=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xo=(()=>{class n extends kd{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ia={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ja=/%COMP%/g,za=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Pd(n,e){return e.flat(100).map(t=>t.replace(ja,n))}function Kc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ii=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Ol(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Pm?i.applyToHost(t):i instanceof kl&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const c=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case u.ifc.Emulated:a=new Pm(c,f,r,this.appId,_);break;case u.ifc.ShadowDom:return new Nd(c,f,t,r);default:a=new kl(c,f,r,_)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qc),u.LFG(xo),u.LFG(u.AFp),u.LFG(za))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ol{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ia[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Qc(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Qc(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=ia[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ia[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kc(r)):this.eventManager.addEventListener(e,t,Kc(r))}}function Qc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nd extends Ol{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Pd(i.id,i.styles);for(const c of a){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kl extends Ol{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Pd(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Pm extends kl{constructor(e,t,r,i,a){const c=i+"-"+r.id;super(e,t,r,a,c),this.contentAttr=function Zc(n){return"_ngcontent-%COMP%".replace(ja,n)}(c),this.hostAttr=function xl(n){return"_nghost-%COMP%".replace(ja,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let sa=(()=>{class n extends or{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Fd=["alt","control","meta","shift"],zf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$f={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ld=(()=>{class n extends or{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),Fd.forEach(w=>{const I=r.indexOf(w);I>-1&&(r.splice(I,1),c+=w+".")}),c+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=zf[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Fd.forEach(c=>{c!==i&&(0,$f[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Vd=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Na},{provide:u.g9A,useValue:function io(){Sl.makeCurrent()},multi:!0},{provide:J,useFactory:function Gf(){return(0,u.RDi)(document),document},deps:[]}]),Ud=new u.OlP(""),Jc=[{provide:u.rWj,useClass:class km{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],aa=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Lm(){return new u.qLn},deps:[]},{provide:ra,useClass:sa,multi:!0,deps:[J,u.R0b,u.Lbi]},{provide:ra,useClass:Ld,multi:!0,deps:[J]},{provide:Ii,useClass:Ii,deps:[qc,xo,u.AFp,za]},{provide:u.FYo,useExisting:Ii},{provide:kd,useExisting:xo},{provide:xo,useClass:xo,deps:[J]},{provide:qc,useClass:qc,deps:[ra,u.R0b]},{provide:class wn{},useClass:Rm,deps:[]},[]];let la=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Gc,useExisting:u.AFp},na]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ud,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...aa,...Jc],imports:[wl,u.hGG]}),n})(),Bm=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qa(){return new Bm((0,u.LFG)(J))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Gn=O(8996),ko=O(3269);function gt(...n){const e=(0,ko.yG)(n);return(0,Gn.D)(n,e)}var Jn=O(7579);class kn extends Jn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const da=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hr=O(9751);const{isArray:Wd}=Array,{getPrototypeOf:Fl,prototype:iu,keys:Ll}=Object;function Qf(n){if(1===n.length){const e=n[0];if(Wd(e))return{args:e,keys:null};if(function su(n){return n&&"object"==typeof n&&Fl(n)===iu}(e)){const t=Ll(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var so=O(4671),rt=O(4004);const{isArray:ou}=Array;function Bl(n){return(0,rt.U)(e=>function Hm(n,e){return ou(e)?n(...e):n(e)}(n,e))}function Ps(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var qn=O(5403),Xf=O(9672);function Ns(...n){const e=(0,ko.yG)(n),t=(0,ko.jO)(n),{args:r,keys:i}=Qf(n);if(0===r.length)return(0,Gn.D)([],e);const a=new hr.y(function Jf(n,e,t=so.y){return r=>{Zd(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)Zd(e,()=>{const w=(0,Gn.D)(n[_],e);let I=!1;w.subscribe((0,qn.x)(r,S=>{a[_]=S,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ps(i,c):so.y));return t?a.pipe(Bl(t)):a}function Zd(n,e,t){n?(0,Xf.f)(t,n,e):e()}var Vl=O(8189);function ha(...n){return function ep(){return(0,Vl.J)(1)}()((0,Gn.D)(n,(0,ko.yG)(n)))}var oo=O(8421);function ao(n){return new hr.y(e=>{(0,oo.Xf)(n()).subscribe(e)})}var tp=O(9635),Fi=O(576);function Ro(n,e){const t=(0,Fi.m)(n)?n:()=>n,r=i=>i.error(t());return new hr.y(e?i=>e.schedule(r,0,i):r)}var Fs=O(515),Kd=O(727),Pr=O(4482);function au(){return(0,Pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,qn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Yd extends hr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Kd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,qn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Kd.w0.EMPTY)}return e}refCount(){return au()(this)}}function gn(n,e){return(0,Pr.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,qn.x)(r,_=>{i?.unsubscribe();let w=0;const I=a++;(0,oo.Xf)(n(_,I)).subscribe(i=(0,qn.x)(r,S=>r.next(e?e(_,S,I,w++):S),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function wr(n){return n<=0?()=>Fs.E:(0,Pr.e)((e,t)=>{let r=0;e.subscribe((0,qn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function lu(...n){const e=(0,ko.yG)(n);return(0,Pr.e)((t,r)=>{(e?ha(n,t,e):ha(n,t)).subscribe(r)})}function fr(n,e){return(0,Pr.e)((t,r)=>{let i=0;t.subscribe((0,qn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Mr=O(5577);function cu(n){return(0,Pr.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zm(n=xb){return(0,Pr.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xb(){return new da}function Po(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fr((i,a)=>n(i,a,r)):so.y,wr(1),t?cu(e):zm(()=>new da))}function Ls(n,e){return(0,Fi.m)(e)?(0,Mr.z)(n,e,1):(0,Mr.z)(n,1)}var pr=O(8505);function Ji(n){return(0,Pr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,qn.x)(t,void 0,void 0,c=>{a=(0,oo.Xf)(n(c,Ji(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Ka(n,e){return(0,Pr.e)(function np(n,e,t,r,i){return(a,c)=>{let f=t,_=e,w=0;a.subscribe((0,qn.x)(c,I=>{const S=w++;_=f?n(_,I,S):(f=!0,I),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function uu(n){return n<=0?()=>Fs.E:(0,Pr.e)((e,t)=>{let r=[];e.subscribe((0,qn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function es(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fr((i,a)=>n(i,a,r)):so.y,uu(1),t?cu(e):zm(()=>new da))}function rp(n){return(0,rt.U)(()=>n)}function du(n){return(0,Pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Jt="primary",lo=Symbol("RouteTitle");class Gm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function No(n){return new Gm(n)}function qm(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Bs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!hu(n[i],e[i]))return!1;return!0}function hu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function fi(n){return Array.prototype.concat.apply([],n)}function Ul(n){return n.length>0?n[n.length-1]:null}function Ar(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function rr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Gn.D)(Promise.resolve(n)):gt(n)}const Fo=!1,sp={exact:function Wm(n,e,t){if(!Li(n.segments,e.segments)||!Ya(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Wm(n.children[r],e.children[r],t))return!1;return!0},subset:ap},Xd={exact:function op(n,e){return Bs(n,e)},subset:function Lo(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hu(n[t],e[t]))},ignored:()=>!0};function Jd(n,e,t){return sp[t.paths](n.root,e.root,t.matrixParams)&&Xd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ap(n,e,t){return eh(n,e,e.segments,t)}function eh(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Li(i,t)||e.hasChildren()||!Ya(i,t,r))}if(n.segments.length===t.length){if(!Li(n.segments,t)||!Ya(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ap(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Li(n.segments,i)&&Ya(n.segments,i,r)&&n.children[Jt])&&eh(n.children[Jt],e,a,r)}}function Ya(n,e,t){return e.every((r,i)=>Xd[t](n[i].parameters,r.parameters))}class Bo{constructor(e=new rn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=No(this.queryParams)),this._queryParamMap}toString(){return th.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ar(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hl(this)}}class fa{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=No(this.parameters)),this._parameterMap}toString(){return gu(this)}}function Li(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let jl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new pa},providedIn:"root"}),n})();class pa{parse(e){const t=new Xm(e);return new Bo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vs(e.root,!0)}`,r=function Ym(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zl(t)}=${zl(i)}`).join("&"):`${zl(t)}=${zl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function lp(n){return encodeURI(n)}(e.fragment)}`:""}`}}const th=new pa;function Hl(n){return n.segments.map(e=>gu(e)).join("/")}function Vs(n,e){if(!n.hasChildren())return Hl(n);if(e){const t=n.children[Jt]?Vs(n.children[Jt],!1):"",r=[];return Ar(n.children,(i,a)=>{a!==Jt&&r.push(`${a}:${Vs(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Km(n,e){let t=[];return Ar(n.children,(r,i)=>{i===Jt&&(t=t.concat(e(r,i)))}),Ar(n.children,(r,i)=>{i!==Jt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Jt?[Vs(n.children[Jt],!1)]:[`${i}:${Vs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${Hl(n)}/${t[0]}`:`${Hl(n)}/(${t.join("//")})`}}function fu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zl(n){return fu(n).replace(/%3B/gi,";")}function ga(n){return fu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pu(n){return decodeURIComponent(n)}function cp(n){return pu(n.replace(/\+/g,"%20"))}function gu(n){return`${ga(n.path)}${function nh(n){return Object.keys(n).map(e=>`;${ga(e)}=${ga(n[e])}`).join("")}(n.parameters)}`}const Qm=/^[^\/()?;=#]+/;function Vo(n){const e=n.match(Qm);return e?e[0]:""}const rh=/^[^=?&#]+/,ih=/^[^&#]+/;class Xm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jt]=new rn(e,t)),r}parseSegment(){const e=Vo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,Fo);return this.capture(e),new fa(pu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vo(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Vo(this.remaining);i&&(r=i,this.capture(r))}e[pu(t)]=pu(r)}parseQueryParam(e){const t=function up(n){const e=n.match(rh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function dp(n){const e=n.match(ih);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=cp(t),a=cp(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vo(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,Fo);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Jt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Jt]:new rn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,Fo)}}function mu(n){return n.segments.length>0?new rn([],{[Jt]:n}):n}function $l(n){const e={};for(const r of Object.keys(n.children)){const a=$l(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function ma(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}function ts(n){return n instanceof Bo}const _u=!1;function t_(n,e,t,r,i){if(0===t.length)return co(e.root,e.root,e.root,r,i);const a=function ql(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yu(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Ar(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new yu(t,e,r)}(t);return a.toRoot()?co(e.root,e.root,new rn([],{}),r,i):function c(_){const w=function pi(n,e,t,r){if(n.isAbsolute)return new ds(e.root,!0,0);if(-1===r)return new ds(t,t===e.root,0);return function Uo(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,_u&&"Invalid number of '../'");i=r.segments.length}return new ds(r,!1,i-a)}(t,r+(Qa(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=w.processChildren?jo(w.segmentGroup,w.index,a.commands):ya(w.segmentGroup,w.index,a.commands);return co(e.root,w.segmentGroup,I,r,i)}(n.snapshot?._lastPathIndex)}function Qa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _a(n){return"object"==typeof n&&null!=n&&n.outlets}function co(n,e,t,r,i){let c,a={};r&&Ar(r,(_,w)=>{a[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),c=n===e?t:Xa(n,e,t);const f=mu($l(c));return new Bo(f,a,i)}function Xa(n,e,t){const r={};return Ar(n.children,(i,a)=>{r[a]=i===e?t:Xa(i,e,t)}),new rn(n.segments,r)}class yu{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qa(r[0]))throw new u.vHH(4003,_u&&"Root segment cannot have matrix parameters");const i=r.find(_a);if(i&&i!==Ul(r))throw new u.vHH(4004,_u&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ds{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ya(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return jo(n,e,t);const r=function bu(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(_a(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Us(_,w,c))return a;r+=2}else{if(!Us(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new rn(n.segments.slice(0,r.pathIndex),{});return a.children[Jt]=new rn(n.segments.slice(r.pathIndex),n.children),jo(a,0,i)}return r.match&&0===i.length?new rn(n.segments,{}):r.match&&!n.hasChildren()?sh(n,e,t):r.match?jo(n,0,i):sh(n,e,t)}function jo(n,e,t){if(0===t.length)return new rn(n.segments,{});{const r=function vu(n){return _a(n[0])?n[0].outlets:{[Jt]:n}}(t),i={};return!r[Jt]&&n.children[Jt]&&1===n.numberOfChildren&&0===n.children[Jt].segments.length?jo(n.children[Jt],e,t):(Ar(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=ya(n.children[c],e,a))}),Ar(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new rn(n.segments,i))}}function sh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(_a(a)){const _=fp(a.outlets);return new rn(r,_)}if(0===i&&Qa(t[0])){r.push(new fa(n.segments[e].path,pp(t[0]))),i++;continue}const c=_a(a)?a.outlets[Jt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&Qa(f)?(r.push(new fa(c,pp(f))),i+=2):(r.push(new fa(c,{})),i++)}return new rn(r,{})}function fp(n){const e={};return Ar(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sh(new rn([],{}),0,t))}),e}function pp(n){const e={};return Ar(n,(t,r)=>e[r]=`${t}`),e}function Us(n,e,t){return n==t.path&&Bs(e,t.parameters)}const va="imperative";class Bi{constructor(e,t){this.id=e,this.url=t}}class Wl extends Bi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ns extends Bi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zl extends Bi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zr extends Bi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class wu extends Bi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oh extends Bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ah extends Bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo extends Bi{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ja extends Bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kl extends Bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eu{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cu{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ba{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n_{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _p{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let m=(()=>{class n{createUrlTree(t,r,i,a,c,f){return t_(t||r.root,i,a,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return m.\u0275fac(e)},providedIn:"root"}),n})();class x{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=K(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=K(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pe(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pe(e,this._root).map(t=>t.value)}}function K(n,e){if(n===e.value)return e;for(const t of e.children){const r=K(n,t);if(r)return r}return null}function pe(n,e){if(n===e.value)return[e];for(const t of e.children){const r=pe(n,t);if(r.length)return r.unshift(e),r}return[]}class ze{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ct(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Vt extends x{constructor(e,t){super(e),this.snapshot=t,Ho(this,e)}toString(){return this.snapshot.toString()}}function Pt(n,e){const t=function xr(n,e){const c=new ho([],{},{},"",{},Jt,e,null,n.root,-1,{});return new hs("",new ze(c,[]))}(n,e),r=new kn([new fa("",{})]),i=new kn({}),a=new kn({}),c=new kn({}),f=new kn(""),_=new Nr(r,i,c,f,a,Jt,e,t.root);return _.snapshot=t.root,new Vt(new ze(_,[]),t)}class Nr{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,rt.U)(w=>w[lo]))??gt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(e=>No(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(e=>No(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yl(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function yp(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ho{get title(){return this.data?.[lo]}constructor(e,t,r,i,a,c,f,_,w,I,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=No(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=No(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hs extends x{constructor(e,t){super(t),this.url=e,Ho(this,t)}toString(){return Ql(this._root)}}function Ho(n,e){e.value._routerState=n,e.children.forEach(t=>Ho(n,t))}function Ql(n){const e=n.children.length>0?` { ${n.children.map(Ql).join(", ")} } `:"";return`${n.value}${e}`}function Xl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Bs(e.params,t.params)||n.params.next(t.params),function Qd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Bs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jl(n,e){const t=Bs(n.params,e.params)&&function Zm(n,e){return Li(n,e)&&n.every((t,r)=>Bs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Jl(n.parent,e.parent))}function ec(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ob(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ec(n,r,i);return ec(n,r)})}(n,e,t);return new ze(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>ec(n,f)),c}}const r=function tc(n){return new Nr(new kn(n.url),new kn(n.params),new kn(n.queryParams),new kn(n.fragment),new kn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>ec(n,a));return new ze(r,i)}}const nc="ngNavigationCancelingError";function jI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function HI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[nc]=!0,r.cancellationCode=e,t&&(r.url=t),r}function r_(n){return kb(n)&&ts(n.url)}function kb(n){return n&&n[nc]}class zI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lh,this.attachRef=null}}let lh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zI,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bp=!1;let wp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(lh),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,bp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,bp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,bp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,bp);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new Ep(t,f,i.injector);if(r&&function Rb(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(c);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class Ep{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Nr?this.route:e===lh?this.childContexts:this.parent.get(e,t)}}let ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[wp],encapsulation:2}),n})();function Pb(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function i_(n){const e=n.children&&n.children.map(i_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=ch),t}function fs(n){return n.outlet||Jt}function WI(n,e){const t=n.filter(r=>fs(r)===e);return t.push(...n.filter(r=>fs(r)!==e)),t}function Ip(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class s_{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ct(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Ar(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ct(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ct(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ct(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new n_(a.value.snapshot))}),e.children.length&&this.forwardEvent(new mp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Xl(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Xl(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Ip(i.snapshot),_=f?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class o_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dh{constructor(e,t){this.component=e,this.route=t}}function Fb(n,e,t){const r=n._root;return Du(r,e?e._root:null,t,[r.value])}function Iu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function Du(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ct(e);return n.children.forEach(c=>{(function Lb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function a_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Li(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Li(n.url,e.url)||!Bs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jl(n,e)||!Bs(n.queryParams,e.queryParams);default:return!Jl(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new o_(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Du(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new dh(f.outlet.component,c))}else c&&Dp(e,f,i),i.canActivateChecks.push(new o_(r)),Du(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Ar(a,(c,f)=>Dp(c,t.getContext(f),i)),i}function Dp(n,e,t){const r=ct(n),i=n.value;Ar(r,(a,c)=>{Dp(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new dh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function rc(n){return"function"==typeof n}function c_(n){return n instanceof da||"EmptyError"===n?.name}const Tu=Symbol("INITIAL_VALUE");function wa(){return gn(n=>Ns(n.map(e=>e.pipe(wr(1),lu(Tu)))).pipe((0,rt.U)(e=>{for(const t of e)if(!0!==t){if(t===Tu)return Tu;if(!1===t||t instanceof Bo)return t}return!0}),fr(e=>e!==Tu),wr(1)))}function zb(n){return(0,tp.z)((0,pr.b)(e=>{if(ts(e))throw jI(0,e)}),(0,rt.U)(e=>!0===e))}const h_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function f_(n,e,t,r,i){const a=p_(n,e,t);return a.matched?function d_(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?gt(i.map(c=>{const f=Iu(c,n);return rr(function KI(n){return n&&rc(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(wa(),zb()):gt(!0)}(r=Pb(e,r),e,t).pipe((0,rt.U)(c=>!0===c?a:{...h_})):gt(a)}function p_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...h_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qm)(t,n,e);if(!i)return{...h_};const a={};Ar(i.posParams,(f,_)=>{a[_]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function hh(n,e,t,r){if(t.length>0&&function fh(n,e,t){return t.some(r=>Ea(n,e,r)&&fs(r)!==Jt)}(n,t,r)){const a=new rn(e,function eD(n,e,t,r){const i={};i[Jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&fs(a)!==Jt){const c=new rn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[fs(a)]=c}return i}(n,e,r,new rn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function tD(n,e,t){return t.some(r=>Ea(n,e,r))}(n,t,r)){const a=new rn(n.segments,function UO(n,e,t,r,i){const a={};for(const c of r)if(Ea(n,t,c)&&!i[fs(c)]){const f=new rn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[fs(c)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new rn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Ea(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Mu(n,e,t,r){return!!(fs(n)===r||r!==Jt&&Ea(e,t,n))&&("**"===n.path||p_(e,n,t).matched)}function $b(n,e,t){return 0===e.length&&!n.children[t]}const ph=!1;class Sp{constructor(e){this.segmentGroup=e||null}}class Gb{constructor(e){this.urlTree=e}}function gh(n){return Ro(new Sp(n))}function g_(n){return Ro(new Gb(n))}class nD{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=hh(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Jt).pipe((0,rt.U)(a=>this.createUrlTree($l(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ji(a=>{if(a instanceof Gb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Sp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Jt).pipe((0,rt.U)(i=>this.createUrlTree($l(i),e.queryParams,e.fragment))).pipe(Ji(i=>{throw i instanceof Sp?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,ph)}createUrlTree(e,t,r){const i=mu(e);return new Bo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,rt.U)(a=>new rn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Gn.D)(i).pipe(Ls(a=>{const c=r.children[a],f=WI(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,rt.U)(_=>({segment:_,outlet:a})))}),Ka((a,c)=>(a[c.outlet]=c.segment,a),{}),es())}expandSegment(e,t,r,i,a,c){return(0,Gn.D)(r).pipe(Ls(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(Ji(w=>{if(w instanceof Sp)return gt(null);throw w}))),Po(f=>!!f),Ji((f,_)=>{if(c_(f))return $b(t,i,a)?gt(new rn([],{})):gh(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return Mu(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):gh(t):gh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?g_(a):this.lineralizeSegments(r,a).pipe((0,Mr.z)(c=>{const f=new rn(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=p_(t,i,a);if(!f)return gh(t);const S=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?g_(S):this.lineralizeSegments(i,S).pipe((0,Mr.z)(P=>this.expandSegment(e,t,r,P.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Pb(r,e),r.loadChildren?(r._loadedRoutes?gt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,rt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new rn(i,{})))):gt(new rn(i,{}))):f_(t,r,i,e).pipe(gn(({matched:c,consumedSegments:f,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Mr.z)(I=>{const S=I.injector??e,P=I.routes,{segmentGroup:j,slicedSegments:G}=hh(t,f,_,P),re=new rn(j.segments,j.children);if(0===G.length&&re.hasChildren())return this.expandChildren(S,P,re).pipe((0,rt.U)(St=>new rn(f,St)));if(0===P.length&&0===G.length)return gt(new rn(f,{}));const Ie=fs(r)===a;return this.expandSegment(S,re,P,G,Ie?Jt:a,!0).pipe((0,rt.U)(It=>new rn(f.concat(It.segments),It.children)))})):gh(t)))}getChildConfig(e,t,r){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):function JI(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?gt(!0):gt(i.map(c=>{const f=Iu(c,n);return rr(function l_(n){return n&&rc(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(wa(),zb())}(e,t,r).pipe((0,Mr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,pr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function m_(n){return Ro(HI(ph,3))}())):gt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[Jt])return e.redirectTo,Ro(new u.vHH(4e3,ph));i=i.children[Jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Bo(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ar(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Ar(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new rn(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,ph);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class rD{}class oD{constructor(e,t,r,i,a,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=hh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe((0,rt.U)(t=>{if(null===t)return null;const r=new ho([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ze(r,t),a=new hs(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Yl(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Gn.D)(Object.keys(r.children)).pipe(Ls(i=>{const a=r.children[i],c=WI(t,i);return this.processSegmentGroup(e,c,a,i)}),Ka((i,a)=>i&&a?(i.push(...a),i):null),function $m(n,e=!1){return(0,Pr.e)((t,r)=>{let i=0;t.subscribe((0,qn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),cu(null),es(),(0,rt.U)(i=>{if(null===i)return null;const a=oc(i);return function aD(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Gn.D)(t).pipe(Ls(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Po(c=>!!c),Ji(c=>{if(c_(c))return $b(r,i,a)?gt([]):gt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Mu(t,r,i,a))return gt(null);let c;if("**"===t.path){const f=i.length>0?Ul(i).parameters:{},_=Zb(r)+i.length;c=gt({snapshot:new ho(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uD(t),fs(t),t.component??t._loadedComponent??null,t,Wb(r),_,v_(t)),consumedSegments:[],remainingSegments:[]})}else c=f_(r,t,i,e).pipe((0,rt.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:I})=>{if(!f)return null;const S=Zb(r)+_.length;return{snapshot:new ho(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uD(t),fs(t),t.component??t._loadedComponent??null,t,Wb(r),S,v_(t)),consumedSegments:_,remainingSegments:w}}));return c.pipe(gn(f=>{if(null===f)return gt(null);const{snapshot:_,consumedSegments:w,remainingSegments:I}=f;e=t._injector??e;const S=t._loadedInjector??e,P=function lD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:j,slicedSegments:G}=hh(r,w,I,P.filter(Ie=>void 0===Ie.redirectTo));if(0===G.length&&j.hasChildren())return this.processChildren(S,P,j).pipe((0,rt.U)(Ie=>null===Ie?null:[new ze(_,Ie)]));if(0===P.length&&0===G.length)return gt([new ze(_,[])]);const re=fs(t)===a;return this.processSegment(S,P,j,G,re?Jt:a).pipe((0,rt.U)(Ie=>null===Ie?null:[new ze(_,Ie)]))}))}}function cD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oc(n){const e=[],t=new Set;for(const r of n){if(!cD(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=oc(r.children);e.push(new ze(r.value,i))}return e.filter(r=>!t.has(r))}function Wb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Zb(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function uD(n){return n.data||{}}function v_(n){return n.resolve||{}}function Xb(n){return"string"==typeof n.title||null===n.title}function ps(n){return gn(e=>{const t=n(e);return t?(0,Gn.D)(t).pipe((0,rt.U)(()=>e)):gt(e)})}const xu=new u.OlP("ROUTES");let w_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=rr(t.loadComponent()).pipe((0,rt.U)(Jb),(0,pr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),du(()=>{this.componentLoaders.delete(t)})),i=new Yd(r,()=>new Jn.x).pipe(au());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,rt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,I=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=fi(_.get(xu,[],u.XFs.Self|u.XFs.Optional)));return{routes:w.map(i_),injector:_}}),du(()=>{this.childrenLoaders.delete(r)})),c=new Yd(a,()=>new Jn.x).pipe(au());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return rr(t()).pipe((0,rt.U)(Jb),(0,Mr.z)(i=>i instanceof u.YKP||Array.isArray(i)?gt(i):(0,Gn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jb(n){return function pD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Mp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Jn.x,this.configLoader=(0,u.f3M)(w_),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(jl),this.rootContexts=(0,u.f3M)(lh),this.navigationId=0,this.afterPreactivation=()=>gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new gp(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Eu(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new kn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:va,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fr(r=>0!==r.id),(0,rt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),gn(r=>{let i=!1,a=!1;return gt(r).pipe((0,pr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gn(c=>{const f=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new Zr(c.id,t.serializeUrl(r.rawUrl),I,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Fs.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return e0(c.source)&&(t.browserUrlTree=c.extractedUrl),gt(c).pipe(gn(I=>{const S=this.transitions?.getValue();return this.events.next(new Wl(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),S!==this.transitions?.getValue()?Fs.E:Promise.resolve(I)}),function y_(n,e,t,r){return gn(i=>function __(n,e,t,r,i){return new nD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,rt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,pr.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function jO(n,e,t,r,i){return(0,Mr.z)(a=>function sD(n,e,t,r,i,a,c="emptyOnly"){return new oD(n,e,t,r,i,c,a).recognize().pipe(gn(f=>null===f?function iD(n){return new hr.y(e=>e.error(n))}(new rD):gt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,rt.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,pr.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(P,I)}t.browserUrlTree=I.urlAfterRedirects}const S=new oh(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(S)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:S,source:P,restoredState:j,extras:G}=c,re=new Wl(I,this.urlSerializer.serialize(S),P,j);this.events.next(re);const Ie=Pt(S,this.rootComponentType).snapshot;return gt(r={...c,targetSnapshot:Ie,urlAfterRedirects:S,extras:{...G,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new Zr(c.id,t.serializeUrl(r.extractedUrl),I,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Fs.E}}),(0,pr.b)(c=>{const f=new ah(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,rt.U)(c=>r={...c,guards:Fb(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function sc(n,e){return(0,Mr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?gt({...t,guardsResult:!0}):function jb(n,e,t,r){return(0,Gn.D)(n).pipe((0,Mr.z)(i=>function XI(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(f=>{const _=Ip(e)??i,w=Iu(f,_);return rr(function ic(n){return n&&rc(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(Po())})).pipe(wa()):gt(!0)}(i.component,i.route,t,e,r)),Po(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Mr.z)(f=>f&&function ZI(n){return"boolean"==typeof n}(f)?function u_(n,e,t,r){return(0,Gn.D)(e).pipe(Ls(i=>ha(function QI(n,e){return null!==n&&e&&e(new Cu(n)),gt(!0)}(i.route.parent,r),function YI(n,e){return null!==n&&e&&e(new ba(n)),gt(!0)}(i.route,r),function Su(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function VO(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ao(()=>gt(c.guards.map(_=>{const w=Ip(c.node)??t,I=Iu(_,w);return rr(function Vb(n){return n&&rc(n.canActivateChild)}(I)?I.canActivateChild(r,n):w.runInContext(()=>I(r,n))).pipe(Po())})).pipe(wa())));return gt(a).pipe(wa())}(n,i.path,t),function Hb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(a=>ao(()=>{const c=Ip(e)??t,f=Iu(a,c);return rr(function Bb(n){return n&&rc(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Po())}));return gt(i).pipe(wa())}(n,i.route,t))),Po(i=>!0!==i,!0))}(r,a,n,e):gt(f)),(0,rt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),(0,pr.b)(c=>{if(r.guardsResult=c.guardsResult,ts(c.guardsResult))throw jI(0,c.guardsResult);const f=new uo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),fr(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),ps(c=>{if(c.guards.canActivateChecks.length)return gt(c).pipe((0,pr.b)(f=>{const _=new Ja(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),gn(f=>{let _=!1;return gt(f).pipe(function Kb(n,e){return(0,Mr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let a=0;return(0,Gn.D)(i).pipe(Ls(c=>function Yb(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Xb(i)&&(a[lo]=i.title),function dD(n,e,t,r){const i=function Qb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return gt({});const a={};return(0,Gn.D)(i).pipe((0,Mr.z)(c=>function hD(n,e,t,r){const i=Ip(e)??r,a=Iu(n,i);return rr(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Po(),(0,pr.b)(f=>{a[c]=f}))),uu(1),rp(a),Ji(c=>c_(c)?Fs.E:Ro(c)))}(a,n,e,r).pipe((0,rt.U)(c=>(n._resolvedData=c,n.data=Yl(n,t).resolve,i&&Xb(i)&&(n.data[lo]=i.title),null)))}(c.route,r,n,e)),(0,pr.b)(()=>a++),uu(1),(0,Mr.z)(c=>a===i.length?gt(t):Fs.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,pr.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,pr.b)(f=>{const _=new Kl(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),ps(c=>{const f=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,pr.b)(I=>{_.component=I}),(0,rt.U)(()=>{})));for(const I of _.children)w.push(...f(I));return w};return Ns(f(c.targetSnapshot.root)).pipe(cu(),wr(1))}),ps(()=>this.afterPreactivation()),(0,rt.U)(c=>{const f=function vp(n,e,t){const r=ec(n,e._root,t?t._root:void 0);return new Vt(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),(0,pr.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,rt.U)(r=>(new s_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,pr.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ns(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),du(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ji(c=>{if(a=!0,kb(c)){r_(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new Zl(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),r_(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||e0(r.source)};t.scheduleNavigation(_,va,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new wu(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return Fs.E}))}))}cancelNavigationTransition(t,r,i){const a=new Zl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function e0(n){return n!==va}let t0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Jt);return r}getResolvedTitleForRoute(t){return t.data[lo]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(sn)},providedIn:"root"}),n})(),sn=(()=>{class n extends t0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Bm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(s0)},providedIn:"root"}),n})();class r0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let s0=(()=>{class n extends r0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ap=new u.OlP("",{providedIn:"root",factory:()=>({})});let o0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(mD)},providedIn:"root"}),n})(),mD=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _D(n){throw n}function yD(n,e,t){return e.parse("/")}const HO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(Ap,{optional:!0})||{},this.errorHandler=this.options.errorHandler||_D,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||yD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(o0),this.routeReuseStrategy=(0,u.f3M)(n0),this.urlCreationStrategy=(0,u.f3M)(D),this.titleStrategy=(0,u.f3M)(t0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fi((0,u.f3M)(xu,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Mp),this.urlSerializer=(0,u.f3M)(jl),this.location=(0,u.f3M)(Ve),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pt(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),va,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(i_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,w=_?this.currentUrlTree.fragment:c;let I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,I,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ts(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,va,null,r)}navigate(t,r={skipLocationChange:!1}){return function ac(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...HO}:!1===r?{...a0}:r,ts(t))return Jd(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Jd(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,_,w,I;return c?(f=c.resolve,_=c.reject,w=c.promise):w=new Promise((S,P)=>{f=S,_=P}),I="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(S=>Promise.reject(S))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Op=(()=>{class n{constructor(t,r,i,a,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Jn.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof ns&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gi),u.Y36(Nr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Je))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),kp=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,a,c){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof ns&&this.update()})}ngAfterContentInit(){gt(this.links.changes,gt(null)).pipe((0,Vl.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Gn.D)(t).pipe((0,Vl.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function E_(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gi),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Op,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,Op,5),2&t){let a;u.iGM(a=u.CRH())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class l0{}let zO=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(fr(t=>t instanceof ns),Ls(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Gn.D)(i).pipe((0,Vl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):gt(null);const a=i.pipe((0,Mr.z)(c=>null===c?gt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Gn.D)([a,c]).pipe((0,Vl.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(l0),u.LFG(w_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C_=new u.OlP("");let I_=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ns&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _p&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _p(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var js=(()=>((js=js||{})[js.COMPLETE=0]="COMPLETE",js[js.FAILED=1]="FAILED",js[js.REDIRECTING=2]="REDIRECTING",js))();const fo=!1;function po(n,e){return{\u0275kind:n,\u0275providers:e}}const T_=new u.OlP("",{providedIn:"root",factory:()=>!1});function u0(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(gi),i=n.get(d0);1===n.get(S_)&&r.initialNavigation(),n.get(M_,null,u.XFs.Optional)?.setUpPreloading(),n.get(C_,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const d0=new u.OlP(fo?"bootstrap done indicator":"",{factory:()=>new Jn.x}),S_=new u.OlP(fo?"initial navigation":"",{providedIn:"root",factory:()=>1});function f0(){let n=[];return n=fo?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(gi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function y(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],po(1,n)}const M_=new u.OlP(fo?"router preloader":"");function A_(n){return po(0,[{provide:M_,useExisting:zO},{provide:l0,useExisting:n}])}const Rp=!1,x_=new u.OlP(Rp?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),wD=[Ve,{provide:jl,useClass:pa},gi,lh,{provide:Nr,useFactory:function D_(n){return n.routerState.root},deps:[gi]},w_,Rp?{provide:T_,useValue:!0}:[]];function g0(){return new u.PXZ("Router",gi)}let ED=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[wD,Rp&&r?.enableTracing?f0().\u0275providers:[],{provide:xu,multi:!0,useValue:t},{provide:x_,useFactory:O_,deps:[[gi,new u.FiY,new u.tp0]]},{provide:Ap,useValue:r||{}},r?.useHash?{provide:Je,useClass:Re}:{provide:Je,useClass:Ae},{provide:C_,useFactory:()=>{const n=(0,u.f3M)(je),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(Ap),r=(0,u.f3M)(Mp),i=(0,u.f3M)(jl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new I_(i,r,n,e,t)}},r?.preloadingStrategy?A_(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:g0},r?.initialNavigation?yh(r):[],[{provide:Np,useFactory:u0},{provide:u.tb,multi:!0,useExisting:Np}]]}}static forChild(t){return{ngModule:n,providers:[{provide:xu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x_,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ch]}),n})();function O_(n){if(Rp&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yh(n){return["disabled"===n.initialNavigation?po(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(gi);return()=>{e.setUpLocationChangeListener()}}},{provide:S_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?po(2,[{provide:S_,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(ce,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(gi),a=e.get(d0);(function vD(n,e){n.events.pipe(fr(t=>t instanceof ns||t instanceof Zl||t instanceof wu||t instanceof Zr),(0,rt.U)(t=>t instanceof ns||t instanceof Zr?js.COMPLETE:t instanceof Zl&&(0===t.code||1===t.code)?js.REDIRECTING:js.FAILED),fr(t=>t!==js.REDIRECTING),wr(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Mp).afterPreactivation=()=>(r(!0),a.closed?gt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const Np=new u.OlP(Rp?"Router Initializer":"");class lc{constructor(){this.title="ComerciantesR",this.tabIndex=0}}lc.\u0275fac=function(e){return new(e||lc)},lc.\u0275cmp=u.Xpm({type:lc,selectors:[["app-root"]],decls:19,vars:0,consts:[[1,"navbar","fixed-bottom","navbar-expand-lg","navbar-expand-sm","navbar-sm"],[1,"nav","nav-tabs","justify-content-center","flex-nowrap",2,"width","100%"],[1,"nav-item","zoom"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-house-heart-fill","navbar-icon",2,"display","block"],["routerLink","/negocios","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-briefcase","navbar-icon",2,"display","block"],["routerLink","/eventos","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-calendar4-event","navbar-icon",2,"display","block"],["routerLink","/info","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-info-circle",2,"display","block"]],template:function(e,t){1&e&&(u.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),u._UZ(4,"i",4),u._uU(5," Inicio "),u.qZA()(),u.TgZ(6,"li",2)(7,"a",5),u._UZ(8,"i",6),u._uU(9," Negocios "),u.qZA()(),u.TgZ(10,"li",2)(11,"a",7),u._UZ(12,"i",8),u._uU(13," Eventos "),u.qZA()(),u.TgZ(14,"li",2)(15,"a",9),u._UZ(16,"i",10),u._uU(17," Info "),u.qZA()()()(),u._UZ(18,"router-outlet"))},dependencies:[wp,Op,kp],styles:[".nav-link[_ngcontent-%COMP%]{color:#000;font-weight:700;width:auto;height:100%;font-size:small}.nav-link.active[_ngcontent-%COMP%]{color:#f50404a2}.nav-item[_ngcontent-%COMP%]{width:100%;text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#cac5c5d5;padding-top:0%;padding-bottom:0%}.bi.active[_ngcontent-%COMP%]{color:red;margin-right:5%}.navbar-icon[_ngcontent-%COMP%]{display:block;font-size:1rem;margin-bottom:0rem}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 0 7px 7px #2b292c52}"]});class Lp{}class k_{}const zo="*";function vh(n,e=null){return{type:4,styles:e,timings:n}}function R_(n,e=null){return{type:2,steps:n,options:e}}function $o(n){return{type:6,styles:n,offset:null}}function bh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Up(n){Promise.resolve().then(n)}class ku{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Up(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class m0{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Up(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const P_="!";function N_(n){return new u.vHH(3e3,!1)}function C0(){return typeof window<"u"&&typeof window.document<"u"}function H_(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function el(n){switch(n.length){case 0:return new ku;case 1:return n[0];default:return new m0(n)}}function Ru(n,e,t,r,i=new Map,a=new Map){const c=[],f=[];let _=-1,w=null;if(r.forEach(I=>{const S=I.get("offset"),P=S==_,j=P&&w||new Map;I.forEach((G,re)=>{let Ie=re,dt=G;if("offset"!==re)switch(Ie=e.normalizePropertyName(Ie,c),dt){case P_:dt=i.get(re);break;case zo:dt=a.get(re);break;default:dt=e.normalizeStyleValue(re,Ie,dt,c)}j.set(Ie,dt)}),P||f.push(j),w=j,_=S}),c.length)throw function U_(n){return new u.vHH(3502,!1)}();return f}function z_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&I0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&I0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&I0(t,"destroy",n)))}}function I0(n,e,t){const a=$_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function $_(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function gs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function D0(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let G_=(n,e)=>!1,T0=(n,e,t)=>[],S0=null;function q_(n){const e=n.parentNode||n.host;return e===S0?null:e}(H_()||typeof Element<"u")&&(C0()?(S0=(()=>document.documentElement)(),G_=(n,e)=>{for(;e;){if(e===n)return!0;e=q_(e)}return!1}):G_=(n,e)=>n.contains(e),T0=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let cc=null,qp=!1;const M0=G_,A0=T0;let x0=(()=>{class n{validateStyleProperty(t){return function HD(n){cc||(cc=function zD(){return typeof document<"u"?document.body:null}()||{},qp=!!cc.style&&"WebkitAppearance"in cc.style);let e=!0;return cc.style&&!function W_(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in cc.style,!e&&qp&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cc.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return M0(t,r)}getParentElement(t){return q_(t)}query(t,r,i){return A0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new ku(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Wp=(()=>{class n{}return n.NOOP=new x0,n})();const O0=1e3,Zp="ng-enter",Z_="ng-leave",uc="ng-trigger",Kp=".ng-trigger",R0="ng-animating",wh=".ng-animating";function Da(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zs(parseFloat(e[1]),e[2])}function zs(n,e){return"s"===e?n*O0:n}function tl(n,e,t){return n.hasOwnProperty("duration")?n:function Ti(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(N_()),{duration:0,delay:0,easing:""};i=zs(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=zs(parseFloat(_),f[4]));const w=f[5];w&&(c=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function SD(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function MD(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,N_())}return{duration:i,delay:a,easing:c}}(n,e,t)}function go(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Eh(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ms(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function dc(n,e,t){return t?e+":"+t+";":""}function hc(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=dc(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=dc(0,N0(t),n.style[t]));n.setAttribute("style",e)}function Vi(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Qp(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),H_()&&hc(n))}function Gs(n,e){n.style&&(e.forEach((t,r)=>{const i=Qp(r);n.style[i]=""}),H_()&&hc(n))}function qo(n){return Array.isArray(n)?1==n.length?n[0]:R_(n):n}const nl=new RegExp("{{\\s*(.+?)\\s*}}","g");function fc(n){let e=[];if("string"==typeof n){let t;for(;t=nl.exec(n);)e.push(t[1]);nl.lastIndex=0}return e}function Nu(n,e,t){const r=n.toString(),i=r.replace(nl,(a,c)=>{let f=e[c];return null==f&&(t.push(function AD(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function Ch(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const P0=/-+([a-z0-9])/g;function Qp(n){return n.replace(P0,(...e)=>e[1].toUpperCase())}function N0(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function xD(n){return new u.vHH(3004,!1)}()}}function K_(n,e){return window.getComputedStyle(n)[e]}const eg="*";function tg(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ng(n,e,t){if(":"==n[0]){const _=function Y_(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function jp(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function VD(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(ig(i,c));"<"==a[0]&&!(i==eg&&c==eg)&&e.push(ig(c,i))}(r,t,e)):t.push(n),t}const rg=new Set(["true","1"]),Fu=new Set(["false","0"]);function ig(n,e){const t=rg.has(n)||Fu.has(n),r=rg.has(e)||Fu.has(e);return(i,a)=>{let c=n==eg||n==i,f=e==eg||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?rg.has(n):Fu.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?rg.has(e):Fu.has(e)),c&&f}}const j0=new RegExp("s*:selfs*,?","g");function Ih(n,e,t,r){return new H0(n).build(e,t,r)}class H0{constructor(e){this._driver=e}build(e,t,r){const i=new qD(t);return this._resetContextStyleTimingState(i),rs(this,qo(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function kD(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function RD(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{fc(_).forEach(w=>{c.hasOwnProperty(w)||a.add(w)})})}),a.size&&(Ch(a.values()),t.errors.push(function Go(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=rs(this,qo(e.animation),t);return{type:1,matchers:tg(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>rs(this,r,t)),options:rl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=rs(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:rl(e.options)}}visitAnimate(e,t){const r=function G0(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sg(tl(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=sg(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=tl(t,e);return sg(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:$o({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const w={};r.easing&&(w.easing=r.easing),c=$o(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===zo?r.push(f):t.errors.push(new u.vHH(3002,!1)):r.push(Eh(f));let a=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),I=w.get(_);let S=!0;I&&(a!=i&&a>=I.startTime&&i<=I.endTime&&(t.errors.push(function PD(n,e,t,r,i){return new u.vHH(3010,!1)}()),S=!1),a=I.startTime),S&&w.set(_,{startTime:a,endTime:i}),t.options&&function Pu(n,e,t){const r=e.params||{},i=fc(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function F_(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _0(){return new u.vHH(3011,!1)}()),r;let a=0;const c=[];let f=!1,_=!1,w=0;const I=e.steps.map(dt=>{const It=this._makeStyleAst(dt,t);let St=null!=It.offset?It.offset:function $0(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(It.styles),Dt=0;return null!=St&&(a++,Dt=It.offset=St),_=_||Dt<0||Dt>1,f=f||Dt<w,w=Dt,c.push(Dt),It});_&&t.errors.push(function ND(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function FD(){return new u.vHH(3200,!1)}());const S=e.steps.length;let P=0;a>0&&a<S?t.errors.push(function LD(){return new u.vHH(3202,!1)}()):0==a&&(P=1/(S-1));const j=S-1,G=t.currentTime,re=t.currentAnimateTimings,Ie=re.duration;return I.forEach((dt,It)=>{const St=P>0?It==j?1:P*It:c[It],Dt=St*Ie;t.currentTime=G+re.delay+Dt,re.duration=Dt,this._validateStyleAst(dt,t),dt.offset=St,r.styles.push(dt)}),r}visitReference(e,t){return{type:8,animation:rs(this,qo(e.animation),t),options:rl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function J_(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(j0,"")),n=n.replace(/@\*/g,Kp).replace(/@\w+/g,t=>Kp+"-"+t.slice(1)).replace(/:animating/g,wh),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,gs(t.collectedStyles,t.currentQuerySelector,new Map);const f=rs(this,qo(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:rl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function B_(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:tl(e.timings,t.errors,!0);return{type:12,animation:rs(this,qo(e.animation),t),timings:r,options:null}}}class qD{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rl(n){return n?(n=go(n)).params&&(n.params=function z0(n){return n?go(n):null}(n.params)):n={},n}function sg(n,e,t){return{duration:n,delay:e,easing:t}}function ey(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class Dh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const og=new RegExp(":enter","g"),Z0=new RegExp(":leave","g");function ag(n,e,t,r,i,a=new Map,c=new Map,f,_,w=[]){return(new K0).buildKeyframes(n,e,t,r,i,a,c,f,_,w)}class K0{buildKeyframes(e,t,r,i,a,c,f,_,w,I=[]){w=w||new Dh;const S=new lg(e,t,w,i,a,I,[]);S.options=_;const P=_.delay?Da(_.delay):0;S.currentTimeline.delayNextStep(P),S.currentTimeline.setStyles([c],null,S.errors,_),rs(this,r,S);const j=S.timelines.filter(G=>G.containsAnimation());if(j.length&&f.size){let G;for(let re=j.length-1;re>=0;re--){const Ie=j[re];if(Ie.element===t){G=Ie;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([f],null,S.errors,_)}return j.length?j.map(G=>G.buildKeyframes()):[ey(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const c="number"==typeof a?a:Da(Nu(a,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?Da(r.duration):null,f=null!=r.delay?Da(r.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),rs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Th);const c=Da(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>rs(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Da(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),rs(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return tl(t.params?Nu(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Da(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Th);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const S=t.createSubContext(e.options,w);a&&S.delayNextStep(a),w===t.element&&(_=S.currentTimeline),rs(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const S=I.currentTime;rs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const Th={};class lg{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Th,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Sh(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Da(r.duration)),null!=r.delay&&(i.delay=Da(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=Nu(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new lg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Th,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new Y0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(og,"."+this._enterClassName)).replace(Z0,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&c.push(function BD(n){return new u.vHH(3014,!1)}()),f}}class Sh{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Sh(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||zo),this._currentKeyframe.set(t,zo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},c=function il(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,zo)}else ms(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const w=Nu(_,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??zo),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=ms(f,new Map,this._backFill);w.forEach((I,S)=>{I===P_?e.add(S):I===zo&&t.add(S)}),r||w.set("offset",_/this.duration),i.push(w)});const a=e.size?Ch(e.values()):[],c=t.size?Ch(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return ey(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class Y0 extends Sh{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=ms(e[0]);_.set("offset",0),a.push(_);const w=ms(e[0]);w.set("offset",Mh(f)),a.push(w);const I=e.length-1;for(let S=1;S<=I;S++){let P=ms(e[S]);const j=P.get("offset");P.set("offset",Mh((t+j*r)/c)),a.push(P)}r=c,t=0,i="",e=a}return ey(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Mh(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ny{}const pc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ry extends ny{normalizePropertyName(e,t){return Qp(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(pc.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function OD(n,e){return new u.vHH(3005,!1)}())}return c+a}}function X0(n,e,t,r,i,a,c,f,_,w,I,S,P){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:S,errors:P}}const Ah={};class WD{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function ZD(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,c,f,_,w,I){const S=[],P=this.ast.options&&this.ast.options.params||Ah,G=this.buildStyles(r,f&&f.params||Ah,S),re=_&&_.params||Ah,Ie=this.buildStyles(i,re,S),dt=new Set,It=new Map,St=new Map,Dt="void"===i,zt={params:KD(re,P),delay:this.ast.options?.delay},Zt=I?[]:ag(e,t,this.ast.animation,a,c,G,Ie,zt,w,S);let Tn=0;if(Zt.forEach(kc=>{Tn=Math.max(kc.duration+kc.delay,Tn)}),S.length)return X0(t,this._triggerName,r,i,Dt,G,Ie,[],[],It,St,Tn,S);Zt.forEach(kc=>{const Rc=kc.element,HB=gs(It,Rc,new Set);kc.preStyleProps.forEach(Mf=>HB.add(Mf));const _b=gs(St,Rc,new Set);kc.postStyleProps.forEach(Mf=>_b.add(Mf)),Rc!==t&&dt.add(Rc)});const Cs=Ch(dt.values());return X0(t,this._triggerName,r,i,Dt,G,Ie,Zt,Cs,It,St,Tn)}}function KD(n,e){const t=go(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class J0{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=go(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=Nu(c,i,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),r.set(f,c)})}),r}}class Kr{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new J0(i.style,i.options&&i.options.params||{},r))}),tw(this.states,"true","1"),tw(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new WD(e,i,this.states))}),this.fallbackTransition=function ew(n,e,t){return new WD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function tw(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const QD=new Dh;class nw{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=Ih(this._driver,t,r,i);if(r.length)throw function ek(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=Ru(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=ag(this._driver,t,a,Zp,Z_,new Map,new Map,r,QD,i),c.forEach(I=>{const S=gs(f,I.element,new Map);I.postStyleProps.forEach(P=>S.set(P,null))})):(i.push(function y0(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function v0(n){return new u.vHH(3504,!1)}();f.forEach((I,S)=>{I.forEach((P,j)=>{I.set(j,this._driver.computeStyle(S,j,zo))})});const w=el(c.map(I=>{const S=f.get(I.element);return this._buildPlayer(I,new Map,S)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function b0(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=$_(t,"","","");return z_(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const rw="ng-animate-queued",cg="ng-animate-disabled",sw=[],ow={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mo="__ng_removed";class ug{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function yo(n){return n??null}(r?e.value:e),r){const a=go(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const gc="void",qs=new ug(gc);class eT{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function w0(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function j_(n){return new u.vHH(3303,!1)}();if(!function lw(n){return"start"==n||"done"==n}(r))throw function Ia(n,e){return new u.vHH(3400,!1)}();const a=gs(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=gs(this._engine.statesByElement,e,new Map);return f.has(t)||(Zs(e,uc),Zs(e,uc+"-"+t),f.set(t,qs)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function zp(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new Ws(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Zs(e,uc),Zs(e,uc+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new ug(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=qs),w.value!==gc&&_.value===w.value){if(!function rT(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const re=[],Ie=a.matchStyles(_.value,_.params,re),dt=a.matchStyles(w.value,w.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{Gs(e,Ie),Vi(e,dt)})}return}const P=gs(this._engine.playersByElement,e,[]);P.forEach(re=>{re.namespaceId==this.id&&re.triggerName==t&&re.queued&&re.destroy()});let j=a.matchTransition(_.value,w.value,e,w.params),G=!1;if(!j){if(!i)return;j=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:_,toState:w,player:c,isFallbackTransition:G}),G||(Zs(e,rw),c.onStart(()=>{sl(e,rw)})),c.onDone(()=>{let re=this.players.indexOf(c);re>=0&&this.players.splice(re,1);const Ie=this._engine.playersByElement.get(e);if(Ie){let dt=Ie.indexOf(c);dt>=0&&Ie.splice(dt,1)}}),this.players.push(c),P.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Kp,!0);r.forEach(i=>{if(i[mo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(c.set(w,_.value),this._triggers.has(w)){const I=this.trigger(e,w,gc,i);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&el(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,w=r.get(c)||qs,I=new ug(gc),S=new Ws(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:I,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[mo];(!a||a===ow)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Zs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=$_(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,z_(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class tT{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new eT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(xh(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!xh(t))return;const a=t[mo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zs(e,cg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sl(e,cg))}removeNode(e,t,r,i){if(xh(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[mo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return xh(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Kp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wh,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return el(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[mo];if(t&&t.setForRemoval){if(e[mo]=ow,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(cg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?el(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function $p(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Dh,i=[],a=new Map,c=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(kt=>{I.add(kt);const $t=this.driver.query(kt,".ng-animate-queued",!0);for(let Xt=0;Xt<$t.length;Xt++)I.add($t[Xt])});const S=this.bodyNode,P=Array.from(this.statesByElement.keys()),j=dw(P,this.collectedEnterElements),G=new Map;let re=0;j.forEach((kt,$t)=>{const Xt=Zp+re++;G.set($t,Xt),kt.forEach(Rn=>Zs(Rn,Xt))});const Ie=[],dt=new Set,It=new Set;for(let kt=0;kt<this.collectedLeaveElements.length;kt++){const $t=this.collectedLeaveElements[kt],Xt=$t[mo];Xt&&Xt.setForRemoval&&(Ie.push($t),dt.add($t),Xt.hasAnimation?this.driver.query($t,".ng-star-inserted",!0).forEach(Rn=>dt.add(Rn)):It.add($t))}const St=new Map,Dt=dw(P,Array.from(dt));Dt.forEach((kt,$t)=>{const Xt=Z_+re++;St.set($t,Xt),kt.forEach(Rn=>Zs(Rn,Xt))}),e.push(()=>{j.forEach((kt,$t)=>{const Xt=G.get($t);kt.forEach(Rn=>sl(Rn,Xt))}),Dt.forEach((kt,$t)=>{const Xt=St.get($t);kt.forEach(Rn=>sl(Rn,Xt))}),Ie.forEach(kt=>{this.processLeaveNode(kt)})});const zt=[],Zt=[];for(let kt=this._namespaceList.length-1;kt>=0;kt--)this._namespaceList[kt].drainQueuedTransitions(t).forEach(Xt=>{const Rn=Xt.player,Ri=Xt.element;if(zt.push(Rn),this.collectedEnterElements.length){const as=Ri[mo];if(as&&as.setForMove){if(as.previousTriggersValues&&as.previousTriggersValues.has(Xt.triggerName)){const Af=as.previousTriggersValues.get(Xt.triggerName),Xo=this.statesByElement.get(Xt.element);if(Xo&&Xo.has(Xt.triggerName)){const FI=Xo.get(Xt.triggerName);FI.value=Af,Xo.set(Xt.triggerName,FI)}}return void Rn.destroy()}}const _l=!S||!this.driver.containsElement(S,Ri),Io=St.get(Ri),bd=G.get(Ri),Or=this._buildInstruction(Xt,r,bd,Io,_l);if(Or.errors&&Or.errors.length)return void Zt.push(Or);if(_l)return Rn.onStart(()=>Gs(Ri,Or.fromStyles)),Rn.onDestroy(()=>Vi(Ri,Or.toStyles)),void i.push(Rn);if(Xt.isFallbackTransition)return Rn.onStart(()=>Gs(Ri,Or.fromStyles)),Rn.onDestroy(()=>Vi(Ri,Or.toStyles)),void i.push(Rn);const GB=[];Or.timelines.forEach(as=>{as.stretchStartingKeyframe=!0,this.disabledNodes.has(as.element)||GB.push(as)}),Or.timelines=GB,r.append(Ri,Or.timelines),c.push({instruction:Or,player:Rn,element:Ri}),Or.queriedElements.forEach(as=>gs(f,as,[]).push(Rn)),Or.preStyleProps.forEach((as,Af)=>{if(as.size){let Xo=_.get(Af);Xo||_.set(Af,Xo=new Set),as.forEach((FI,FO)=>Xo.add(FO))}}),Or.postStyleProps.forEach((as,Af)=>{let Xo=w.get(Af);Xo||w.set(Af,Xo=new Set),as.forEach((FI,FO)=>Xo.add(FO))})});if(Zt.length){const kt=[];Zt.forEach($t=>{kt.push(function UD(n,e){return new u.vHH(3505,!1)}())}),zt.forEach($t=>$t.destroy()),this.reportError(kt)}const Tn=new Map,Cs=new Map;c.forEach(kt=>{const $t=kt.element;r.has($t)&&(Cs.set($t,$t),this._beforeAnimationBuild(kt.player.namespaceId,kt.instruction,Tn))}),i.forEach(kt=>{const $t=kt.element;this._getPreviousPlayers($t,!1,kt.namespaceId,kt.triggerName,null).forEach(Rn=>{gs(Tn,$t,[]).push(Rn),Rn.destroy()})});const kc=Ie.filter(kt=>sy(kt,_,w)),Rc=new Map;uw(Rc,this.driver,It,w,zo).forEach(kt=>{sy(kt,_,w)&&kc.push(kt)});const _b=new Map;j.forEach((kt,$t)=>{uw(_b,this.driver,new Set(kt),_,P_)}),kc.forEach(kt=>{const $t=Rc.get(kt),Xt=_b.get(kt);Rc.set(kt,new Map([...Array.from($t?.entries()??[]),...Array.from(Xt?.entries()??[])]))});const Mf=[],zB=[],$B={};c.forEach(kt=>{const{element:$t,player:Xt,instruction:Rn}=kt;if(r.has($t)){if(I.has($t))return Xt.onDestroy(()=>Vi($t,Rn.toStyles)),Xt.disabled=!0,Xt.overrideTotalTime(Rn.totalTime),void i.push(Xt);let Ri=$B;if(Cs.size>1){let Io=$t;const bd=[];for(;Io=Io.parentNode;){const Or=Cs.get(Io);if(Or){Ri=Or;break}bd.push(Io)}bd.forEach(Or=>Cs.set(Or,Ri))}const _l=this._buildAnimation(Xt.namespaceId,Rn,Tn,a,_b,Rc);if(Xt.setRealPlayer(_l),Ri===$B)Mf.push(Xt);else{const Io=this.playersByElement.get(Ri);Io&&Io.length&&(Xt.parentPlayer=el(Io)),i.push(Xt)}}else Gs($t,Rn.fromStyles),Xt.onDestroy(()=>Vi($t,Rn.toStyles)),zB.push(Xt),I.has($t)&&i.push(Xt)}),zB.forEach(kt=>{const $t=a.get(kt.element);if($t&&$t.length){const Xt=el($t);kt.setRealPlayer(Xt)}}),i.forEach(kt=>{kt.parentPlayer?kt.syncPlayerEvents(kt.parentPlayer):kt.destroy()});for(let kt=0;kt<Ie.length;kt++){const $t=Ie[kt],Xt=$t[mo];if(sl($t,Z_),Xt&&Xt.hasAnimation)continue;let Rn=[];if(f.size){let _l=f.get($t);_l&&_l.length&&Rn.push(..._l);let Io=this.driver.query($t,wh,!0);for(let bd=0;bd<Io.length;bd++){let Or=f.get(Io[bd]);Or&&Or.length&&Rn.push(...Or)}}const Ri=Rn.filter(_l=>!_l.destroyed);Ri.length?Oh(this,$t,Ri):this.processLeaveNode($t)}return Ie.length=0,Mf.forEach(kt=>{this.players.push(kt),kt.onDone(()=>{kt.destroy();const $t=this.players.indexOf(kt);this.players.splice($t,1)}),kt.play()}),Mf}elementContainsData(e,t){let r=!1;const i=t[mo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==gc;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||c.push(w)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,S=gs(r,w,[]);this._getPreviousPlayers(w,I,c,f,t.toState).forEach(j=>{const G=j.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),j.destroy(),S.push(j)})}Gs(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,w=[],I=new Set,S=new Set,P=t.timelines.map(G=>{const re=G.element;I.add(re);const Ie=re[mo];if(Ie&&Ie.removedBeforeQueried)return new ku(G.duration,G.delay);const dt=re!==_,It=function nT(n){const e=[];return iy(n,e),e}((r.get(re)||sw).map(Tn=>Tn.getRealPlayer())).filter(Tn=>!!Tn.element&&Tn.element===re),St=a.get(re),Dt=c.get(re),zt=Ru(0,this._normalizer,0,G.keyframes,St,Dt),Zt=this._buildPlayer(G,zt,It);if(G.subTimeline&&i&&S.add(re),dt){const Tn=new Ws(e,f,re);Tn.setRealPlayer(Zt),w.push(Tn)}return Zt});w.forEach(G=>{gs(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function _o(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,G.element,G))}),I.forEach(G=>Zs(G,R0));const j=el(P);return j.onDestroy(()=>{I.forEach(G=>sl(G,R0)),Vi(_,t.toStyles)}),S.forEach(G=>{gs(i,G,[]).push(j)}),j}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ku(e.duration,e.delay)}}class Ws{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ku,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>z_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){gs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xh(n){return n&&1===n.nodeType}function cw(n,e){const t=n.style.display;return n.style.display=e??"none",t}function uw(n,e,t,r,i){const a=[];t.forEach(_=>a.push(cw(_)));const c=[];r.forEach((_,w)=>{const I=new Map;_.forEach(S=>{const P=e.computeStyle(w,S,i);I.set(S,P),(!P||0==P.length)&&(w[mo]=aw,c.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>cw(_,a[f++])),c}function dw(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function c(f){if(!f)return r;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?r:c(w),a.set(f,_),_}return e.forEach(f=>{const _=c(f);_!==r&&t.get(_).push(f)}),t}function Zs(n,e){n.classList?.add(e)}function sl(n,e){n.classList?.remove(e)}function Oh(n,e,t){el(t).onDone(()=>n.processLeaveNode(e))}function iy(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof m0?iy(r.players,e):e.push(r)}}function sy(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class kh{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new tT(e,t,r),this._timelineEngine=new nw(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],w=[],I=Ih(this._driver,a,_,w);if(_.length)throw function JO(n,e){return new u.vHH(3404,!1)}();f=function YD(n,e,t){return new Kr(n,e,t)}(i,I,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=D0(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=D0(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let iT=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Vi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vi(this._element,this._initialStyles),this._endStyles&&(Vi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gs(this._element,this._endStyles),this._endStyles=null),Vi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function hg(n){let e=null;return n.forEach((t,r)=>{(function hw(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class fg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:K_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class pg{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return M0(e,t)}getParentElement(e){return q_(e)}query(e,t,r){return A0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w=new Map,I=c.filter(j=>j instanceof fg);(function F0(n,e){return 0===n||0===e})(r,i)&&I.forEach(j=>{j.currentSnapshot.forEach((G,re)=>w.set(re,G))});let S=function $s(n){return n.length?n[0]instanceof Map?n:n.map(e=>Eh(e)):[]}(t).map(j=>ms(j));S=function L0(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(f=>c.set(f,K_(n,f)))}}return e}(e,S,w);const P=function dg(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=hg(e[0]),e.length>1&&(r=hg(e[e.length-1]))):e instanceof Map&&(t=hg(e)),t||r?new iT(n,t,r):null}(e,S);return new fg(e,S,_,P)}}let fw=(()=>{class n extends Lp{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?R_(t):t;return oy(this._renderer,null,r,"register",[i]),new pw(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class pw extends k_{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new gw(this._id,e,t||{},this._renderer)}}class gw{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return oy(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oy(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const ay="@.disabled";let mw=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new ly("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(c,f,t,I.name,I)};return r.data.animation.forEach(_),new sT(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(kh),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ly{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==ay?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class sT extends ly{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ay?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function oT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function aT(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let lT=(()=>{class n extends kh{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(Wp),u.LFG(ny),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const _w=[{provide:Lp,useClass:fw},{provide:ny,useFactory:function cT(){return new ry}},{provide:kh,useClass:lT},{provide:u.FYo,useFactory:function uT(n,e,t){return new mw(n,e,t)},deps:[Ii,kh,u.R0b]}],cy=[{provide:Wp,useFactory:()=>new pg},{provide:u.QbO,useValue:"BrowserAnimations"},..._w],yw=[{provide:Wp,useClass:x0},{provide:u.QbO,useValue:"NoopAnimations"},..._w];let dT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?yw:cy}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:cy,imports:[la]}),n})();let bw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),mc=(()=>{class n extends bw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Wo=new u.OlP("NgValueAccessor"),ww={provide:Wo,useExisting:(0,u.Gpc)(()=>Bu),multi:!0},Cw=new u.OlP("CompositionEventMode");let Bu=(()=>{class n extends bw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ew(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Cw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([ww]),u.qOj]}),n})();const Iw=!1,mi=new u.OlP("NgValidators"),Sa=new u.OlP("NgAsyncValidators");function Ut(n){return null!=n}function Mw(n){const e=(0,u.QGY)(n)?(0,Gn.D)(n):n;if(Iw&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function Aw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function xw(n,e){return e.map(t=>t(n))}function Ow(n){return n.map(e=>function Uu(n){return!n.validate}(e)?e:t=>e.validate(t))}function ju(n){return null!=n?function Ph(n){if(!n)return null;const e=n.filter(Ut);return 0==e.length?null:function(t){return Aw(xw(t,e))}}(Ow(n)):null}function gr(n){if(!n)return null;const e=n.filter(Ut);return 0==e.length?null:function(t){return function vw(...n){const e=(0,ko.jO)(n),{args:t,keys:r}=Qf(n),i=new hr.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,w=c;for(let I=0;I<c;I++){let S=!1;(0,oo.Xf)(t[I]).subscribe((0,qn.x)(a,P=>{S||(S=!0,w--),f[I]=P},()=>_--,void 0,()=>{(!_||!S)&&(w||a.next(r?Ps(r,f):f),a.complete())}))}});return e?i.pipe(Bl(e)):i}(xw(t,e).map(Mw)).pipe((0,rt.U)(Aw))}}function kw(n){return null!=n?gr(Ow(n)):null}function gy(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mg(n){return n?Array.isArray(n)?n:[n]:[]}function Nh(n,e){return Array.isArray(n)?n.includes(e):n===e}function _y(n,e){const t=mg(e);return mg(n).forEach(i=>{Nh(t,i)||t.push(i)}),t}function yy(n,e){return mg(e).filter(t=>!Nh(n,t))}class Pw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ju(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ui extends Pw{get formDirective(){return null}get path(){return null}}class ol extends Pw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hu{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vy=(()=>{class n extends Hu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ol,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})();const bg="VALID",Ey="INVALID",yc="PENDING",al="DISABLED";function Eg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Vw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bg}get invalid(){return this.status===Ey}get pending(){return this.status==yc}get disabled(){return this.status===al}get enabled(){return this.status!==al}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_y(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_y(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yy(e,this._rawAsyncValidators))}hasValidator(e){return Nh(this._rawValidators,e)}hasAsyncValidator(e){return Nh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=al,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bg||this.status===yc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?al:bg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yc,this._hasOwnPendingAsyncValidator=!0;const t=Mw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?al:this.errors?Ey:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yc)?yc:this._anyControlsHaveStatus(Ey)?Ey:bg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Eg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wT(n){return Array.isArray(n)?ju(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Bh(n){return Array.isArray(n)?kw(n):n||null}(this._rawAsyncValidators)}}const Zo=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Cg}),Cg="always";function Uh(n,e,t=Cg){(function Iy(n,e){const t=function my(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(gy(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Rw(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(gy(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ig(e._rawValidators,i),Ig(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function IT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Dy(n,e)})}(n,e),function DT(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Hw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Dy(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function jw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ig(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Dy(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ww(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ay(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zw=class extends Vw{constructor(e=null,t,r){super(function Cy(n){return(Eg(n)?n.validators:n)||null}(t),function wg(n,e){return(Eg(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ay(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ww(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ww(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ay(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},RT={provide:ol,useExisting:(0,u.Gpc)(()=>Ma)},xy=(()=>Promise.resolve())();let Gh,Ma=(()=>{class n extends ol{constructor(t,r,i,a,c,f){super(),this._changeDetectorRef=c,this.callSetDisabledState=f,this.control=new Zw,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Sy(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Bu?t=a:function MT(n){return Object.getPrototypeOf(n.constructor)===mc}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Ty(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Uh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xy.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);xy.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Vh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ui,9),u.Y36(mi,10),u.Y36(Sa,10),u.Y36(Wo,10),u.Y36(u.sBO,8),u.Y36(Zo,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([RT]),u.qOj,u.TTD]}),n})(),eE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),jy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eE]}),n})(),bE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zo,useValue:t.callSetDisabledState??Cg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jy]}),n})();try{Gh=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Gh=!1}let bc,$y=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?F(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Gh)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qh(n){return function ZT(){if(null==bc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bc=!0}))}finally{bc=bc||!1}return bc}()?n:!!n.capture}let NS=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[NS]}),n})();function VS(n){return Array.isArray(n)?n:[n]}function Ky(n){return n instanceof u.SBq?n.nativeElement:n}var Zh=O(4986),qu=O(5032);function Er(n){return(0,Pr.e)((e,t)=>{(0,oo.Xf)(n).subscribe((0,qn.x)(t,()=>t.complete(),qu.Z)),!t.closed&&e.subscribe(t)})}const UE=new Set;let Wu,gR=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_R}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function mR(n){if(!UE.has(n))try{Wu||(Wu=document.createElement("style"),Wu.setAttribute("type","text/css"),document.head.appendChild(Wu)),Wu.sheet&&(Wu.sheet.insertRule(`@media ${n} {body{ }}`,0),UE.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($y))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _R(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let jE=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Jn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return HE(VS(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Ns(HE(VS(t)).map(c=>this._registerQuery(c).observable));return a=ha(a.pipe(wr(1)),a.pipe(function BE(n){return fr((e,t)=>n<=t)}(1),function VE(n,e=Zh.z){return(0,Pr.e)((t,r)=>{let i=null,a=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function _(){const w=c+n,I=e.now();if(I<w)return i=this.schedule(void 0,w-I),void r.add(i);f()}t.subscribe((0,qn.x)(r,w=>{a=w,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe((0,rt.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new hr.y(c=>{const f=_=>this._zone.run(()=>c.next(_));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(lu(r),(0,rt.U)(({matches:c})=>({query:t,matches:c})),Er(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gR),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HE(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const YS="cdk-high-contrast-black-on-white",QS="cdk-high-contrast-white-on-black",YE="cdk-high-contrast-active";let XS=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(jE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(YE,YS,QS),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(YE,YS):2===r&&t.add(YE,QS)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($y),u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(XS))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[LS]}),n})(),E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const ar=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function tn(){return!0}});let Hn=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function IE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(XS),u.LFG(ar,8),u.LFG(J))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[E,E]}),n})();class LV{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const VR=qh({passive:!0,capture:!0});class BV{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function JT(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const c=a.get(r);c?c.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,VR)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);a&&(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,VR)))}}const UR={enterDuration:225,exitDuration:150},jR=qh({passive:!0,capture:!0}),HR=["mousedown","touchstart"],zR=["mouseup","mouseleave","touchend","touchcancel"];class QE{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ky(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...UR,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function UV(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-c+"px",I.style.top=_-c+"px",I.style.height=2*c+"px",I.style.width=2*c+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I);const S=window.getComputedStyle(I),j=S.transitionDuration,G="none"===S.transitionProperty||"0s"===j||"0s, 0s"===j||0===i.width&&0===i.height,re=new LV(this,I,r,G);I.style.transform="scale3d(1, 1, 1)",re.state=0,r.persistent||(this._mostRecentTransientRipple=re);let Ie=null;return!G&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const dt=()=>this._finishRippleTransition(re),It=()=>this._destroyRipple(re);I.addEventListener("transitionend",dt),I.addEventListener("transitioncancel",It),Ie={onTransitionEnd:dt,onTransitionCancel:It}}),this._activeRipples.set(re,Ie),(G||!w)&&this._finishRippleTransition(re),re}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...UR,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ky(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,HR.forEach(r=>{QE._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{zR.forEach(t=>{this._triggerElement.addEventListener(t,this,jR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function KE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function Qy(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(HR.forEach(t=>QE._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&zR.forEach(t=>e.removeEventListener(t,this,jR)))}}QE._eventManager=new BV;let jV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Hn,Hn]}),n})(),c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Hn,wl,Hn]}),n})(),f2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[wl,Hn,f2,jV,LS,s,Hn]}),n})();const Fg=function Bp(n,e){return{type:7,name:n,definitions:e,options:{}}}("fade",[bh(":enter",[$o({opacity:0}),vh("800ms",$o({opacity:1}))]),bh(":leave",[vh("800ms",$o({opacity:1}))])]);var Si=O(2432);function eM(){return(0,Pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,qn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function w2(n,e){return n===e}var Ft,ji=O(2011),E2=(O(4217),O(3942)),Te=O(5861),Kh=O(9681),XE=O(4859),Ku=O(1877),Bn=O(2090),C2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cc={},tM=tM||{},ln=C2||self;function JE(){}function eC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Jy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nM="closure_uid_"+(1e9*Math.random()>>>0),D2=0;function T2(n,e,t){return n.call.apply(n.bind,arguments)}function S2(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ss(n,e,t){return(ss=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T2:S2).apply(null,arguments)}function tC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Yu(){this.s=this.s,this.o=this.o}Yu.prototype.s=!1,Yu.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function I2(n){Object.prototype.hasOwnProperty.call(n,nM)&&n[nM]||(n[nM]=++D2)}(this)},Yu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GR=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qR(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(eC(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function os(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}os.prototype.h=function(){this.defaultPrevented=!0};var A2=function(){if(!ln.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ln.addEventListener("test",JE,e),ln.removeEventListener("test",JE,e)}catch{}return n}();function nC(n){return/^[\s\xa0]*$/.test(n)}var WR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function iM(n,e){return n<e?-1:n>e?1:0}function rC(){var n=ln.navigator;return n&&(n=n.userAgent)?n:""}function ul(n){return-1!=rC().indexOf(n)}function sM(n){return sM[" "](n),n}sM[" "]=JE;var iC,n,O2=ul("Opera"),Lg=ul("Trident")||ul("MSIE"),ZR=ul("Edge"),oM=ZR||Lg,KR=ul("Gecko")&&!(-1!=rC().toLowerCase().indexOf("webkit")&&!ul("Edge"))&&!(ul("Trident")||ul("MSIE"))&&!ul("Edge"),k2=-1!=rC().toLowerCase().indexOf("webkit")&&!ul("Edge");function YR(){var n=ln.document;return n?n.documentMode:void 0}e:{var aM="",lM=(n=rC(),KR?/rv:([^\);]+)(\)|;)/.exec(n):ZR?/Edge\/([\d\.]+)/.exec(n):Lg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):k2?/WebKit\/(\S+)/.exec(n):O2?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(lM&&(aM=lM?lM[1]:""),Lg){var cM=YR();if(null!=cM&&cM>parseFloat(aM)){iC=String(cM);break e}}iC=aM}var R2={};var N2=ln.document&&Lg&&(YR()||parseInt(iC,10))||void 0;function ev(n,e){if(os.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(KR){e:{try{sM(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:F2[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ev.X.h.call(this)}}Hi(ev,os);var F2={2:"touch",3:"pen",4:"mouse"};ev.prototype.h=function(){ev.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tv="closure_listenable_"+(1e6*Math.random()|0),L2=0;function B2(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++L2,this.ba=this.ea=!1}function sC(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function dM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function XR(n){const e={};for(const t in n)e[t]=n[t];return e}const JR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<JR.length;a++)t=JR[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function oC(n){this.src=n,this.g={},this.h=0}function hM(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=GR(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(sC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fM(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}oC.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=fM(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new B2(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var pM="closure_lm_"+(1e6*Math.random()|0),gM={};function tP(n,e,t,r,i){if(r&&r.once)return rP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)tP(n,e[a],t,r,i);return null}return t=vM(t),n&&n[tv]?n.N(e,t,Jy(r)?!!r.capture:!!r,i):nP(n,e,t,!1,r,i)}function nP(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Jy(i)?!!i.capture:!!i,f=_M(n);if(f||(n[pM]=f=new oC(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function V2(){const e=U2;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)A2||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(sP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)rP(n,e[a],t,r,i);return null}return t=vM(t),n&&n[tv]?n.O(e,t,Jy(r)?!!r.capture:!!r,i):nP(n,e,t,!0,r,i)}function iP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)iP(n,e[a],t,r,i);else r=Jy(r)?!!r.capture:!!r,t=vM(t),n&&n[tv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fM(a=n.g[e],t,r,i))&&(sC(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=_M(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fM(e,t,r,i)),(t=-1<n?e[n]:null)&&mM(t))}function mM(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[tv])hM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(sP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_M(e))?(hM(t,n),0==t.h&&(t.src=null,e[pM]=null)):sC(n)}}}function sP(n){return n in gM?gM[n]:gM[n]="on"+n}function U2(n,e){if(n.ba)n=!0;else{e=new ev(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&mM(n),n=t.call(r,e)}return n}function _M(n){return(n=n[pM])instanceof oC?n:null}var yM="__closure_events_fn_"+(1e9*Math.random()>>>0);function vM(n){return"function"==typeof n?n:(n[yM]||(n[yM]=function(e){return n.handleEvent(e)}),n[yM])}function Mi(){Yu.call(this),this.i=new oC(this),this.P=this,this.I=null}function zi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new os(e,n);else if(e instanceof os)e.target=e.target||n;else{var i=e;eP(e=new os(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=aC(c,r,!0,e)&&i}if(i=aC(c=e.g=n,r,!0,e)&&i,i=aC(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=aC(c=e.g=t[a],r,!1,e)&&i}function aC(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,_=c.ha||c.src;c.ea&&hM(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Hi(Mi,Yu),Mi.prototype[tv]=!0,Mi.prototype.removeEventListener=function(n,e,t,r){iP(this,n,e,t,r)},Mi.prototype.M=function(){if(Mi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sC(t[r]);delete n.g[e],n.h--}}this.I=null},Mi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Mi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var bM=ln.JSON.stringify;function j2(){var n=lP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wM,oP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new z2,n=>n.reset());class z2{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $2(n){ln.setTimeout(()=>{throw n},0)}function aP(n,e){wM||function G2(){var n=ln.Promise.resolve(void 0);wM=function(){n.then(q2)}}(),EM||(wM(),EM=!0),lP.add(n,e)}var EM=!1,lP=new class H2{constructor(){this.h=this.g=null}add(e,t){const r=oP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function q2(){for(var n;n=j2();){try{n.h.call(n.g)}catch(t){$2(t)}var e=oP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}EM=!1}function lC(n,e){Mi.call(this),this.h=n||1,this.g=e||ln,this.j=ss(this.lb,this),this.l=Date.now()}function CM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function IM(n,e,t){if("function"==typeof n)t&&(n=ss(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ss(n.handleEvent,n)}return 2147483647<Number(e)?-1:ln.setTimeout(n,e||0)}function cP(n){n.g=IM(()=>{n.g=null,n.i&&(n.i=!1,cP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hi(lC,Mi),(Ft=lC.prototype).ca=!1,Ft.R=null,Ft.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),zi(this,"tick"),this.ca&&(CM(this),this.start()))}},Ft.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ft.M=function(){lC.X.M.call(this),CM(this),delete this.g};class W2 extends Yu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cP(this)}M(){super.M(),this.g&&(ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nv(n){Yu.call(this),this.h=n,this.g={}}Hi(nv,Yu);var uP=[];function dP(n,e,t,r){Array.isArray(t)||(t&&(uP[0]=t.toString()),t=uP);for(var i=0;i<t.length;i++){var a=tP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function hP(n){dM(n.g,function(e,t){this.g.hasOwnProperty(t)&&mM(e)},n),n.g={}}function cC(){this.g=!0}function Bg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Q2(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return bM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}nv.prototype.M=function(){nv.X.M.call(this),hP(this)},nv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cC.prototype.Aa=function(){this.g=!1},cC.prototype.info=function(){};var Yh={},fP=null;function uC(){return fP=fP||new Mi}function pP(n){os.call(this,Yh.Pa,n)}function rv(n){const e=uC();zi(e,new pP(e))}function gP(n,e){os.call(this,Yh.STAT_EVENT,n),this.stat=e}function _s(n){const e=uC();zi(e,new gP(e,n))}function mP(n,e){os.call(this,Yh.Qa,n),this.size=e}function iv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ln.setTimeout(function(){n()},e)}Yh.Pa="serverreachability",Hi(pP,os),Yh.STAT_EVENT="statevent",Hi(gP,os),Yh.Qa="timingevent",Hi(mP,os);var dC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},_P={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function DM(){}function vP(){}DM.prototype.h=null;var MM,sv={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function TM(){os.call(this,"d")}function SM(){os.call(this,"c")}function hC(){}function ov(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new nv(this),this.O=X2,this.T=new lC(n=oM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bP}function bP(){this.i=null,this.g="",this.h=!1}Hi(TM,os),Hi(SM,os),Hi(hC,DM),hC.prototype.g=function(){return new XMLHttpRequest},hC.prototype.i=function(){return{}},MM=new hC;var X2=45e3,AM={},fC={};function xM(n,e,t){n.K=1,n.v=_C(Ic(e)),n.s=t,n.P=!0,wP(n,null)}function wP(n,e){n.F=Date.now(),av(n),n.A=Ic(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),OP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new bP,n.g=tN(n.l,t?e:null,!n.s),0<n.N&&(n.L=new W2(ss(n.La,n,n.g),n.N)),dP(n.S,n.g,"readystatechange",n.ib),e=n.H?XR(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),rv(),function Z2(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var S=I.split("_");c=2<=S.length&&"type"==S[1]?c+(I+"=")+w+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function EP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function CP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=J2(n,t),i==fC){4==e&&(n.o=4,_s(14),r=!1),Bg(n.j,n.m,null,"[Incomplete Response]");break}if(i==AM){n.o=4,_s(15),Bg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Bg(n.j,n.m,i,null),OM(n,i)}EP(n)&&i!=fC&&i!=AM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,_s(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),VM(e),e.K=!0,_s(11))):(Bg(n.j,n.m,t,"[Invalid Chunked Response]"),Qh(n),lv(n))}function J2(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fC:(t=Number(e.substring(t,r)),isNaN(t)?AM:(r+=1)+t>e.length?fC:(e=e.substr(r,t),n.C=r+t,e))}function av(n){n.V=Date.now()+n.O,IP(n,n.O)}function IP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=iv(ss(n.gb,n),e)}function pC(n){n.B&&(ln.clearTimeout(n.B),n.B=null)}function lv(n){0==n.l.G||n.I||QP(n.l,n)}function Qh(n){pC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,CM(n.T),hP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function OM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kM(t.h,n)))if(!n.J&&kM(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;CC(t),wC(t)}BM(t),_s(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=iv(ss(t.cb,t),6e3));if(1>=PP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Jh(t,11)}else if((n.J||t.g==n)&&CC(t),!nC(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const I=w[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const S=w[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const G=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(RM(a,a.h),a.h=null))}if(r.D){const re=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.za=re,Cr(r.F,r.D,re))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=eN(r,r.H?r.ka:null,r.V),c.J){NP(r.h,c);var f=c,_=r.J;_&&f.setTimeout(_),f.B&&(pC(f),av(f)),r.g=c}else KP(r);0<t.i.length&&EC(t)}else"stop"!=w[0]&&"close"!=w[0]||Jh(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Jh(t,7):LM(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}rv()}catch{}}function DP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(eC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tU(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(eC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function eU(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(eC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Ft=ov.prototype).setTimeout=function(n){this.O=n},Ft.ib=function(n){n=n.target;const e=this.L;e&&3==Dc(n)?e.l():this.La(n)},Ft.La=function(n){try{if(n==this.g)e:{const I=Dc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>I)&&(3!=I||oM||this.g&&(this.h.h||this.g.fa()||zP(this.g)))){this.I||4!=I||7==e||rv(),pC(this);var t=this.g.aa();this.Y=t;t:if(EP(this)){var r=zP(this.g);n="";var i=r.length,a=4==Dc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qh(this),lv(this);var c="";break t}this.h.i=new ln.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function K2(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nC(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,_s(12),Qh(this),lv(this);break e}Bg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,OM(this,t)}this.P?(CP(this,I,c),oM&&this.i&&3==I&&(dP(this.S,this.T,"tick",this.hb),this.T.start())):(Bg(this.j,this.m,c,null),OM(this,c)),4==I&&Qh(this),this.i&&!this.I&&(4==I?QP(this.l,this):(this.i=!1,av(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,_s(12)):(this.o=0,_s(13)),Qh(this),lv(this)}}}catch{}},Ft.hb=function(){if(this.g){var n=Dc(this.g),e=this.g.fa();this.C<e.length&&(pC(this),CP(this,n,e),this.i&&4!=n&&av(this))}},Ft.cancel=function(){this.I=!0,Qh(this)},Ft.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Y2(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rv(),_s(17)),Qh(this),this.o=2,lv(this)):IP(this,this.V-n)};var TP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xh){this.h=void 0!==e?e:n.h,gC(this,n.j),this.s=n.s,this.g=n.g,mC(this,n.m),this.l=n.l,e=n.i;var t=new dv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),SP(this,t),this.o=n.o}else n&&(t=String(n).match(TP))?(this.h=!!e,gC(this,t[1]||"",!0),this.s=cv(t[2]||""),this.g=cv(t[3]||"",!0),mC(this,t[4]),this.l=cv(t[5]||"",!0),SP(this,t[6]||"",!0),this.o=cv(t[7]||"")):(this.h=!!e,this.i=new dv(null,this.h))}function Ic(n){return new Xh(n)}function gC(n,e,t){n.j=t?cv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function SP(n,e,t){e instanceof dv?(n.i=e,function lU(n,e){e&&!n.j&&(Qu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(AP(this,r),OP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=uv(e,oU)),n.i=new dv(e,n.h))}function Cr(n,e,t){n.i.set(e,t)}function _C(n){return Cr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function uv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(uv(e,MP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(uv(e,MP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(uv(t,"/"==t.charAt(0)?sU:iU,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",uv(t,aU)),n.join("")};var MP=/[#\/\?@]/g,iU=/[#\?:]/g,sU=/[#\?]/g,oU=/[#\?@]/g,aU=/#/g;function dv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qu(n){n.g||(n.g=new Map,n.h=0,n.i&&function nU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function AP(n,e){Qu(n),e=Vg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function xP(n,e){return Qu(n),e=Vg(n,e),n.g.has(e)}function OP(n,e,t){AP(n,e),0<t.length&&(n.i=null,n.g.set(Vg(n,e),rM(t)),n.h+=t.length)}function Vg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kP(n){this.l=n||uU,n=ln.PerformanceNavigationTiming?0<(n=ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ln.g&&ln.g.Ga&&ln.g.Ga()&&ln.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ft=dv.prototype).add=function(n,e){Qu(this),this.i=null,n=Vg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ft.forEach=function(n,e){Qu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ft.oa=function(){Qu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Ft.W=function(n){Qu(this);let e=[];if("string"==typeof n)xP(this,n)&&(e=e.concat(this.g.get(Vg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ft.set=function(n,e){return Qu(this),this.i=null,xP(this,n=Vg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ft.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var uU=10;function RP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PP(n){return n.h?1:n.g?n.g.size:0}function kM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RM(n,e){n.g?n.g.add(e):n.h=e}function NP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return rM(n.i)}function PM(){}function dU(){this.g=new PM}function hU(n,e,t){const r=t||"";try{DP(n,function(i,a){let c=i;Jy(i)&&(c=bM(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hv(n){this.l=n.ac||null,this.j=n.jb||!1}function vC(n,e){Mi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=NM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kP.prototype.cancel=function(){if(this.i=FP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},PM.prototype.stringify=function(n){return ln.JSON.stringify(n,void 0)},PM.prototype.parse=function(n){return ln.JSON.parse(n,void 0)},Hi(hv,DM),hv.prototype.g=function(){return new vC(this.l,this.j)},hv.prototype.i=function(n){return function(){return n}}({}),Hi(vC,Mi);var NM=0;function LP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function fv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pv(n)}function pv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ft=vC.prototype).open=function(n,e){if(this.readyState!=NM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pv(this)},Ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ln).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fv(this)),this.readyState=NM},Ft.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pv(this)),this.g&&(this.readyState=3,pv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ln.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ft.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fv(this):pv(this),3==this.readyState&&LP(this)}},Ft.Va=function(n){this.g&&(this.response=this.responseText=n,fv(this))},Ft.Ua=function(n){this.g&&(this.response=n,fv(this))},Ft.ga=function(){this.g&&fv(this)},Ft.setRequestHeader=function(n,e){this.v.append(n,e)},Ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pU=ln.JSON.parse;function Lr(n){Mi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BP,this.K=this.L=!1}Hi(Lr,Mi);var BP="",gU=/^https?$/i,mU=["POST","PUT"];function VP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,UP(n),bC(n)}function UP(n){n.D||(n.D=!0,zi(n,"complete"),zi(n,"error"))}function jP(n){if(n.h&&typeof tM<"u"&&(!n.C[1]||4!=Dc(n)||2!=n.aa()))if(n.v&&4==Dc(n))IM(n.Ha,0,n);else if(zi(n,"readystatechange"),4==Dc(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(TP)[1]||null;if(!i&&ln.self&&ln.self.location){var a=ln.self.location.protocol;i=a.substr(0,a.length-1)}r=!gU.test(i?i.toLowerCase():"")}t=r}if(t)zi(n,"complete"),zi(n,"success");else{n.m=6;try{var c=2<Dc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",UP(n)}}finally{bC(n)}}}function bC(n,e){if(n.g){HP(n);const t=n.g,r=n.C[0]?JE:null;n.g=null,n.C=null,e||zi(n,"ready");try{t.onreadystatechange=r}catch{}}}function HP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ln.clearTimeout(n.A),n.A=null)}function Dc(n){return n.g?n.g.readyState:0}function zP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case BP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function $P(n){let e="";return dM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function FM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=$P(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Cr(n,e,t))}function gv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function GP(n){this.Ca=0,this.i=[],this.j=new cC,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gv("baseRetryDelayMs",5e3,n),this.bb=gv("retryDelaySeedMs",1e4,n),this.$a=gv("forwardChannelMaxRetries",2,n),this.ta=gv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new kP(n&&n.concurrentRequestLimit),this.Fa=new dU,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function LM(n){if(qP(n),3==n.G){var e=n.U++,t=Ic(n.F);Cr(t,"SID",n.I),Cr(t,"RID",e),Cr(t,"TYPE","terminate"),mv(n,t),(e=new ov(n,n.j,e,void 0)).K=2,e.v=_C(Ic(t)),t=!1,ln.navigator&&ln.navigator.sendBeacon&&(t=ln.navigator.sendBeacon(e.v.toString(),"")),!t&&ln.Image&&((new Image).src=e.v,t=!0),t||(e.g=tN(e.l,null),e.g.da(e.v)),e.F=Date.now(),av(e)}JP(n)}function wC(n){n.g&&(VM(n),n.g.cancel(),n.g=null)}function qP(n){wC(n),n.u&&(ln.clearTimeout(n.u),n.u=null),CC(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ln.clearTimeout(n.m),n.m=null)}function EC(n){RP(n.h)||n.m||(n.m=!0,aP(n.Ja,n),n.C=0)}function WP(n,e){var t;t=e?e.m:n.U++;const r=Ic(n.F);Cr(r,"SID",n.I),Cr(r,"RID",t),Cr(r,"AID",n.T),mv(n,r),n.o&&n.s&&FM(r,n.o,n.s),t=new ov(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=ZP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),RM(n.h,t),xM(t,r,e)}function mv(n,e){n.ia&&dM(n.ia,function(t,r){Cr(e,r,t)}),n.l&&DP({},function(t,r){Cr(e,r,t)})}function ZP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ss(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{hU(I,c,"req"+w+"_")}catch{r&&r(I)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function KP(n){n.g||n.u||(n.Z=1,aP(n.Ia,n),n.A=0)}function BM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=iv(ss(n.Ia,n),XP(n,n.A)),n.A++,0))}function VM(n){null!=n.B&&(ln.clearTimeout(n.B),n.B=null)}function YP(n){n.g=new ov(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ic(n.sa);Cr(e,"RID","rpc"),Cr(e,"SID",n.I),Cr(e,"CI",n.L?"0":"1"),Cr(e,"AID",n.T),Cr(e,"TYPE","xmlhttp"),mv(n,e),n.o&&n.s&&FM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=_C(Ic(e)),t.s=null,t.P=!0,wP(t,n)}function CC(n){null!=n.v&&(ln.clearTimeout(n.v),n.v=null)}function QP(n,e){var t=null;if(n.g==e){CC(n),VM(n),n.g=null;var r=2}else{if(!kM(n.h,e))return;t=e.D,NP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;zi(r=uC(),new mP(r,t)),EC(n)}else KP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function yU(n,e){return!(PP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=iv(ss(n.Ja,n,e),XP(n,n.C)),n.C++,0)))}(n,e)||2==r&&BM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Jh(n,5);break;case 4:Jh(n,10);break;case 3:Jh(n,6);break;default:Jh(n,2)}}function XP(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Jh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ss(n.kb,n);t||(t=new Xh("//www.google.com/images/cleardot.gif"),ln.location&&"http"==ln.location.protocol||gC(t,"https"),_C(t)),function fU(n,e){const t=new cC;if(ln.Image){const r=new Image;r.onload=tC(yC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=tC(yC,t,r,"TestLoadImage: error",!1,e),r.onabort=tC(yC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=tC(yC,t,r,"TestLoadImage: timeout",!1,e),ln.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else _s(2);n.G=0,n.l&&n.l.va(e),JP(n),qP(n)}function JP(n){if(n.G=0,n.la=[],n.l){const e=FP(n.h);(0!=e.length||0!=n.i.length)&&(qR(n.la,e),qR(n.la,n.i),n.h.i.length=0,rM(n.i),n.i.length=0),n.l.ua()}}function eN(n,e,t){var r=t instanceof Xh?Ic(t):new Xh(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),mC(r,r.m);else{var i=ln.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Xh(null,void 0);r&&gC(a,r),e&&(a.g=e),i&&mC(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Cr(r,t,e),Cr(r,"VER",n.ma),mv(n,r),r}function tN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lr(t&&n.Da&&!n.ra?new hv({jb:!0}):n.ra)).Ka(n.H),e}function nN(){}function IC(){if(Lg&&!(10<=Number(N2)))throw Error("Environmental error: no available transport.")}function bo(n,e){Mi.call(this),this.g=new GP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!nC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nC(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ug(this)}function rN(n){TM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iN(){SM.call(this),this.status=1}function Ug(n){this.g=n}(Ft=Lr.prototype).Ka=function(n){this.L=n},Ft.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():MM.g(),this.C=function yP(n){return n.h||(n.h=n.i())}(this.u?this.u:MM),this.g.onreadystatechange=ss(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void VP(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=ln.FormData&&n instanceof ln.FormData,!(0<=GR(mU,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{HP(this),0<this.B&&((this.K=function _U(n){return Lg&&function P2(){return function x2(n){var e=R2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=WR(String(iC)).split("."),t=WR("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=iM(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||iM(0==i[2].length,0==a[2].length)||iM(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ss(this.qa,this)):this.A=IM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){VP(this,a)}},Ft.qa=function(){typeof tM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zi(this,"timeout"),this.abort(8))},Ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zi(this,"complete"),zi(this,"abort"),bC(this))},Ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bC(this,!0)),Lr.X.M.call(this)},Ft.Ha=function(){this.s||(this.F||this.v||this.l?jP(this):this.fb())},Ft.fb=function(){jP(this)},Ft.aa=function(){try{return 2<Dc(this)?this.g.status:-1}catch{return-1}},Ft.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ft.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pU(e)}},Ft.Ea=function(){return this.m},Ft.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ft=GP.prototype).ma=8,Ft.G=1,Ft.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new ov(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=XR(a),eP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZP(this,i,e),Cr(t=Ic(this.F),"RID",n),Cr(t,"CVER",22),this.D&&Cr(t,"X-HTTP-Session-Id",this.D),mv(this,t),a&&(this.N?e="headers="+encodeURIComponent(String($P(a)))+"&"+e:this.o&&FM(t,this.o,a)),RM(this.h,i),this.Ya&&Cr(t,"TYPE","init"),this.O?(Cr(t,"$req",e),Cr(t,"SID","null"),i.Z=!0,xM(i,t,null)):xM(i,t,e),this.G=2}}else 3==this.G&&(n?WP(this,n):0==this.i.length||RP(this.h)||WP(this))},Ft.Ia=function(){if(this.u=null,YP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=iv(ss(this.eb,this),n)}},Ft.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_s(10),wC(this),YP(this))},Ft.cb=function(){null!=this.v&&(this.v=null,wC(this),BM(this),_s(19))},Ft.kb=function(n){n?(this.j.info("Successfully pinged google.com"),_s(2)):(this.j.info("Failed to ping google.com"),_s(1))},(Ft=nN.prototype).xa=function(){},Ft.wa=function(){},Ft.va=function(){},Ft.ua=function(){},Ft.Ra=function(){},IC.prototype.g=function(n,e){return new bo(n,e)},Hi(bo,Mi),bo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;_s(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=eN(n,null,n.V),EC(n)},bo.prototype.close=function(){LM(this.g)},bo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&EC(e)},bo.prototype.M=function(){this.g.l=null,delete this.j,LM(this.g),delete this.g,bo.X.M.call(this)},Hi(rN,TM),Hi(iN,SM),Hi(Ug,nN),Ug.prototype.xa=function(){zi(this.g,"a")},Ug.prototype.wa=function(n){zi(this.g,new rN(n))},Ug.prototype.va=function(n){zi(this.g,new iN)},Ug.prototype.ua=function(){zi(this.g,"b")},IC.prototype.createWebChannel=IC.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,dC.NO_ERROR=0,dC.TIMEOUT=8,dC.HTTP_ERROR=6,_P.COMPLETE="complete",vP.EventType=sv,sv.OPEN="a",sv.CLOSE="b",sv.ERROR="c",sv.MESSAGE="d",Mi.prototype.listen=Mi.prototype.N,Lr.prototype.listenOnce=Lr.prototype.O,Lr.prototype.getLastError=Lr.prototype.Oa,Lr.prototype.getLastErrorCode=Lr.prototype.Ea,Lr.prototype.getStatus=Lr.prototype.aa,Lr.prototype.getResponseJson=Lr.prototype.Sa,Lr.prototype.getResponseText=Lr.prototype.fa,Lr.prototype.send=Lr.prototype.da,Lr.prototype.setWithCredentials=Lr.prototype.Ka;var vU=Cc.createWebChannelTransport=function(){return new IC},bU=Cc.getStatEventTarget=function(){return uC()},UM=Cc.ErrorCode=dC,wU=Cc.EventType=_P,EU=Cc.Event=Yh,sN=Cc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},CU=Cc.FetchXmlHttpFactory=hv,DC=Cc.WebChannel=vP,IU=Cc.XhrIo=Lr;const oN="@firebase/firestore";class Ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");let jg="9.17.2";const Xu=new Ku.Yd("@firebase/firestore");function jM(){return Xu.logLevel}function Ge(n,...e){if(Xu.logLevel<=Ku.in.DEBUG){const t=e.map(HM);Xu.debug(`Firestore (${jg}): ${n}`,...t)}}function Yr(n,...e){if(Xu.logLevel<=Ku.in.ERROR){const t=e.map(HM);Xu.error(`Firestore (${jg}): ${n}`,...t)}}function ef(n,...e){if(Xu.logLevel<=Ku.in.WARN){const t=e.map(HM);Xu.warn(`Firestore (${jg}): ${n}`,...t)}}function HM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function wt(n="Unexpected state"){const e=`FIRESTORE (${jg}) INTERNAL ASSERTION FAILED: `+n;throw Yr(e),new Error(e)}function Lt(n,e){n||wt()}function ut(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Bn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ai.UNAUTHENTICATED))}shutdown(){}}class MU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AU{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _i,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=c;e.enqueueRetryable((0,Te.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _i)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt("string"==typeof r.accessToken),new aN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new Ai(e)}}class xU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Lt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class OU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new xU(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.A=t.token,new lN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cN{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=RU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function cn(n,e){return n<e?-1:n>e?1:0}function Hg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function uN(n){return n+"\0"}class Ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ir(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Ir(0,0))}static max(){return new Bt(new Ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _v{constructor(e,t,r){void 0===t?t=0:t>e.length&&wt(),void 0===r?r=e.length-t:r>e.length-t&&wt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_v.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _v?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xn extends _v{construct(e,t,r){return new xn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new xn(t)}static emptyPath(){return new xn([])}}const PU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends _v{construct(e,t,r){return new Br(e,t,r)}static isValidIdentifier(e){return PU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Fe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Fe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Fe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class it{constructor(e){this.path=e}static fromPath(e){return new it(xn.fromString(e))}static fromName(e){return new it(xn.fromString(e).popFirst(5))}static empty(){return new it(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new xn(e.slice()))}}class TC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function zM(n){return n.fields.find(e=>2===e.kind)}function tf(n){return n.fields.filter(e=>2!==e.kind)}TC.UNKNOWN_ID=-1;class SC{constructor(e,t){this.fieldPath=e,this.kind=t}}class yv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yv(0,wo.min())}}function dN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(1e9===r?new Ir(t+1,0):new Ir(t,r));return new wo(i,it.empty(),e)}function hN(n){return new wo(n.readTime,n.key,-1)}class wo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wo(Bt.min(),it.empty(),-1)}static max(){return new wo(Bt.max(),it.empty(),-1)}}function $M(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:cn(n.largestBatchId,e.largestBatchId))}const fN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ju(n){return GM.apply(this,arguments)}function GM(){return GM=(0,Te.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==fN)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),GM.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{c[w]=I,++f,f===a&&r(c)},I=>i(I))}})}static doWhile(e,t){return new le((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class MC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new _i,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new vv(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=qM(r.target.error);this.v.reject(new vv(e,i))}}static open(e,t,r,i){try{return new MC(t,e.transaction(i,r))}catch(a){throw new vv(t,a)}}get P(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BU(t)}}class xa{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===xa.D((0,Bn.z$)())&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),nf(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Bn.hl)())return!1;if(xa.N())return!0;const e=(0,Bn.z$)(),t=xa.D(e),r=0<t&&t<10,i=xa.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Te.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new vv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Fe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new vv(e,f))},a.onupgradeneeded=c=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Te.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=MC.open(a.db,e,c?"readonly":"readwrite",r),w=i(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),le.reject(I))).toPromise();return w.catch(()=>{}),yield _.P,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Ge("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class LU{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return nf(this.q.delete())}}class vv extends Fe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ed(n){return"IndexedDbTransactionError"===n.name}class BU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nf(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),nf(this.store.add(e))}get(e){return nf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),nf(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),nf(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new le((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Z=!1;const i=this.cursor(r);return this.H(i,(a,c,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=a=>{const c=qM(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}H(e,t){const r=[];return new le((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new LU(f),w=t(f.primaryKey,f.value,_);if(w instanceof le){const I=w.catch(S=>(_.done(),le.reject(S)));r.push(I)}_.isDone?i():null===_.G?f.continue():f.continue(_.G)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nf(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=qM(r.target.error);t(i)}})}let gN=!1;function qM(n){const e=xa.D((0,Bn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gN||(gN=!0,setTimeout(()=>{throw r},0)),r}}return n}class VU{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{Ge("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ed(r)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ju(r)}yield t.nt(6e4)}))}}class UU{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return le.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ge("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(f=>(Ge("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=hN(a);$M(c,r)>0&&(r=c)}),new wo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Eo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class zU{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class td{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new td("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof td&&e.projectId===this.projectId&&e.database===this.database}}function mN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _N(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bv(n){return null==n}function wv(n){return 0===n&&1/n==-1/0}function yN(n){return"number"==typeof n&&Number.isInteger(n)&&!wv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $U extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new $U("Invalid base64 string: "+i):i}}(e);return new yi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new yi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const qU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nd(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=qU.exec(n);if(Lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sf(n){return"string"==typeof n?yi.fromBase64String(n):yi.fromUint8Array(n)}function ZM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vN(n){const e=n.mapValue.fields.__previous_value__;return ZM(e)?vN(e):e}function Ev(n){const e=nd(n.mapValue.fields.__local_write_time__.timestampValue);return new Ir(e.seconds,e.nanos)}const rd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},AC={nullValue:"NULL_VALUE"};function af(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ZM(n)?4:CN(n)?9007199254740991:10:wt()}function dl(n,e){if(n===e)return!0;const t=af(n);if(t!==af(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ev(n).isEqual(Ev(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=nd(r.timestampValue),c=nd(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,sf(n.bytesValue).isEqual(sf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Vr(r.geoPointValue.latitude)===Vr(i.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Vr(r.integerValue)===Vr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Vr(r.doubleValue),c=Vr(i.doubleValue);return a===c?wv(a)===wv(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Hg(n.arrayValue.values||[],e.arrayValue.values||[],dl);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(mN(a)!==mN(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!dl(a[f],c[f])))return!1;return!0}(n,e);default:return wt()}var i}function Cv(n,e){return void 0!==(n.values||[]).find(t=>dl(t,e))}function id(n,e){if(n===e)return 0;const t=af(n),r=af(e);if(t!==r)return cn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Vr(i.integerValue||i.doubleValue),f=Vr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return bN(n.timestampValue,e.timestampValue);case 4:return bN(Ev(n),Ev(e));case 5:return cn(n.stringValue,e.stringValue);case 6:return function(i,a){const c=sf(i),f=sf(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const w=cn(c[_],f[_]);if(0!==w)return w}return cn(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=cn(Vr(i.latitude),Vr(a.latitude));return 0!==c?c:cn(Vr(i.longitude),Vr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const w=id(c[_],f[_]);if(w)return w}return cn(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===rd.mapValue&&a===rd.mapValue)return 0;if(i===rd.mapValue)return 1;if(a===rd.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const S=cn(f[I],w[I]);if(0!==S)return S;const P=id(c[f[I]],_[w[I]]);if(0!==P)return P}return cn(f.length,w.length)}(n.mapValue,e.mapValue);default:throw wt()}}function bN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return cn(n,e);const t=nd(n),r=nd(e),i=cn(t.seconds,r.seconds);return 0!==i?i:cn(t.nanos,r.nanos)}function zg(n){return KM(n)}function KM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=nd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sf(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=KM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${KM(r.fields[f])}`;return a+"}"}(n.mapValue):wt();var e}function lf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function YM(n){return!!n&&"integerValue"in n}function Iv(n){return!!n&&"arrayValue"in n}function wN(n){return!!n&&"nullValue"in n}function EN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xC(n){return!!n&&"mapValue"in n}function Dv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function WU(n){return"nullValue"in n?AC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lf(td.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:wt()}function ZU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lf(td.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?rd:wt()}function IN(n,e){const t=id(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function DN(n,e){const t=id(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class sd{constructor(e,t){this.position=e,this.inclusive=t}}function TN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?it.comparator(it.fromName(c.referenceValue),t.key):id(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function SN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!dl(n.position[t],e.position[t]))return!1;return!0}class MN{}class En extends MN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new KU(e,t,r):"array-contains"===t?new XU(e,r):"in"===t?new PN(e,r):"not-in"===t?new JU(e,r):"array-contains-any"===t?new ej(e,r):new En(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new YU(e,r):new QU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(id(t,this.value)):null!==t&&af(this.value)===af(t)&&this.matchesComparison(id(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wn extends MN{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new Wn(e,t)}matches(e){return $g(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $g(n){return"and"===n.op}function QM(n){return"or"===n.op}function XM(n){return AN(n)&&$g(n)}function AN(n){for(const e of n.filters)if(e instanceof Wn)return!1;return!0}function JM(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+zg(n.value);if(XM(n))return n.filters.map(e=>JM(e)).join(",");{const e=n.filters.map(t=>JM(t)).join(",");return`${n.op}(${e})`}}function xN(n,e){return n instanceof En?(t=n,(r=e)instanceof En&&t.op===r.op&&t.field.isEqual(r.field)&&dl(t.value,r.value)):n instanceof Wn?function(t,r){return r instanceof Wn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&xN(a,r.filters[c]),!0)}(n,e):void wt();var t,r}function ON(n,e){const t=n.filters.concat(e);return Wn.create(t,n.op)}function kN(n){return n instanceof En?`${(e=n).field.canonicalString()} ${e.op} ${zg(e.value)}`:n instanceof Wn?function(e){return e.op.toString()+" {"+e.getFilters().map(kN).join(" ,")+"}"}(n):"Filter";var e}class KU extends En{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.matchesComparison(t)}}class YU extends En{constructor(e,t){super(e,"in",t),this.keys=RN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QU extends En{constructor(e,t){super(e,"not-in",t),this.keys=RN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class XU extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Iv(t)&&Cv(t.arrayValue,this.value)}}class PN extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cv(this.value.arrayValue,t)}}class JU extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cv(this.value.arrayValue,t)}}class ej extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Iv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cv(this.value.arrayValue,r))}}class Gg{constructor(e,t="asc"){this.field=e,this.dir=t}}function tj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ur{constructor(e,t){this.comparator=e,this.root=t||$i.EMPTY}insert(e,t){return new Ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new OC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new OC(this.root,e,this.comparator,!1)}getReverseIterator(){return new OC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new OC(this.root,e,this.comparator,!0)}}class OC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??$i.RED,this.left=i??$i.EMPTY,this.right=a??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new $i(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return $i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new $i(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class er{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NN(this.data.getIterator())}getIteratorFrom(e){return new NN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class NN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qg(n){return n.hasNext()?n.getNext():void 0}class Ks{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new Ks([])}unionWith(e){let t=new er(Br.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ks(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dv(t)}setAll(e){let t=Br.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Dv(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());xC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new xi(Dv(this.value))}}function FN(n){const e=[];return rf(n.fields,(t,r)=>{const i=new Br([t]);if(xC(r)){const a=FN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Ks(e)}class mr{constructor(e,t,r,i,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new mr(e,0,Bt.min(),Bt.min(),Bt.min(),xi.empty(),0)}static newFoundDocument(e,t,r,i){return new mr(e,1,t,Bt.min(),r,i,0)}static newNoDocument(e,t){return new mr(e,2,t,Bt.min(),Bt.min(),xi.empty(),0)}static newUnknownDocument(e,t){return new mr(e,3,t,Bt.min(),Bt.min(),xi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nj{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this._t=null}}function eA(n,e=null,t=[],r=[],i=null,a=null,c=null){return new nj(n,e,t,r,i,a,c)}function cf(n){const e=ut(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>JM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zg(r)).join(",")),e._t=t}return e._t}function Tv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SN(n.startAt,e.startAt)&&SN(n.endAt,e.endAt)}function kC(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function RC(n,e){return n.filters.filter(t=>t instanceof En&&t.field.isEqual(e))}function LN(n,e,t){let r=AC,i=!0;for(const a of RC(n,e)){let c=AC,f=!0;switch(a.op){case"<":case"<=":c=WU(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=AC}IN({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];IN({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function BN(n,e,t){let r=rd,i=!0;for(const a of RC(n,e)){let c=rd,f=!0;switch(a.op){case">=":case">":c=ZU(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=rd}DN({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];DN({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Tc{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.wt=null,this.gt=null}}function VN(n,e,t,r,i,a,c,f){return new Tc(n,e,t,r,i,a,c,f)}function Wg(n){return new Tc(n)}function UN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function PC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function nA(n){return null!==n.collectionGroup}function uf(n){const e=ut(n);if(null===e.wt){e.wt=[];const t=PC(e),r=tA(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Gg(t)),e.wt.push(new Gg(Br.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Gg(Br.keyField(),a))}}}return e.wt}function ys(n){const e=ut(n);if(!e.gt)if("F"===e.limitType)e.gt=eA(e.path,e.collectionGroup,uf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of uf(e))t.push(new Gg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new sd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new sd(e.startAt.position,e.startAt.inclusive):null;e.gt=eA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.gt}function rA(n,e){e.getFirstInequalityField(),PC(n);const t=n.filters.concat([e]);return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function NC(n,e,t){return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sv(n,e){return Tv(ys(n),ys(e))&&n.limitType===e.limitType}function jN(n){return`${cf(ys(n))}|lt:${n.limitType}`}function iA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>kN(r)).join(", ")}]`),bv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zg(r)).join(",")),`Target(${t})`}(ys(n))}; limitType=${n.limitType})`}function Mv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):it.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of uf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=TN(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,uf(t),r)||t.endAt&&!function(i,a,c){const f=TN(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,uf(t),r)));var t,r}function HN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zN(n){return(e,t)=>{let r=!1;for(const i of uf(n)){const a=rj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function rj(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?id(f,_):wt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}function $N(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wv(e)?"-0":e}}function GN(n){return{integerValue:""+n}}function qN(n,e){return yN(e)?GN(e):$N(n,e)}class FC{constructor(){this._=void 0}}function ij(n,e,t){return n instanceof Zg?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof df?ZN(n,e):n instanceof hf?KN(n,e):function(r,i){const a=WN(r,i),c=YN(a)+YN(r.It);return YM(a)&&YM(r.It)?GN(c):$N(r.Tt,c)}(n,e)}function sj(n,e,t){return n instanceof df?ZN(n,e):n instanceof hf?KN(n,e):t}function WN(n,e){return n instanceof Kg?YM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Zg extends FC{}class df extends FC{constructor(e){super(),this.elements=e}}function ZN(n,e){const t=QN(e);for(const r of n.elements)t.some(i=>dl(i,r))||t.push(r);return{arrayValue:{values:t}}}class hf extends FC{constructor(e){super(),this.elements=e}}function KN(n,e){let t=QN(e);for(const r of n.elements)t=t.filter(i=>!dl(i,r));return{arrayValue:{values:t}}}class Kg extends FC{constructor(e,t){super(),this.Tt=e,this.It=t}}function YN(n){return Vr(n.integerValue||n.doubleValue)}function QN(n){return Iv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Av{constructor(e,t){this.field=e,this.transform=t}}class aj{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function LC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class BC{}function XN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qg(n.key,Dr.none()):new Yg(n.key,n.data,Dr.none());{const t=n.data,r=xi.empty();let i=new er(Br.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Sc(n.key,r,new Ks(i.toArray()),Dr.none())}}function lj(n,e,t){n instanceof Yg?function(r,i,a){const c=r.value.clone(),f=t1(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Sc?function(r,i,a){if(!LC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=t1(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(e1(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xv(n,e,t,r){return n instanceof Yg?function(i,a,c,f){if(!LC(i.precondition,a))return c;const _=i.value.clone(),w=n1(i.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Sc?function(i,a,c,f){if(!LC(i.precondition,a))return c;const _=n1(i.fieldTransforms,f,a),w=a.data;return w.setAll(e1(i)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(c=t,LC(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function cj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=WN(r.transform,i||null);null!=a&&(null===t&&(t=xi.empty()),t.set(r.field,a))}return t||null}function JN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Hg(t,r,(i,a)=>function oj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof df&&r instanceof df||t instanceof hf&&r instanceof hf?Hg(t.elements,r.elements,dl):t instanceof Kg&&r instanceof Kg?dl(t.It,r.It):t instanceof Zg&&r instanceof Zg);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Yg extends BC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sc extends BC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function e1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function t1(n,e,t){const r=new Map;Lt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,sj(c,f,t[i]))}return r}function n1(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,ij(a,c,e))}return r}class Qg extends BC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sA extends BC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uj{constructor(e){this.count=e}}var ri,On;function r1(n){switch(n){default:return wt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function s1(n){if(void 0===n)return Yr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case ri.OK:return fe.OK;case ri.CANCELLED:return fe.CANCELLED;case ri.UNKNOWN:return fe.UNKNOWN;case ri.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ri.INTERNAL:return fe.INTERNAL;case ri.UNAVAILABLE:return fe.UNAVAILABLE;case ri.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ri.NOT_FOUND:return fe.NOT_FOUND;case ri.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ri.ABORTED:return fe.ABORTED;case ri.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ri.DATA_LOSS:return fe.DATA_LOSS;default:return wt()}}(On=ri||(ri={}))[On.OK=0]="OK",On[On.CANCELLED=1]="CANCELLED",On[On.UNKNOWN=2]="UNKNOWN",On[On.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",On[On.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",On[On.NOT_FOUND=5]="NOT_FOUND",On[On.ALREADY_EXISTS=6]="ALREADY_EXISTS",On[On.PERMISSION_DENIED=7]="PERMISSION_DENIED",On[On.UNAUTHENTICATED=16]="UNAUTHENTICATED",On[On.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",On[On.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",On[On.ABORTED=10]="ABORTED",On[On.OUT_OF_RANGE=11]="OUT_OF_RANGE",On[On.UNIMPLEMENTED=12]="UNIMPLEMENTED",On[On.INTERNAL=13]="INTERNAL",On[On.UNAVAILABLE=14]="UNAVAILABLE",On[On.DATA_LOSS=15]="DATA_LOSS";class od{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return _N(this.inner)}size(){return this.innerSize}}const dj=new Ur(it.comparator);function Ys(){return dj}const o1=new Ur(it.comparator);function Ov(...n){let e=o1;for(const t of n)e=e.insert(t.key,t);return e}function a1(n){let e=o1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function hl(){return kv()}function l1(){return kv()}function kv(){return new od(n=>n.toString(),(n,e)=>n.isEqual(e))}const hj=new Ur(it.comparator),fj=new er(it.comparator);function fn(...n){let e=fj;for(const t of n)e=e.add(t);return e}const pj=new er(cn);function VC(){return pj}class Rv{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Pv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rv(Bt.min(),i,VC(),Ys(),fn())}}class Pv{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pv(r,t,fn(),fn(),fn())}}class UC{constructor(e,t,r,i){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=i}}class c1{constructor(e,t){this.targetId=e,this.Rt=t}}class u1{constructor(e,t,r=yi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class d1{constructor(){this.bt=0,this.vt=f1(),this.Pt=yi.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=fn(),t=fn(),r=fn();return this.vt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:wt()}}),new Pv(this.Pt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=f1()}Ot(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class gj{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Ys(),this.Kt=h1(),this.Gt=new er(cn)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:wt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,i)=>{this.Jt(i)&&t(i)})}Zt(e){const t=e.targetId,r=e.Rt.count,i=this.Xt(t);if(i){const a=i.target;if(kC(a))if(0===r){const c=new it(a.path);this.zt(t,c,mr.newNoDocument(c,Bt.min()))}else Lt(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((a,c)=>{const f=this.Xt(c);if(f){if(a.current&&kC(f.target)){const _=new it(f.target.path);null!==this.Ut.get(_)||this.ne(c,_)||this.zt(c,_,mr.newNoDocument(_,e))}a.Ct&&(t.set(c,a.Nt()),a.kt())}});let r=fn();this.Kt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const w=this.Xt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const i=new Rv(e,t,this.Gt,this.Ut,r);return this.Ut=Ys(),this.Kt=h1(),this.Gt=new er(cn),i}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,t)?i.Ot(t,1):i.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let t=this.qt.get(e);return t||(t=new d1,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new er(cn),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new d1),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function h1(){return new Ur(it.comparator)}function f1(){return new Ur(it.comparator)}const mj={asc:"ASCENDING",desc:"DESCENDING"},_j={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yj={and:"AND",or:"OR"};class vj{constructor(e,t){this.databaseId=e,this.yt=t}}function Xg(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p1(n,e){return n.yt?e.toBase64():e.toUint8Array()}function bj(n,e){return Xg(n,e.toTimestamp())}function Qr(n){return Lt(!!n),Bt.fromTimestamp(function(e){const t=nd(e);return new Ir(t.seconds,t.nanos)}(n))}function oA(n,e){return(t=n,new xn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function g1(n){const e=xn.fromString(n);return Lt(I1(e)),e}function Nv(n,e){return oA(n.databaseId,e.path)}function fl(n,e){const t=g1(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(_1(t))}function aA(n,e){return oA(n.databaseId,e)}function m1(n){const e=g1(n);return 4===e.length?xn.emptyPath():_1(e)}function Fv(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _1(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function y1(n,e,t){return{name:Nv(n,e),fields:t.value.mapValue.fields}}function v1(n,e,t){const r=fl(n,e.name),i=Qr(e.updateTime),a=e.createTime?Qr(e.createTime):Bt.min(),c=new xi({mapValue:{fields:e.fields}}),f=mr.newFoundDocument(r,i,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Lv(n,e){let t;if(e instanceof Yg)t={update:y1(n,e.key,e.value)};else if(e instanceof Qg)t={delete:Nv(n,e.key)};else if(e instanceof Sc)t={update:y1(n,e.key,e.data),updateMask:Mj(e.fieldMask)};else{if(!(e instanceof sA))return wt();t={verify:Nv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Zg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof df)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Kg)return{fieldPath:a.field.canonicalString(),increment:c.It};throw wt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:wt()),t;var i}function lA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Dr.updateTime(Qr(i.updateTime)):void 0!==i.exists?Dr.exists(i.exists):Dr.none():Dr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(Lt("REQUEST_TIME"===c.setToServerValue),f=new Zg):"appendMissingElements"in c?f=new df(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new hf(c.removeAllFromArray.values||[]):"increment"in c?f=new Kg(a,c.increment):wt();const _=Br.fromServerFormat(c.fieldPath);return new Av(_,f)}(n,i)):[];var i;if(e.update){const i=fl(n,e.update.name),a=new xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ks((e.updateMask.fieldPaths||[]).map(w=>Br.fromServerFormat(w)));return new Sc(i,a,c,t,r)}return new Yg(i,a,t,r)}if(e.delete){const i=fl(n,e.delete);return new Qg(i,t)}if(e.verify){const i=fl(n,e.verify);return new sA(i,t)}return wt()}function b1(n,e){return{documents:[aA(n,e.path)]}}function cA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=aA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=aA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return C1(Wn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:ad((I=w).field),direction:Dj(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(w=e.limit,n.yt||bv(w)?w:{value:w});var w,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function w1(n){let e=m1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Lt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(I){const S=E1(I);return S instanceof Wn&&XM(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(I=>{return new Gg(Jg((S=I).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(I){let S;return S="object"==typeof I?I.value:I,bv(S)?null:S}(t.limit));let _=null;var I;t.startAt&&(_=new sd((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new sd(I.values||[],!I.before)}(t.endAt)),VN(e,i,c,a,f,"F",_,w)}function E1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jg(e.unaryFilter.field);return En.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Jg(e.unaryFilter.field);return En.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jg(e.unaryFilter.field);return En.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Jg(e.unaryFilter.field);return En.create(a,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(n):void 0!==n.fieldFilter?En.create(Jg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Wn.create(e.compositeFilter.filters.map(t=>E1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return wt()}}(e.compositeFilter.op))}(n):wt();var e}function Dj(n){return mj[n]}function Tj(n){return _j[n]}function Sj(n){return yj[n]}function ad(n){return{fieldPath:n.canonicalString()}}function Jg(n){return Br.fromServerFormat(n.fieldPath)}function C1(n){return n instanceof En?function(e){if("=="===e.op){if(EN(e.value))return{unaryFilter:{field:ad(e.field),op:"IS_NAN"}};if(wN(e.value))return{unaryFilter:{field:ad(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(EN(e.value))return{unaryFilter:{field:ad(e.field),op:"IS_NOT_NAN"}};if(wN(e.value))return{unaryFilter:{field:ad(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ad(e.field),op:Tj(e.op),value:e.value}}}(n):n instanceof Wn?function(e){const t=e.getFilters().map(r=>C1(r));return 1===t.length?t[0]:{compositeFilter:{op:Sj(e.op),filters:t}}}(n):wt()}function Mj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function I1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function vs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D1(e)),e=Aj(n.get(t),e);return D1(e)}function Aj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function D1(n){return n+"\x01\x01"}function pl(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&wt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:wt()}a=c+2}return new xn(r)}const T1=["userId","batchId"];function jC(n,e){return[n,vs(e)]}function S1(n,e,t){return[n,vs(e),t]}const xj={},Oj=["prefixPath","collectionGroup","readTime","documentId"],kj=["prefixPath","collectionGroup","documentId"],Rj=["collectionGroup","readTime","prefixPath","documentId"],Pj=["canonicalId","targetId"],Nj=["targetId","path"],Fj=["path","targetId"],Lj=["collectionId","parent"],Bj=["indexId","uid"],Vj=["uid","sequenceNumber"],Uj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jj=["indexId","uid","orderedDocumentKey"],Hj=["userId","collectionPath","documentId"],zj=["userId","collectionPath","largestBatchId"],$j=["userId","collectionGroup","largestBatchId"],M1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gj=[...M1,"documentOverlays"],A1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],x1=A1,qj=[...x1,"indexConfiguration","indexState","indexEntries"];class uA extends pN{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function Oi(n,e){const t=ut(n);return xa.M(t.re,e)}class dA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&lj(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=l1();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const _=XN(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&Hg(this.mutations,e.mutations,(t,r)=>JN(t,r))&&Hg(this.baseMutations,e.baseMutations,(t,r)=>JN(t,r))}}class hA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Lt(e.mutations.length===r.length);let i=hj;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new hA(e,t,r,i)}}class fA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ld{constructor(e,t,r,i,a=Bt.min(),c=Bt.min(),f=yi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class O1{constructor(e){this.oe=e}}function k1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:HC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Nv(i=n.oe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Xg(i,a.version.toTimestamp()),createTime:Xg(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ff(e.version)};else{if(!e.isUnknownDocument())return wt();r.unknownDocument={path:t.path.toArray(),version:ff(e.version)}}var i,a;return r}function HC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ff(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pf(n){const e=new Ir(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function gf(n,e){const t=(e.baseMutations||[]).map(a=>lA(n.oe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>lA(n.oe,a)),i=Ir.fromMillis(e.localWriteTimeMs);return new dA(e.batchId,i,t,r)}function Bv(n){const e=pf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pf(n.lastLimboFreeSnapshotVersion):Bt.min();let r;var i;return void 0!==n.query.documents?(Lt(1===(i=n.query).documents.length),r=ys(Wg(m1(i.documents[0])))):r=ys(w1(n.query)),new ld(r,n.targetId,0,n.lastListenSequenceNumber,e,t,yi.fromBase64String(n.resumeToken))}function R1(n,e){const t=ff(e.snapshotVersion),r=ff(e.lastLimboFreeSnapshotVersion);let i;i=kC(e.target)?b1(n.oe,e.target):cA(n.oe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function pA(n){const e=w1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?NC(e,e.limit,"L"):e}function gA(n,e){return new fA(e.largestBatchId,lA(n.oe,e.overlayMutation))}function P1(n,e){const t=e.path.lastSegment();return[n,vs(e.path.popLast()),t]}function N1(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ff(r.readTime),documentKey:vs(r.documentKey.path),largestBatchId:r.largestBatchId}}class Zj{getBundleMetadata(e,t){return F1(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:pf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return F1(e).put({bundleId:(r=t).id,createTime:ff(Qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return L1(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:pA(i.bundledQuery),readTime:pf(i.readTime)};var i})}saveNamedQuery(e,t){return L1(e).put({name:(r=t).name,readTime:ff(Qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function F1(n){return Oi(n,"bundles")}function L1(n){return Oi(n,"namedQueries")}class zC{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new zC(e,t.uid||"")}getOverlay(e,t){return Vv(e).get(P1(this.userId,t)).next(r=>r?gA(this.Tt,r):null)}getOverlays(e,t){const r=hl();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new fA(t,c);i.push(this.ce(e,f))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(vs(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Vv(e).Y("collectionPathOverlayIndex",f))}),le.waitFor(a)}getOverlaysForCollection(e,t,r){const i=hl(),a=vs(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Vv(e).W("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const w=gA(this.Tt,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=hl();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vv(e).X({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const S=gA(this.Tt,w);a.size()<i||S.largestBatchId===c?(a.set(S.getKey(),S),c=S.largestBatchId):I.done()}).next(()=>a)}ce(e,t){return Vv(e).put(function(r,i,a){const[c,f,_]=P1(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Lv(r.oe,a.mutation)}}(this.Tt,this.userId,t))}}function Vv(n){return Oi(n,"documentOverlays")}class mf{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Vr(e.integerValue));else if("doubleValue"in e){const r=Vr(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),wv(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(sf(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?CN(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):wt()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const i of r)this.he(i,t)}ye(e,t){this.fe(t,37),it.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function Kj(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function B1(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Kj(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}mf.Ee=new mf;class Yj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.be()}ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.Ve()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=t.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.be()}De(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.Ve()}Ce(e){const t=this.xe(e),r=B1(t);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}ke(e){const t=this.xe(e),r=B1(t);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}$e(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Qj{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.Oe()}}class Xj{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Fe()}}class Uv{constructor(){this.Le=new Yj,this.qe=new Qj(this.Le),this.Ue=new Xj(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class _f{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _f(this.indexId,this.documentKey,this.arrayValue,r)}}function cd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=V1(n.arrayValue,e.arrayValue),0!==t?t:(t=V1(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function V1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Jj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const r=t;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){Lt(e.collectionGroup===this.collectionId);const t=zM(e);if(void 0!==t&&!this.He(t))return!1;const r=tf(e);let i=0,a=0;for(;i<r.length&&this.He(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.ze){const c=r[i];if(!this.Je(this.ze,c)||!this.Ye(this.Qe[a++],c))return!1;++i}for(;i<r.length;++i)if(a>=this.Qe.length||!this.Ye(this.Qe[a++],r[i]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function U1(n){var e,t;if(Lt(n instanceof En||n instanceof Wn),n instanceof En){if(n instanceof PN){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>En.create(n.field,"==",a)))||[];return Wn.create(i,"or")}return n}const r=n.filters.map(i=>U1(i));return Wn.create(r,n.op)}function eH(n){if(0===n.getFilters().length)return[];const e=yA(U1(n));return Lt(j1(e)),mA(e)||_A(e)?[e]:e.getFilters()}function mA(n){return n instanceof En}function _A(n){return n instanceof Wn&&XM(n)}function j1(n){return mA(n)||_A(n)||function(e){if(e instanceof Wn&&QM(e)){for(const t of e.getFilters())if(!mA(t)&&!_A(t))return!1;return!0}return!1}(n)}function yA(n){if(Lt(n instanceof En||n instanceof Wn),n instanceof En)return n;if(1===n.filters.length)return yA(n.filters[0]);const e=n.filters.map(r=>yA(r));let t=Wn.create(e,n.op);return t=$C(t),j1(t)?t:(Lt(t instanceof Wn),Lt($g(t)),Lt(t.filters.length>1),t.filters.reduce((r,i)=>vA(r,i)))}function vA(n,e){let t;return Lt(n instanceof En||n instanceof Wn),Lt(e instanceof En||e instanceof Wn),t=n instanceof En?e instanceof En?Wn.create([n,e],"and"):H1(n,e):e instanceof En?H1(e,n):function(r,i){if(Lt(r.filters.length>0&&i.filters.length>0),$g(r)&&$g(i))return ON(r,i.getFilters());const a=QM(r)?r:i,c=QM(r)?i:r,f=a.filters.map(_=>vA(_,c));return Wn.create(f,"or")}(n,e),$C(t)}function H1(n,e){if($g(e))return ON(e,n.getFilters());{const t=e.filters.map(r=>vA(n,r));return Wn.create(t,"or")}}function $C(n){if(Lt(n instanceof En||n instanceof Wn),n instanceof En)return n;const e=n.getFilters();if(1===e.length)return $C(e[0]);if(AN(n))return n;const t=e.map(i=>$C(i)),r=[];return t.forEach(i=>{i instanceof En?r.push(i):i instanceof Wn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Wn.create(r,n.op)}class tH{constructor(){this.Ze=new bA}addToCollectionParentIndex(e,t){return this.Ze.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(wo.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class bA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new er(xn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new er(xn.comparator)).toArray()}}const GC=new Uint8Array(0);class nH{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new bA,this.tn=new od(r=>cf(r),(r,i)=>Tv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:vs(i)};return z1(e).put(a)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[uN(t),""],!1,!0);return z1(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(pl(c.parent))}return r})}addFieldIndex(e,t){const r=qC(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=Hv(e);return a.next(f=>{c.put(N1(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=qC(e),i=Hv(e),a=jv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=jv(e);let i=!0;const a=new Map;return le.forEach(this.en(t),c=>this.nn(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=fn();const f=[];return le.forEach(a,(_,w)=>{var I;Ge("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(St=>`${St.fieldPath}:${St.kind}`).join(",")}`} to execute ${cf(t)}`);const S=function(St,Dt){const zt=zM(Dt);if(void 0===zt)return null;for(const Zt of RC(St,zt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(w,_),P=function(St,Dt){const zt=new Map;for(const Zt of tf(Dt))for(const Tn of RC(St,Zt.fieldPath))switch(Tn.op){case"==":case"in":zt.set(Zt.fieldPath.canonicalString(),Tn.value);break;case"not-in":case"!=":return zt.set(Zt.fieldPath.canonicalString(),Tn.value),Array.from(zt.values())}return null}(w,_),j=function(St,Dt){const zt=[];let Zt=!0;for(const Tn of tf(Dt)){const Cs=0===Tn.kind?LN(St,Tn.fieldPath,St.startAt):BN(St,Tn.fieldPath,St.startAt);zt.push(Cs.value),Zt&&(Zt=Cs.inclusive)}return new sd(zt,Zt)}(w,_),G=function(St,Dt){const zt=[];let Zt=!0;for(const Tn of tf(Dt)){const Cs=0===Tn.kind?BN(St,Tn.fieldPath,St.endAt):LN(St,Tn.fieldPath,St.endAt);zt.push(Cs.value),Zt&&(Zt=Cs.inclusive)}return new sd(zt,Zt)}(w,_),re=this.sn(_,w,j),Ie=this.sn(_,w,G),dt=this.rn(_,w,P),It=this.on(_.indexId,S,re,j.inclusive,Ie,G.inclusive,dt);return le.forEach(It,St=>r.J(St,t.limit).next(Dt=>{Dt.forEach(zt=>{const Zt=it.fromSegments(zt.documentKey);c.has(Zt)||(c=c.add(Zt),f.push(Zt))})}))}).next(()=>f)}return le.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:eH(Wn.create(e.filters,"and")).map(r=>eA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let S=0;S<_;++S){const P=t?this.un(t[S/w]):GC,j=this.cn(e,P,r[S%w],i),G=this.an(e,P,a[S%w],c),re=f.map(Ie=>this.cn(e,P,Ie,!0));I.push(...this.createRange(j,G,re))}return I}cn(e,t,r,i){const a=new _f(e,it.empty(),t,r);return i?a:a.Ge()}an(e,t,r,i){const a=new _f(e,it.empty(),t,r);return i?a.Ge():a}nn(e,t){const r=new Jj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.We(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.en(t);return le.forEach(i,a=>this.nn(e,a).next(c=>{c?0!==r&&c.fields.length<function(f){let _=new er(Br.comparator),w=!1;for(const I of f.filters)for(const S of I.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?w=!0:_=_.add(S.field));for(const I of f.orderBy)I.field.isKeyField()||(_=_.add(I.field));return _.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}hn(e,t){const r=new Uv;for(const i of tf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ke(i.kind);mf.Ee.ae(a,c)}return r.Be()}un(e){const t=new Uv;return mf.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const r=new Uv;return mf.Ee.ae(lf(this.databaseId,t),r.Ke(function(i){const a=tf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Be()}rn(e,t,r){if(null===r)return[];let i=[];i.push(new Uv);let a=0;for(const c of tf(e)){const f=r[a++];for(const _ of i)if(this.fn(t,c.fieldPath)&&Iv(f))i=this.dn(i,c,f);else{const w=_.Ke(c.kind);mf.Ee.ae(f,w)}}return this._n(i)}sn(e,t,r){return this.rn(e,t,r.position)}_n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Be();return t}dn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new Uv;_.seed(f.Be()),mf.Ee.ae(c,_.Ke(t.kind)),a.push(_)}return a}fn(e,t){return!!e.filters.find(r=>r instanceof En&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=qC(e),i=Hv(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return le.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(w,I){const S=I?new yv(I.sequenceNumber,new wo(pf(I.readTime),new it(pl(I.documentKey)),I.largestBatchId)):yv.empty(),P=w.fields.map(([j,G])=>new SC(Br.fromServerFormat(j),G));return new TC(w.indexId,w.collectionGroup,P,S)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:cn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=qC(e),a=Hv(e);return this.wn(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>le.forEach(f,_=>a.put(N1(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?le.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),le.forEach(f,_=>this.mn(e,i,_).next(w=>{const I=this.gn(a,_);return w.isEqual(I)?le.resolve():this.yn(e,a,_,w,I)}))))})}pn(e,t,r,i){return jv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.ln(r,t.key),documentKey:t.key.path.toArray()})}In(e,t,r,i){return jv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.ln(r,t.key),t.key.path.toArray()])}mn(e,t,r){const i=jv(e);let a=new er(cd);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,t)])},(c,f)=>{a=a.add(new _f(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}gn(e,t){let r=new er(cd);const i=this.hn(t,e);if(null==i)return r;const a=zM(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Iv(c))for(const f of c.arrayValue.values||[])r=r.add(new _f(t.indexId,e.key,this.un(f),i))}else r=r.add(new _f(t.indexId,e.key,GC,i));return r}yn(e,t,r,i,a){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,w,I,S){const P=f.getIterator(),j=_.getIterator();let G=qg(P),re=qg(j);for(;G||re;){let Ie=!1,dt=!1;if(G&&re){const It=w(G,re);It<0?dt=!0:It>0&&(Ie=!0)}else null!=G?dt=!0:Ie=!0;Ie?(I(re),re=qg(j)):dt?(S(G),G=qg(P)):(G=qg(P),re=qg(j))}}(i,a,cd,f=>{c.push(this.pn(e,t,r,f))},f=>{c.push(this.In(e,t,r,f))}),le.waitFor(c)}wn(e){let t=1;return Hv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>cd(c,f)).filter((c,f,_)=>!f||0!==cd(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=cd(c,e),_=cd(c,t);if(0===f)i[0]=e.Ge();else if(f>0&&_<0)i.push(c),i.push(c.Ge());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.Tn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,GC,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,GC,[]]))}return a}Tn(e,t){return cd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($1)}getMinOffset(e,t){return le.mapArray(this.en(t),r=>this.nn(e,r).next(i=>i||wt())).next($1)}}function z1(n){return Oi(n,"collectionParents")}function jv(n){return Oi(n,"indexEntries")}function qC(n){return Oi(n,"indexConfiguration")}function Hv(n){return Oi(n,"indexState")}function $1(n){Lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;$M(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new wo(e.readTime,e.documentKey,t)}const G1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qs(e,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function q1(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.X({range:c},(I,S,P)=>(f++,P.delete()));a.push(_.next(()=>{Lt(1===f)}));const w=[];for(const I of t.mutations){const S=S1(e,I.key.path,t.batchId);a.push(i.delete(S)),w.push(I.key)}return le.waitFor(a).next(()=>w)}function WC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw wt();e=n.noDocument}return JSON.stringify(e).length}Qs.DEFAULT_COLLECTION_PERCENTILE=10,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qs.DEFAULT=new Qs(41943040,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qs.DISABLED=new Qs(-1,0,0);class ZC{constructor(e,t,r,i){this.userId=e,this.Tt=t,this.indexManager=r,this.referenceDelegate=i,this.En={}}static ue(e,t,r,i){Lt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new ZC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ud(e).X({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=em(e),c=ud(e);return c.add({}).next(f=>{Lt("number"==typeof f);const _=new dA(f,t,r,i),w=function(P,j,G){const re=G.baseMutations.map(dt=>Lv(P.oe,dt)),Ie=G.mutations.map(dt=>Lv(P.oe,dt));return{userId:j,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:re,mutations:Ie}}(this.Tt,this.userId,_),I=[];let S=new er((P,j)=>cn(P.canonicalString(),j.canonicalString()));for(const P of i){const j=S1(this.userId,P.key.path,f);S=S.add(P.key.path.popLast()),I.push(c.put(w)),I.push(a.put(j,xj))}return S.forEach(P=>{I.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.En[f]=_.keys()}),le.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return ud(e).get(t).next(r=>r?(Lt(r.userId===this.userId),gf(this.Tt,r)):null)}An(e,t){return this.En[t]?le.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.En[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return ud(e).X({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(Lt(f.batchId>=r),a=gf(this.Tt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ud(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ud(e).W("userMutationsIndex",t).next(r=>r.map(i=>gf(this.Tt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=jC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return em(e).X({range:i},(c,f,_)=>{const[w,I,S]=c,P=pl(I);if(w===this.userId&&t.path.isEqual(P))return ud(e).get(S).next(j=>{if(!j)throw wt();Lt(j.userId===this.userId),a.push(gf(this.Tt,j))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(cn);const i=[];return t.forEach(a=>{const c=jC(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=em(e).X({range:f},(w,I,S)=>{const[P,j,G]=w,re=pl(j);P===this.userId&&a.path.isEqual(re)?r=r.add(G):S.done()});i.push(_)}),le.waitFor(i).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=jC(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new er(cn);return em(e).X({range:c},(_,w,I)=>{const[S,P,j]=_,G=pl(P);S===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(j)):I.done()}).next(()=>this.Rn(e,f))}Rn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(ud(e).get(a).next(c=>{if(null===c)throw wt();Lt(c.userId===this.userId),r.push(gf(this.Tt,c))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return q1(e.re,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.bn(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}bn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return em(e).X({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=pl(a[1]);i.push(_)}else f.done()}).next(()=>{Lt(0===i.length)})})}containsKey(e,t){return W1(e,this.userId,t)}vn(e){return Z1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function W1(n,e,t){const r=jC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return em(n).X({range:a,Z:!0},(f,_,w)=>{const[I,S,P]=f;I===e&&S===i&&(c=!0),w.done()}).next(()=>c)}function ud(n){return Oi(n,"mutations")}function em(n){return Oi(n,"documentMutations")}function Z1(n){return Oi(n,"mutationQueues")}class yf{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new yf(0)}static Sn(){return new yf(-1)}}class rH{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const r=new yf(t.highestTargetId);return t.highestTargetId=r.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Bt.fromTimestamp(new Ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Dn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Cn(e,i)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(t,r),this.Cn(e,r))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tm(e).delete(t.targetId)).next(()=>this.Dn(e)).next(r=>(Lt(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return tm(e).X((c,f)=>{const _=Bv(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>le.waitFor(a)).next(()=>i)}forEachTarget(e,t){return tm(e).X((r,i)=>{const a=Bv(i);t(a)})}Dn(e){return K1(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}Cn(e,t){return K1(e).put("targetGlobalKey",t)}xn(e,t){return tm(e).put(R1(this.Tt,t))}Nn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return tm(e).X({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const w=Bv(f);Tv(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=dd(e);return t.forEach(c=>{const f=vs(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=dd(e);return le.forEach(t,a=>{const c=vs(a.path);return le.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=dd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=dd(e);let a=fn();return i.X({range:r,Z:!0},(c,f,_)=>{const w=pl(c[1]),I=new it(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=vs(t.path),i=IDBKeyRange.bound([r],[uN(r)],!1,!0);let a=0;return dd(e).X({index:"documentTargetsIndex",Z:!0,range:i},([c,f],_,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}ie(e,t){return tm(e).get(t).next(r=>r?Bv(r):null)}}function tm(n){return Oi(n,"targets")}function K1(n){return Oi(n,"targetGlobal")}function dd(n){return Oi(n,"targetDocuments")}function Y1([n,e],[t,r]){const i=cn(n,t);return 0===i?cn(e,r):i}class iH{constructor(e){this.kn=e,this.buffer=new er(Y1),this.On=0}Mn(){return++this.On}Fn(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Y1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sH{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.$n=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return null!==this.$n}Bn(e){var t=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.$n=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ed(r)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ju(r)}yield t.Bn(3e5)}))}}class oH{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(Eo.at);const r=new iH(t);return this.Ln.forEachTarget(e,i=>r.Fn(i.sequenceNumber)).next(()=>this.Ln.Un(e,i=>r.Fn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Ln.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(G1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G1):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let r,i,a,c,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,c=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(a=S,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(w=Date.now(),jM()<=Ku.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-I}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${S} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:S})))}}class aH{constructor(e,t){this.db=e,this.garbageCollector=new oH(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Gn(e){let t=0;return this.Un(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(r,i)=>t(i))}addReference(e,t,r){return KC(e,r)}removeReference(e,t,r){return KC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return KC(e,t)}jn(e,t){return function(r,i){let a=!1;return Z1(r).tt(c=>W1(r,c,i).next(f=>(f&&(a=!0),le.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Qn(e,(c,f)=>{if(f<=t){const _=this.jn(e,c).next(w=>{if(!w)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Bt.min()),dd(e).delete([0,vs(c.path)])))});i.push(_)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return KC(e,t)}Qn(e,t){const r=dd(e);let i,a=Eo.at;return r.X({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:w})=>{0===c?(a!==Eo.at&&t(new it(pl(i)),a),a=w,i=_):a=Eo.at}).next(()=>{a!==Eo.at&&t(new it(pl(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function KC(n,e){return dd(n).put((r=n.currentSequenceNumber,{targetId:0,path:vs(e.path),sequenceNumber:r}));var r}class Q1{constructor(){this.changes=new od(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lH{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return vf(e).put(r)}removeEntry(e,t,r){return vf(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],HC(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.zn(e,r)))}getEntry(e,t){let r=mr.newInvalidDocument(t);return vf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zv(t))},(i,a)=>{r=this.Wn(t,a)}).next(()=>r)}Hn(e,t){let r={size:0,document:mr.newInvalidDocument(t)};return vf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zv(t))},(i,a)=>{r={document:this.Wn(t,a),size:WC(a)}}).next(()=>r)}getEntries(e,t){let r=Ys();return this.Jn(e,t,(i,a)=>{const c=this.Wn(i,a);r=r.insert(i,c)}).next(()=>r)}Yn(e,t){let r=Ys(),i=new Ur(it.comparator);return this.Jn(e,t,(a,c)=>{const f=this.Wn(a,c);r=r.insert(a,f),i=i.insert(a,WC(c))}).next(()=>({documents:r,Zn:i}))}Jn(e,t,r){if(t.isEmpty())return le.resolve();let i=new er(tF);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(zv(i.first()),zv(i.last())),c=i.getIterator();let f=c.getNext();return vf(e).X({index:"documentKeyIndex",range:a},(_,w,I)=>{const S=it.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&tF(f,S)<0;)r(f,null),f=c.getNext();f&&f.isEqual(S)&&(r(f,w),f=c.hasNext()?c.getNext():null),f?I.j(zv(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),HC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vf(e).W(IDBKeyRange.bound(c,f,!0)).next(_=>{let w=Ys();for(const I of _){const S=this.Wn(it.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);S.isFoundDocument()&&(Mv(t,S)||i.has(S.key))&&(w=w.insert(S.key,S))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=Ys();const c=eF(t,r),f=eF(t,wo.max());return vf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,w,I)=>{const S=this.Wn(it.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(S.key,S),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new cH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return J1(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}zn(e,t){return J1(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const r=function Wj(n,e){let t;if(e.document)t=v1(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=it.fromSegments(e.noDocument.path),i=pf(e.noDocument.readTime);t=mr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wt();{const r=it.fromSegments(e.unknownDocument.path),i=pf(e.unknownDocument.version);t=mr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ir(r[0],r[1]);return Bt.fromTimestamp(i)}(e.readTime)),t}(this.Tt,t);if(!r.isNoDocument()||!r.version.isEqual(Bt.min()))return r}return mr.newInvalidDocument(e)}}function X1(n){return new lH(n)}class cH extends Q1{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new od(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new er((a,c)=>cn(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.ts.get(a);if(t.push(this.Xn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=k1(this.Xn.Tt,c);i=i.add(a.path.popLast());const w=WC(_);r+=w-f.size,t.push(this.Xn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=k1(this.Xn.Tt,c.convertToNoDocument(Bt.min()));t.push(this.Xn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Xn.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(r=>(this.ts.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:r,Zn:i})=>(i.forEach((a,c)=>{this.ts.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function J1(n){return Oi(n,"remoteDocumentGlobal")}function vf(n){return Oi(n,"remoteDocumentsV14")}function zv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eF(n,e){const t=e.documentKey.path.toArray();return[n,HC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tF(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=cn(t[a],r[a]),i)return i;return i=cn(t.length,r.length),i||(i=cn(t[t.length-2],r[r.length-2]),i||cn(t[t.length-1],r[r.length-1]))}class uH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&xv(r.mutation,i,Ks.empty(),Ir.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fn()){const i=hl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=Ov();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=hl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=Ys();const c=kv(),f=kv();return t.forEach((_,w)=>{const I=r.get(w.key);i.has(w.key)&&(void 0===I||I.mutation instanceof Sc)?a=a.insert(w.key,w):void 0!==I?(c.set(w.key,I.mutation.getFieldMask()),xv(I.mutation,w,I.mutation.getFieldMask(),Ir.now())):c.set(w.key,Ks.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>c.set(w,I)),t.forEach((w,I)=>{var S;return f.set(w,new uH(I,null!==(S=c.get(w))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=kv();let i=new Ur((c,f)=>c-f),a=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=r.get(_)||Ks.empty();I=f.applyToLocalView(w,I),r.set(_,I);const S=(i.get(f.batchId)||fn()).add(_);i=i.insert(f.batchId,S)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,S=l1();I.forEach(P=>{if(!a.has(P)){const j=XN(t.get(P),r.get(P));null!==j&&S.set(P,j),a=a.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,S))}return le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return it.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):nA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):le.resolve(hl());let f=-1,_=a;return c.next(w=>le.forEach(w,(I,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(I)?le.resolve():this.remoteDocumentCache.getEntry(e,I).next(P=>{_=_.insert(I,P)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,fn())).next(I=>({batchId:f,changes:a1(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next(r=>{let i=Ov();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Ov();return this.indexManager.getCollectionParents(e,i).next(c=>le.forEach(c,f=>{const _=(w=t,I=f.child(i),new Tc(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((I,S)=>{a=a.insert(I,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,mr.newInvalidDocument(w)))});let c=Ov();return a.forEach((f,_)=>{const w=i.get(f);void 0!==w&&xv(w.mutation,_,Ks.empty(),Ir.now()),Mv(t,_)&&(c=c.insert(f,_))}),c})}}class dH{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return le.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:Qr(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:pA(r.bundledQuery),readTime:Qr(r.readTime)}),le.resolve();var r}}class hH{constructor(){this.overlays=new Ur(it.comparator),this.ss=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=hl();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ce(e,t,a)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ss.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ss.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=hl(),a=t.length+1,c=new it(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ur((w,I)=>w-I);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=hl(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=hl(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return le.resolve(f)}ce(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new fA(t,r));let a=this.ss.get(t);void 0===a&&(a=fn(),this.ss.set(t,a)),this.ss.set(t,a.add(r.key))}}class wA{constructor(){this.rs=new er(ki.os),this.us=new er(ki.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new ki(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new ki(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new it(new xn([])),r=new ki(t,e),i=new ki(t,e+1),a=[];return this.us.forEachInRange([r,i],c=>{this.ls(c),a.push(c.key)}),a}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new it(new xn([])),r=new ki(t,e),i=new ki(t,e+1);let a=fn();return this.us.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new ki(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ki{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return it.comparator(e.key,t.key)||cn(e.gs,t.gs)}static cs(e,t){return cn(e.gs,t.gs)||it.comparator(e.key,t.key)}}class fH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new er(ki.os)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ys;this.ys++;const c=new dA(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.ps=this.ps.add(new ki(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ts(t+1),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ki(t,0),i=new ki(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],c=>{const f=this.Is(c.gs);a.push(f)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(cn);return t.forEach(i=>{const a=new ki(i,0),c=new ki(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([a,c],f=>{r=r.add(f.gs)})}),le.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;it.isDocumentKey(a)||(a=a.child(""));const c=new ki(new it(a),0);let f=new er(cn);return this.ps.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.gs)),!0)},c),le.resolve(this.Es(f))}Es(e){const t=[];return e.forEach(r=>{const i=this.Is(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Lt(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return le.forEach(t.mutations,i=>{const a=new ki(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}bn(e){}containsKey(e,t){const r=new ki(t,0),i=this.ps.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pH{constructor(e){this.Rs=e,this.docs=new Ur(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(t))}getEntries(e,t){let r=Ys();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():mr.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ys();const c=t.path,f=new it(c.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:I}}=_.getNext();if(!c.isPrefixOf(w.path))break;w.path.length>c.length+1||$M(hN(I),r)<=0||(i.has(I.key)||Mv(t,I))&&(a=a.insert(I.key,I.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,t,r,i){wt()}bs(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gH(this)}getSize(e){return le.resolve(this.size)}}class gH extends Q1{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class mH{constructor(e){this.persistence=e,this.vs=new od(t=>cf(t),Tv),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new wA,this.targetCount=0,this.Ss=yf.Vn()}forEachTarget(e,t){return this.vs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ps&&(this.Ps=t),le.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new yf(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.xn(t),le.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.vs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.vs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.Vs.containsKey(t))}}class rF{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Eo(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new mH(this),this.indexManager=new tH,this.remoteDocumentCache=new pH(r=>this.referenceDelegate.ks(r)),this.Tt=new O1(t),this.Os=new dH(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new fH(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new _H(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(a=>this.referenceDelegate.Fs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}$s(e,t){return le.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class _H extends pN{constructor(e){super(),this.currentSequenceNumber=e}}class YC{constructor(e){this.persistence=e,this.Bs=new wA,this.Ls=null}static qs(e){return new YC(e)}get Us(){if(this.Ls)return this.Ls;throw wt()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),le.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Us.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Fs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Us,r=>{const i=it.fromPath(r);return this.Ks(e,i).next(a=>{a||t.removeEntry(i,Bt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return le.or([()=>le.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.$s(e,t)])}}class yH{constructor(e){this.Tt=e}$(e,t,r,i){const a=new MC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T1,{unique:!0}),f.createObjectStore("documentMutations"),iF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=le.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),iF(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T1,{unique:!0});const I=_.store("mutations"),S=w.map(P=>I.put(P));return le.waitFor(S)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Gs(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(a)))),r<7&&i>=7&&(c=c.next(()=>this.js(a))),r<8&&i>=8&&(c=c.next(()=>this.zs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Ws(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:Hj});_.createIndex("collectionPathOverlayIndex",zj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",$j,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Oj});_.createIndex("documentKeyIndex",kj),_.createIndex("collectionGroupIndex",Rj)}(e)).next(()=>this.Hs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Js(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Bj}).createIndex("sequenceNumberIndex",Vj,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Uj}).createIndex("documentKeyIndex",jj,{unique:!1})}(e))),c}Qs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=WC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>le.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(f=>le.forEach(f,_=>{Lt(_.userId===a.userId);const w=gf(this.Tt,_);return q1(e,a.userId,w).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((c,f)=>{const _=new xn(c),w=[0,vs(_)];a.push(t.get(w).next(I=>I?le.resolve():t.put({targetId:0,path:vs(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(a))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:Lj});const r=t.store("collectionParents"),i=new bA,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:vs(_)})}};return t.store("remoteDocuments").X({Z:!0},(c,f)=>{const _=new xn(c);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([c,f,_],w)=>{const I=pl(f);return a(I.popLast())}))}Ws(e){const t=e.store("targets");return t.X((r,i)=>{const a=Bv(i),c=R1(this.Tt,a);return t.put(c)})}Hs(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(w=c,w.document?new it(xn.fromString(w.document.name).popFirst(5)):w.noDocument?it.fromSegments(w.noDocument.path):w.unknownDocument?it.fromSegments(w.unknownDocument.path):wt()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(I))}).next(()=>le.waitFor(i))}Js(e,t){const r=t.store("mutations"),i=X1(this.Tt),a=new rF(YC.qs,this.Tt.oe);return r.W().next(c=>{const f=new Map;return c.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:fn();gf(this.Tt,_).keys().forEach(S=>I=I.add(S)),f.set(_.userId,I)}),le.forEach(f,(_,w)=>{const I=new Ai(w),S=zC.ue(this.Tt,I),P=a.getIndexManager(I),j=ZC.ue(I,this.Tt,P,a.referenceDelegate);return new nF(i,j,S,P).recalculateAndSaveOverlaysForDocumentKeys(new uA(t,Eo.at),_).next()})})}}function iF(n){n.createObjectStore("targetDocuments",{keyPath:Nj}).createIndex("documentTargetsIndex",Fj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pj,{unique:!0}),n.createObjectStore("targetGlobal")}const EA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CA{constructor(e,t,r,i,a,c,f,_,w,I,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ys=a,this.window=c,this.document=f,this.Zs=w,this.Xs=I,this.ti=S,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=P=>Promise.resolve(),!CA.C())throw new Fe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aH(this,i),this.oi=t+"main",this.Tt=new O1(_),this.ui=new xa(this.oi,this.ti,new yH(this.Tt)),this.Ns=new rH(this.referenceDelegate,this.Tt),this.remoteDocumentCache=X1(this.Tt),this.Os=new Zj,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===I&&Yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(fe.FAILED_PRECONDITION,EA);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Eo(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var r=(0,Te.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>QC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(ed(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return $v(e).get("owner").next(t=>le.resolve(this.yi(t)))}pi(e){return QC(e).delete(this.clientId)}Ii(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Oi(r,"clientMetadata");return i.W().next(a=>{const c=e.Ei(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return le.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ci)for(const r of t)e.ci.removeItem(e.Ai(r.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?le.resolve(!0):$v(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new Fe(fe.FAILED_PRECONDITION,EA);return!1}}return!(!this.networkEnabled||!this.inForeground)||QC(e).W().next(r=>void 0===this.Ei(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.xs=!1,e.bi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.Pi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new uA(t,Eo.at);return e.mi(r).next(()=>e.pi(r))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(r=>this.Ti(r.updateTimeMs,t)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>QC(e).W().next(t=>this.Ei(t,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return ZC.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nH(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return zC.ue(this.Tt,e)}getBundleCache(){return this.Os}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.ti)?qj:14===c?x1:13===c?A1:12===c?Gj:11===c?M1:void wt();var c;let f;return this.ui.runTransaction(e,i,a,_=>(f=new uA(_,this.Cs?this.Cs.next():Eo.at),"readwrite-primary"===t?this._i(f).next(w=>!!w||this.wi(f)).next(w=>{if(!w)throw Yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Fe(fe.FAILED_PRECONDITION,fN);return r(f)}).next(w=>this.gi(f).next(()=>w)):this.Di(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Di(e){return $v(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(fe.FAILED_PRECONDITION,EA)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $v(e).put("owner",t)}static C(){return xa.C()}mi(e){const t=$v(e);return t.get("owner").next(r=>this.yi(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Ti(e,t){const r=Date.now();return!(e<r-t||e>r&&(Yr(`Detected an update time that is in the future: ${e} > ${r}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.bi(),(0,Bn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const r=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){Yr("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $v(n){return Oi(n,"owner")}function QC(n){return Oi(n,"clientMetadata")}function IA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class DA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=i}static Ni(e,t){let r=fn(),i=fn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new DA(e,t.fromCache,r,i)}}class sF{constructor(){this.ki=!1}initialize(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Mi(e,t).next(a=>a||this.Fi(e,t,i,r)).next(a=>a||this.$i(e,t))}Mi(e,t){if(UN(t))return le.resolve(null);let r=ys(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=NC(t,null,"F"),r=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=fn(...a);return this.Oi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.Bi(t,f);return this.Li(t,w,c,_.readTime)?this.Mi(e,NC(t,null,"F")):this.qi(e,w,t,_)}))})))}Fi(e,t,r,i){return UN(t)||i.isEqual(Bt.min())?this.$i(e,t):this.Oi.getDocuments(e,r).next(a=>{const c=this.Bi(t,a);return this.Li(t,c,r,i)?this.$i(e,t):(jM()<=Ku.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iA(t)),this.qi(e,c,t,dN(i,-1)))})}Bi(e,t){let r=new er(zN(e));return t.forEach((i,a)=>{Mv(e,a)&&(r=r.add(a))}),r}Li(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}$i(e,t){return jM()<=Ku.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",iA(t)),this.Oi.getDocumentsMatchingQuery(e,t,wo.min())}qi(e,t,r,i){return this.Oi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class vH{constructor(e,t,r,i){this.persistence=e,this.Ui=t,this.Tt=i,this.Ki=new Ur(cn),this.Gi=new od(a=>cf(a),Tv),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nF(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function oF(n,e,t,r){return new vH(n,e,t,r)}function aF(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Te.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=fn();for(const w of i){c.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(r,_).next(w=>({Wi:w,removedBatchIds:c,addedBatchIds:f}))})})}),TA.apply(this,arguments)}function lF(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function cF(n,e,t){let r=fn(),i=fn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=Ys();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Bt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Hi:c,Ji:i}})}function EH(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nm(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ns.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):t.Ns.allocateTargetId(r).next(c=>(i=new ld(e,c,0,r.currentSequenceNumber),t.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ki.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}function rm(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,Te.Z)(function*(n,e,t){const r=ut(n),i=r.Ki.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!ed(c))throw c;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}),SA.apply(this,arguments)}function XC(n,e,t){const r=ut(n);let i=Bt.min(),a=fn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,w){const I=ut(f),S=I.Gi.get(w);return void 0!==S?le.resolve(I.Ki.get(S)):I.Ns.getTargetData(_,w)}(r,c,ys(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.Ui.getDocumentsMatchingQuery(c,e,t?i:Bt.min(),t?a:fn())).next(f=>(hF(r,HN(e),f),{documents:f,Yi:a})))}function uF(n,e){const t=ut(n),r=ut(t.Ns),i=t.Ki.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ie(a,e).next(c=>c?c.target:null))}function dF(n,e){const t=ut(n),r=t.Qi.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ji.getAllFromCollectionGroup(i,e,dN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(hF(t,e,i),i))}function hF(n,e,t){let r=n.Qi.get(e)||Bt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Qi.set(e,r)}function MA(){return MA=(0,Te.Z)(function*(n,e,t,r){const i=ut(n);let a=fn(),c=Ys();for(const w of t){const I=e.Zi(w.metadata.name);w.document&&(a=a.add(I));const S=e.Xi(w);S.setReadTime(e.tr(w.metadata.readTime)),c=c.insert(I,S)}const f=i.ji.newChangeBuffer({trackRemovals:!0}),_=yield nm(i,(w=r,ys(Wg(xn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>cF(w,f,c).next(I=>(f.apply(w),I)).next(I=>i.Ns.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Ns.addMatchingKeys(w,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,I.Hi,I.Ji)).next(()=>I.Hi)))}),MA.apply(this,arguments)}function IH(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,Te.Z)(function*(n,e,t=fn()){const r=yield nm(n,ys(pA(e.bundledQuery))),i=ut(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Qr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Os.saveNamedQuery(a,e);const f=r.withResumeToken(yi.EMPTY_BYTE_STRING,c);return i.Ki=i.Ki.insert(f.targetId,f),i.Ns.updateTargetData(a,f).next(()=>i.Ns.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Ns.addMatchingKeys(a,t,r.targetId)).next(()=>i.Os.saveNamedQuery(a,e))})}),AA.apply(this,arguments)}function fF(n,e){return`firestore_clients_${n}_${e}`}function pF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function xA(n,e){return`firestore_targets_${n}_${e}`}class JC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static er(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Fe(i.error.code,i.error.message))),c?new JC(e,t,i.state,a):(Yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static er(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Fe(r.error.code,r.error.message))),a?new Gv(e,r.state,i):(Yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=VC();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=yN(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new eI(e,a):(Yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class OA{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new OA(t.clientId,t.onlineState):(Yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kA{constructor(){this.activeTargetIds=VC()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RA{constructor(e,t,r,i,a){this.window=e,this.Ys=t,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Ur(cn),this.started=!1,this.hr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=fF(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new kA),this._r=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.Si();for(const i of t){if(i===e.rr)continue;const a=e.getItem(fF(e.persistenceKey,i));if(a){const c=eI.er(i,a);c&&(e.ar=e.ar.insert(c.clientId,c))}}e.pr();const r=e.storage.getItem(e.gr);if(r){const i=e.Ir(r);i&&e.Tr(i)}for(const i of e.hr)e.cr(i);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,r){this.Ar(e,t,r),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(xA(this.persistenceKey,e));if(r){const i=Gv.er(e,r);i&&(t=i.state)}}return this.br.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.br.ir(e),this.pr()}isLocalQueryTarget(e){return this.br.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xA(this.persistenceKey,e))}updateQueryState(e,t,r){this.vr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Rr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.lr)return void Yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t._r.test(r.key)){if(null==r.newValue){const i=t.Sr(r.key);return t.Dr(i,null)}{const i=t.Cr(r.key,r.newValue);if(i)return t.Dr(i.clientId,i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(t.mr.test(r.key)){if(null!==r.newValue){const i=t.Or(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.gr){if(null!==r.newValue){const i=t.Ir(r.newValue);if(i)return t.Tr(i)}}else if(r.key===t.dr){const i=function(a){let c=Eo.at;if(null!=a)try{const f=JSON.parse(a);Lt("number"==typeof f),c=f}catch(f){Yr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Eo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.yr){const i=t.Fr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.$r(a)))}}else t.hr.push(r)}))}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(e,t,r){const i=new JC(this.currentUser,e,t,r),a=pF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.nr())}Rr(e){const t=pF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,r){const i=xA(this.persistenceKey,e),a=new Gv(e,t,r);this.setItem(i,a.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const r=this.Sr(e);return eI.er(r,t)}Nr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return JC.er(new Ai(void 0!==r[2]?r[2]:null),i,t)}Or(e,t){const r=this.mr.exec(e),i=Number(r[1]);return Gv.er(i,t)}Ir(e){return OA.er(e)}Fr(e){return JSON.parse(e)}kr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.qr(c,f).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=VC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class gF{constructor(){this.Ur=new kA,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new kA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DH{Gr(e){}shutdown(){}}class mF{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const TH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SH{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class MH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,i,a){const c=this.fo(e,t);Ge("RestConnection","Sending: ",c,r);const f={};return this._o(f,i,a),this.wo(e,c,f,r).then(_=>(Ge("RestConnection","Received: ",_),_),_=>{throw ef("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}mo(e,t,r,i,a,c){return this.lo(e,t,r,i,a)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}fo(e,t){return`${this.co}/v1/${t}:${TH[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,i){return new Promise((a,c)=>{const f=new IU;f.setWithCredentials(!0),f.listenOnce(wU.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case UM.NO_ERROR:const w=f.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(w)),a(w);break;case UM.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),c(new Fe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case UM.HTTP_ERROR:const I=f.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S?.error;if(P&&P.status&&P.message){const j=function(G){const re=G.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(re)>=0?re:fe.UNKNOWN}(P.status);c(new Fe(j,P.message))}else c(new Fe(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Fe(fe.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}yo(e,t,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vU(),c=bU(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new CU({})),this._o(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=i.join("");Ge("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,S=!1;const P=new SH({Yr:G=>{S?Ge("Connection","Not sending because WebChannel is closed:",G):(I||(Ge("Connection","Opening WebChannel transport."),w.open(),I=!0),Ge("Connection","WebChannel sending:",G),w.send(G))},Zr:()=>w.close()}),j=(G,re,Ie)=>{G.listen(re,dt=>{try{Ie(dt)}catch(It){setTimeout(()=>{throw It},0)}})};return j(w,DC.EventType.OPEN,()=>{S||Ge("Connection","WebChannel transport opened.")}),j(w,DC.EventType.CLOSE,()=>{S||(S=!0,Ge("Connection","WebChannel transport closed"),P.oo())}),j(w,DC.EventType.ERROR,G=>{S||(S=!0,ef("Connection","WebChannel transport errored:",G),P.oo(new Fe(fe.UNAVAILABLE,"The operation could not be completed")))}),j(w,DC.EventType.MESSAGE,G=>{var re;if(!S){const Ie=G.data[0];Lt(!!Ie);const It=Ie.error||(null===(re=Ie[0])||void 0===re?void 0:re.error);if(It){Ge("Connection","WebChannel received error:",It);const St=It.status;let Dt=function(Zt){const Tn=ri[Zt];if(void 0!==Tn)return s1(Tn)}(St),zt=It.message;void 0===Dt&&(Dt=fe.INTERNAL,zt="Unknown error status: "+St+" with message "+It.message),S=!0,P.oo(new Fe(Dt,zt)),w.close()}else Ge("Connection","WebChannel received:",Ie),P.uo(Ie)}}),j(c,EU.STAT_EVENT,G=>{G.stat===sN.PROXY?Ge("Connection","Detected buffering proxy"):G.stat===sN.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ro()},0),P}}function _F(){return typeof window<"u"?window:null}function tI(){return typeof document<"u"?document:null}function qv(n){return new vj(n,!0)}class PA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class yF{constructor(e,t,r,i,a,c,f,_){this.Ys=e,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new PA(e,t)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return(0,Te.Z)(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,Te.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),r.ko.bo()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===t&&this.jo(r,i)},r=>{e(()=>{const i=new Fe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){var e=this;this.state=5,this.ko.vo((0,Te.Z)(function*(){e.state=0,e.start()}))}zo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AH extends yF{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.Tt=a}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function Ej(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:wt(),i=e.targetChange.targetIds||[],a=function(_,w){return _.yt?(Lt(void 0===w||"string"==typeof w),yi.fromBase64String(w||"")):(Lt(void 0===w||w instanceof Uint8Array),yi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const w=void 0===_.code?fe.UNKNOWN:s1(_.code);return new Fe(w,_.message||"")}(c);t=new u1(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=fl(n,r.document.name),a=Qr(r.document.updateTime),c=r.document.createTime?Qr(r.document.createTime):Bt.min(),f=new xi({mapValue:{fields:r.document.fields}}),_=mr.newFoundDocument(i,a,c,f);t=new UC(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=fl(n,r.document),a=r.readTime?Qr(r.readTime):Bt.min(),c=mr.newNoDocument(i,a);t=new UC([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=fl(n,r.document);t=new UC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return wt();{const r=e.filter,a=new uj(r.count||0);t=new c1(r.targetId,a)}}var _;return t}(this.Tt,e),r=function(i){if(!("targetChange"in i))return Bt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Bt.min():a.readTime?Qr(a.readTime):Bt.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=Fv(this.Tt),t.addTarget=function(i,a){let c;const f=a.target;return c=kC(f)?{documents:b1(i,f)}:{query:cA(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=p1(i,a.resumeToken):a.snapshotVersion.compareTo(Bt.min())>0&&(c.readTime=Xg(i,a.snapshotVersion.toTimestamp())),c}(this.Tt,e);const r=function Ij(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=Fv(this.Tt),t.removeTarget=e,this.qo(t)}}class xH extends yF{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.Tt=a,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function Cj(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(r,i){let a=Qr(r.updateTime?r.updateTime:i);return a.isEqual(Bt.min())&&(a=Qr(i)),new aj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.eu(r,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Fv(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lv(this.Tt,r))};this.qo(t)}}class OH extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new Fe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.lo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(fe.UNKNOWN,i.toString())})}mo(e,t,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.mo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(fe.UNKNOWN,a.toString())})}terminate(){this.iu=!0}}class RH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Yr(t),this.cu=!1):Ge("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class PH{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr(f=>{r.enqueueAndForget((0,Te.Z)(function*(){var _;Mc(c)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Te.Z)(function*(w){const I=ut(w);I.mu.add(4),yield im(I),I.pu.set("Unknown"),I.mu.delete(4),yield Wv(I)}),function(w){return _.apply(this,arguments)})(c))}))}),this.pu=new RH(r,i)}}function Wv(n){return FA.apply(this,arguments)}function FA(){return FA=(0,Te.Z)(function*(n){if(Mc(n))for(const e of n.gu)yield e(!0)}),FA.apply(this,arguments)}function im(n){return LA.apply(this,arguments)}function LA(){return LA=(0,Te.Z)(function*(n){for(const e of n.gu)yield e(!1)}),LA.apply(this,arguments)}function nI(n,e){const t=ut(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),UA(t)?VA(t):om(t).Mo()&&BA(t,e))}function Zv(n,e){const t=ut(n),r=om(t);t.wu.delete(e),r.Mo()&&vF(t,e),0===t.wu.size&&(r.Mo()?r.Bo():Mc(t)&&t.pu.set("Unknown"))}function BA(n,e){n.Iu.Ft(e.targetId),om(n).Jo(e)}function vF(n,e){n.Iu.Ft(e),om(n).Yo(e)}function VA(n){n.Iu=new gj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),om(n).start(),n.pu.au()}function UA(n){return Mc(n)&&!om(n).Oo()&&n.wu.size>0}function Mc(n){return 0===ut(n).mu.size}function bF(n){n.Iu=void 0}function NH(n){return jA.apply(this,arguments)}function jA(){return jA=(0,Te.Z)(function*(n){n.wu.forEach((e,t)=>{BA(n,e)})}),jA.apply(this,arguments)}function FH(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,Te.Z)(function*(n,e){bF(n),UA(n)?(n.pu.fu(e),VA(n)):n.pu.set("Unknown")}),HA.apply(this,arguments)}function LH(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,Te.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof u1&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.wu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.wu.delete(f),i.Iu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rI(n,r)}else if(e instanceof UC?n.Iu.Qt(e):e instanceof c1?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(Bt.min()))try{const r=yield lF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.Iu.ee(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.wu.get(_);w&&i.wu.set(_,w.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.wu.get(f);if(!_)return;i.wu.set(f,_.withResumeToken(yi.EMPTY_BYTE_STRING,_.snapshotVersion)),vF(i,f);const w=new ld(_.target,f,1,_.sequenceNumber);BA(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield rI(n,r)}var r}),zA.apply(this,arguments)}function rI(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,Te.Z)(function*(n,e,t){if(!ed(e))throw e;n.mu.add(1),yield im(n),n.pu.set("Offline"),t||(t=()=>lF(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield Wv(n)}))}),$A.apply(this,arguments)}function wF(n,e){return e().catch(t=>rI(n,t,e))}function sm(n){return GA.apply(this,arguments)}function GA(){return GA=(0,Te.Z)(function*(n){const e=ut(n),t=hd(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;BH(e);)try{const i=yield EH(e.localStore,r);if(null===i){0===e._u.length&&t.Bo();break}r=i.batchId,VH(e,i)}catch(i){yield rI(e,i)}EF(e)&&CF(e)}),GA.apply(this,arguments)}function BH(n){return Mc(n)&&n._u.length<10}function VH(n,e){n._u.push(e);const t=hd(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function EF(n){return Mc(n)&&!hd(n).Oo()&&n._u.length>0}function CF(n){hd(n).start()}function UH(n){return qA.apply(this,arguments)}function qA(){return qA=(0,Te.Z)(function*(n){hd(n).su()}),qA.apply(this,arguments)}function jH(n){return WA.apply(this,arguments)}function WA(){return WA=(0,Te.Z)(function*(n){const e=hd(n);for(const t of n._u)e.tu(t.mutations)}),WA.apply(this,arguments)}function HH(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Te.Z)(function*(n,e,t){const r=n._u.shift(),i=hA.from(r,e,t);yield wF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield sm(n)}),ZA.apply(this,arguments)}function zH(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,Te.Z)(function*(n,e){var t;e&&hd(n).Xo&&(yield(t=(0,Te.Z)(function*(r,i){if(r1(a=i.code)&&a!==fe.ABORTED){const c=r._u.shift();hd(r).$o(),yield wF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield sm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),EF(n)&&CF(n)}),KA.apply(this,arguments)}function IF(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,Te.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=Mc(t);t.mu.add(3),yield im(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield Wv(t)}),YA.apply(this,arguments)}function QA(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Te.Z)(function*(n,e){const t=ut(n);e?(t.mu.delete(2),yield Wv(t)):e||(t.mu.add(2),yield im(t),t.pu.set("Unknown"))}),XA.apply(this,arguments)}function om(n){return n.Tu||(n.Tu=function(e,t,r){const i=ut(e);return i.ru(),new AH(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:NH.bind(null,n),no:FH.bind(null,n),Ho:LH.bind(null,n)}),n.gu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Tu.$o(),UA(n)?VA(n):n.pu.set("Unknown")):(yield n.Tu.stop(),bF(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function hd(n){return n.Eu||(n.Eu=function(e,t,r){const i=ut(e);return i.ru(),new xH(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:UH.bind(null,n),no:zH.bind(null,n),nu:jH.bind(null,n),eu:HH.bind(null,n)}),n.gu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Eu.$o(),yield sm(n)):(yield n.Eu.stop(),n._u.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class JA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new JA(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),ed(n))return new Fe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class lm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=Ov(),this.sortedSet=new Ur(this.comparator)}static emptySet(e){return new lm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new lm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class DF{constructor(){this.Au=new Ur(it.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):wt():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class cm{constructor(e,t,r,i,a,c,f,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new cm(e,t,lm.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class $H{constructor(){this.bu=void 0,this.listeners=[]}}class GH{constructor(){this.queries=new od(e=>jN(e),Sv),this.onlineState="Unknown",this.vu=new Set}}function ex(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,Te.Z)(function*(n,e){const t=ut(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new $H),i)try{a.bu=yield t.onListen(r)}catch(c){const f=am(c,`Initialization of query '${iA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.bu&&e.Vu(a.bu)&&ix(t)}),tx.apply(this,arguments)}function nx(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,Te.Z)(function*(n,e){const t=ut(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),rx.apply(this,arguments)}function qH(n,e){const t=ut(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Vu(i)&&(r=!0);c.bu=i}}r&&ix(t)}function WH(n,e,t){const r=ut(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function ix(n){n.vu.forEach(e=>{e.next()})}class sx{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new cm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.Ou||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=cm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class ZH{constructor(e,t){this.Mu=e,this.byteLength=t}Fu(){return"metadata"in this.Mu}}class TF{constructor(e){this.Tt=e}Zi(e){return fl(this.Tt,e)}Xi(e){return e.metadata.exists?v1(this.Tt,e.document,!1):mr.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return Qr(e)}}class KH{constructor(e,t,r){this.$u=e,this.localStore=t,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SF(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const r=xn.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,r=new TF(this.Tt);for(const i of e)if(i.metadata.queries){const a=r.Zi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||fn()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function CH(n,e,t,r){return MA.apply(this,arguments)}(e.localStore,new TF(e.Tt),e.documents,e.$u.id),r=e.Lu(e.documents);for(const i of e.queries)yield IH(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function SF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class MF{constructor(e){this.key=e}}class AF{constructor(e){this.key=e}}class xF{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=fn(),this.mutatedKeys=fn(),this.ju=zN(e),this.zu=new lm(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new DF,i=t?t.zu:this.zu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,S)=>{const P=i.get(I),j=Mv(this.query,S)?S:null,G=!!P&&this.mutatedKeys.has(P.key),re=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Ie=!1;P&&j?P.data.isEqual(j.data)?G!==re&&(r.track({type:3,doc:j}),Ie=!0):this.Yu(P,j)||(r.track({type:2,doc:j}),Ie=!0,(_&&this.ju(j,_)>0||w&&this.ju(j,w)<0)&&(f=!0)):!P&&j?(r.track({type:0,doc:j}),Ie=!0):P&&!j&&(r.track({type:1,doc:P}),Ie=!0,(_||w)&&(f=!0)),Ie&&(j?(c=c.add(j),a=re?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{zu:c,Ju:r,Li:f,mutatedKeys:a}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const a=e.Ju.Ru();a.sort((w,I)=>function(S,P){const j=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return j(S)-j(P)}(w.type,I.type)||this.ju(w.doc,I.doc)),this.Zu(r);const c=t?this.Xu():[],f=0===this.Qu.size&&this.current?1:0,_=f!==this.Gu;return this.Gu=f,0!==a.length||_?{snapshot:new cm(this.query,e.zu,i,a,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:c}:{tc:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new DF,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=fn(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new AF(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new MF(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=fn();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return cm.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class YH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class QH{constructor(e){this.key=e,this.ic=!1}}class XH{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.rc={},this.oc=new od(f=>jN(f),Sv),this.uc=new Map,this.cc=new Set,this.ac=new Ur(it.comparator),this.hc=new Map,this.lc=new wA,this.fc={},this.dc=new Map,this._c=yf.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function JH(n,e){return ox.apply(this,arguments)}function ox(){return ox=(0,Te.Z)(function*(n,e){const t=Ax(n);let r,i;const a=t.oc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.sc();else{const c=yield nm(t.localStore,ys(e));t.isPrimaryClient&&nI(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield ax(t,e,r,"current"===f,c.resumeToken)}return i}),ox.apply(this,arguments)}function ax(n,e,t,r,i){return lx.apply(this,arguments)}function lx(){return lx=(0,Te.Z)(function*(n,e,t,r,i){n.mc=(S,P,j)=>{return(G=(0,Te.Z)(function*(re,Ie,dt,It){let St=Ie.view.Hu(dt);St.Li&&(St=yield XC(re.localStore,Ie.query,!1).then(({documents:Zt})=>Ie.view.Hu(Zt,St)));const Dt=It&&It.targetChanges.get(Ie.targetId),zt=Ie.view.applyChanges(St,re.isPrimaryClient,Dt);return yx(re,Ie.targetId,zt.tc),zt.snapshot}),function(re,Ie,dt,It){return G.apply(this,arguments)})(n,S,P,j);var G};const a=yield XC(n.localStore,e,!0),c=new xF(e,a.Yi),f=c.Hu(a.documents),_=Pv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=c.applyChanges(f,n.isPrimaryClient,_);yx(n,t,w.tc);const I=new YH(e,t,c);return n.oc.set(e,I),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),w.snapshot}),lx.apply(this,arguments)}function ez(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,Te.Z)(function*(n,e){const t=ut(n),r=t.oc.get(e),i=t.uc.get(r.targetId);if(i.length>1)return t.uc.set(r.targetId,i.filter(a=>!Sv(a,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield rm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zv(t.remoteStore,r.targetId),um(t,r.targetId)}).catch(Ju))):(um(t,r.targetId),yield rm(t.localStore,r.targetId,!0))}),cx.apply(this,arguments)}function ux(){return ux=(0,Te.Z)(function*(n,e,t){const r=xx(n);try{const i=yield function(a,c){const f=ut(a),_=Ir.now(),w=c.reduce((P,j)=>P.add(j.key),fn());let I,S;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let j=Ys(),G=fn();return f.ji.getEntries(P,w).next(re=>{j=re,j.forEach((Ie,dt)=>{dt.isValidDocument()||(G=G.add(Ie))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,j)).next(re=>{I=re;const Ie=[];for(const dt of c){const It=cj(dt,I.get(dt.key).overlayedDocument);null!=It&&Ie.push(new Sc(dt.key,It,FN(It.value.mapValue),Dr.exists(!0)))}return f.mutationQueue.addMutationBatch(P,_,Ie,c)}).next(re=>{S=re;const Ie=re.applyToLocalDocumentSet(I,G);return f.documentOverlayCache.saveOverlays(P,re.batchId,Ie)})}).then(()=>({batchId:S.batchId,changes:a1(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.fc[a.currentUser.toKey()];_||(_=new Ur(cn)),_=_.insert(c,f),a.fc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Ac(r,i.changes),yield sm(r.remoteStore)}catch(i){const a=am(i,"Failed to persist write");t.reject(a)}}),ux.apply(this,arguments)}function OF(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,Te.Z)(function*(n,e){const t=ut(n);try{const r=yield function wH(n,e){const t=ut(n),r=e.snapshotVersion;let i=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ji.newChangeBuffer({trackRemovals:!0});i=t.Ki;const f=[];e.targetChanges.forEach((I,S)=>{const P=i.get(S);if(!P)return;f.push(t.Ns.removeMatchingKeys(a,I.removedDocuments,S).next(()=>t.Ns.addMatchingKeys(a,I.addedDocuments,S)));let j=P.withSequenceNumber(a.currentSequenceNumber);var G,re,Ie;e.targetMismatches.has(S)?j=j.withResumeToken(yi.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):I.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(I.resumeToken,r)),i=i.insert(S,j),re=j,Ie=I,(0===(G=P).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&f.push(t.Ns.updateTargetData(a,j))});let _=Ys(),w=fn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(cF(a,c,e.documentUpdates).next(I=>{_=I.Hi,w=I.Ji})),!r.isEqual(Bt.min())){const I=t.Ns.getLastRemoteSnapshotVersion(a).next(S=>t.Ns.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(I)}return le.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Ki=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.hc.get(a);c&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ic=!0:i.modifiedDocuments.size>0?Lt(c.ic):i.removedDocuments.size>0&&(Lt(c.ic),c.ic=!1))}),yield Ac(t,r,e)}catch(r){yield Ju(r)}}),dx.apply(this,arguments)}function kF(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.oc.forEach((a,c)=>{const f=c.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=ut(a);f.onlineState=c;let _=!1;f.queries.forEach((w,I)=>{for(const S of I.listeners)S.Pu(c)&&(_=!0)}),_&&ix(f)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nz(n,e,t){return hx.apply(this,arguments)}function hx(){return hx=(0,Te.Z)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.hc.get(e),a=i&&i.key;if(a){let c=new Ur(it.comparator);c=c.insert(a,mr.newNoDocument(a,Bt.min()));const f=fn().add(a),_=new Rv(Bt.min(),new Map,new er(cn),c,f);yield OF(r,_),r.ac=r.ac.remove(a),r.hc.delete(e),vx(r)}else yield rm(r.localStore,e,!1).then(()=>um(r,e,t)).catch(Ju)}),hx.apply(this,arguments)}function rz(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,Te.Z)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const i=yield function bH(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ji.newChangeBuffer({trackRemovals:!0});return function(c,f,_,w){const I=_.batch,S=I.keys();let P=le.resolve();return S.forEach(j=>{P=P.next(()=>w.getEntry(f,j)).next(G=>{const re=_.docVersions.get(j);Lt(null!==re),G.version.compareTo(re)<0&&(I.applyToRemoteDocument(G,_),G.isValidDocument()&&(G.setReadTime(_.commitVersion),w.addEntry(G)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=fn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);_x(t,r,null),mx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ac(t,i)}catch(i){yield Ju(i)}}),fx.apply(this,arguments)}function iz(n,e,t){return px.apply(this,arguments)}function px(){return px=(0,Te.Z)(function*(n,e,t){const r=ut(n);try{const i=yield function(a,c){const f=ut(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,c).next(I=>(Lt(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);_x(r,e,t),mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ac(r,i)}catch(i){yield Ju(i)}}),px.apply(this,arguments)}function gx(){return gx=(0,Te.Z)(function*(n,e){const t=ut(n);Mc(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=ut(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.dc.get(r)||[];i.push(e),t.dc.set(r,i)}catch(r){const i=am(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),gx.apply(this,arguments)}function mx(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function _x(n,e,t){const r=ut(n);let i=r.fc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function um(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||RF(n,r)})}function RF(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(Zv(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),vx(n))}function yx(n,e,t){for(const r of t)r instanceof MF?(n.lc.addReference(r.key,e),oz(n,r)):r instanceof AF?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||RF(n,r.key)):wt()}function oz(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.cc.add(r),vx(n))}function vx(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new it(xn.fromString(e)),r=n._c.next();n.hc.set(r,new QH(t)),n.ac=n.ac.insert(t,r),nI(n.remoteStore,new ld(ys(Wg(t.path)),r,2,Eo.at))}}function Ac(n,e,t){return bx.apply(this,arguments)}function bx(){return bx=(0,Te.Z)(function*(n,e,t){const r=ut(n),i=[],a=[],c=[];var f;r.oc.isEmpty()||(r.oc.forEach((f,_)=>{c.push(r.mc(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const I=DA.Ni(_.targetId,w);a.push(I)}}))}),yield Promise.all(c),r.rc.Ho(i),yield(f=(0,Te.Z)(function*(_,w){const I=ut(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>le.forEach(w,P=>le.forEach(P.Ci,j=>I.persistence.referenceDelegate.addReference(S,P.targetId,j)).next(()=>le.forEach(P.xi,j=>I.persistence.referenceDelegate.removeReference(S,P.targetId,j)))))}catch(S){if(!ed(S))throw S;Ge("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const P=S.targetId;if(!S.fromCache){const j=I.Ki.get(P),re=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);I.Ki=I.Ki.insert(P,re)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),bx.apply(this,arguments)}function az(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,Te.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield aF(t.localStore,e);t.currentUser=e,(i=t).dc.forEach(c=>{c.forEach(f=>{f.reject(new Fe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ac(t,r.Wi)}var i}),wx.apply(this,arguments)}function lz(n,e){const t=ut(n),r=t.hc.get(e);if(r&&r.ic)return fn().add(r.key);{let i=fn();const a=t.uc.get(e);if(!a)return i;for(const c of a){const f=t.oc.get(c);i=i.unionWith(f.view.Wu)}return i}}function cz(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Te.Z)(function*(n,e){const t=ut(n),r=yield XC(t.localStore,e.query,!0),i=e.view.nc(r);return t.isPrimaryClient&&yx(t,e.targetId,i.tc),i}),Ex.apply(this,arguments)}function uz(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,Te.Z)(function*(n,e){const t=ut(n);return dF(t.localStore,e).then(r=>Ac(t,r))}),Cx.apply(this,arguments)}function dz(n,e,t,r){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,Te.Z)(function*(n,e,t,r){const i=ut(n),a=yield function(c,f){const _=ut(c),w=ut(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.An(I,f).next(S=>S?_.localDocuments.getDocuments(I,S):le.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield sm(i.remoteStore):"acknowledged"===t||"rejected"===t?(_x(i,e,r||null),mx(i,e),f=e,ut(ut(i.localStore).mutationQueue).bn(f)):wt(),yield Ac(i,a)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ix.apply(this,arguments)}function Dx(){return Dx=(0,Te.Z)(function*(n,e){const t=ut(n);if(Ax(t),xx(t),!0===e&&!0!==t.wc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield PF(t,r.toArray());t.wc=!0,yield QA(t.remoteStore,!0);for(const a of i)nI(t.remoteStore,a)}else if(!1===e&&!1!==t.wc){const r=[];let i=Promise.resolve();t.uc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(um(t,c),rm(t.localStore,c,!0))),Zv(t.remoteStore,c)}),yield i,yield PF(t,r),function(a){const c=ut(a);c.hc.forEach((f,_)=>{Zv(c.remoteStore,_)}),c.lc._s(),c.hc=new Map,c.ac=new Ur(it.comparator)}(t),t.wc=!1,yield QA(t.remoteStore,!1)}}),Dx.apply(this,arguments)}function PF(n,e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Te.Z)(function*(n,e,t){const r=ut(n),i=[],a=[];for(const c of e){let f;const _=r.uc.get(c);if(_&&0!==_.length){f=yield nm(r.localStore,ys(_[0]));for(const w of _){const I=r.oc.get(w),S=yield cz(r,I);S.snapshot&&a.push(S.snapshot)}}else{const w=yield uF(r.localStore,c);f=yield nm(r.localStore,w),yield ax(r,NF(w),c,!1,f.resumeToken)}i.push(f)}return r.rc.Ho(a),i}),Tx.apply(this,arguments)}function NF(n){return VN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function fz(n){const e=ut(n);return ut(ut(e.localStore).persistence).Si()}function pz(n,e,t,r){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,Te.Z)(function*(n,e,t,r){const i=ut(n);if(i.wc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const a=i.uc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield dF(i.localStore,HN(a[0])),f=Rv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,yi.EMPTY_BYTE_STRING);yield Ac(i,c,f);break}case"rejected":yield rm(i.localStore,e,!0),um(i,e,r);break;default:wt()}}),Sx.apply(this,arguments)}function gz(n,e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Te.Z)(function*(n,e,t){const r=Ax(n);if(r.wc){for(const i of e){if(r.uc.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const a=yield uF(r.localStore,i),c=yield nm(r.localStore,a);yield ax(r,NF(a),c.targetId,!1,c.resumeToken),nI(r.remoteStore,c)}for(const i of t)r.uc.has(i)&&(yield rm(r.localStore,i,!1).then(()=>{Zv(r.remoteStore,i),um(r,i)}).catch(Ju))}}),Mx.apply(this,arguments)}function Ax(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nz.bind(null,e),e.rc.Ho=qH.bind(null,e.eventManager),e.rc.gc=WH.bind(null,e.eventManager),e}function xx(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iz.bind(null,e),e}class FF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.Tt=qv(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return oF(this.persistence,new sF,e.initialUser,this.Tt)}Tc(e){return new rF(YC.qs,this.Tt)}Ic(e){return new gF}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class LF extends FF{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield xx(r.bc.syncEngine),yield sm(r.bc.remoteStore),yield r.persistence.di(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return oF(this.persistence,new sF,e.initialUser,this.Tt)}Ac(e,t){return new sH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const r=new UU(t,this.persistence);return new VU(e.asyncQueue,r)}Tc(e){const t=IA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Qs.withCacheSize(this.cacheSizeBytes):Qs.DEFAULT;return new CA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,_F(),tI(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new gF}}class _z extends LF{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof RA&&(r.sharedClientState.syncEngine={Br:dz.bind(null,i),Lr:pz.bind(null,i),qr:gz.bind(null,i),Si:fz.bind(null,i),$r:uz.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.di(function(){var a=(0,Te.Z)(function*(c){yield function hz(n,e){return Dx.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}Ic(e){const t=_F();if(!RA.C(t))throw new Fe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=IA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ox{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>kF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=az.bind(null,r.syncEngine),yield QA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new GH}createDatastore(e){const t=qv(e.databaseInfo.databaseId),r=new MH(e.databaseInfo);return new OH(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>kF(this.syncEngine,f,0),c=mF.C()?new mF:new DH,new PH(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,w){const I=new XH(r,i,a,c,f,_);return w&&(I.wc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=ut(t);Ge("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield im(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function BF(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class iI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yz{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new _i,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Fu()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const r=e.Sc.decode(t),i=Number(r);isNaN(i)&&e.xc(`length string (${r}) is not valid number`);const a=yield e.Nc(i);return new ZH(JSON.parse(a),t.length+i)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,Te.Z)(function*(){for(;e.kc()<0&&!(yield e.Oc()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Nc(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Oc())&&t.xc("Reached the end of bundle when more is expected.");const r=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}Oc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class vz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(a,c){const f=ut(a),_=Fv(f.Tt)+"/documents",w={documents:c.map(j=>Nv(f.Tt,j))},I=yield f.mo("BatchGetDocuments",_,w,c.length),S=new Map;I.forEach(j=>{const G=function wj(n,e){return"found"in e?function(t,r){Lt(!!r.found);const i=fl(t,r.found.name),a=Qr(r.found.updateTime),c=r.found.createTime?Qr(r.found.createTime):Bt.min(),f=new xi({mapValue:{fields:r.found.fields}});return mr.newFoundDocument(i,a,c,f)}(n,e):"missing"in e?function(t,r){Lt(!!r.missing),Lt(!!r.readTime);const i=fl(t,r.missing),a=Qr(r.readTime);return mr.newNoDocument(i,a)}(n,e):wt()}(f.Tt,j);S.set(G.key.toString(),G)});const P=[];return c.forEach(j=>{const G=S.get(j.toString());Lt(!!G),P.push(G)}),P}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=it.fromPath(i);e.mutations.push(new sA(a,e.precondition(a)))}),yield(r=(0,Te.Z)(function*(i,a){const c=ut(i),f=Fv(c.Tt)+"/documents",_={writes:a.map(w=>Lv(c.Tt,w))};yield c.lo("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wt();t=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bt.min())?Dr.exists(!1):Dr.updateTime(t):Dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Fe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(t)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bz{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new PA(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){var e=this;this.ko.vo((0,Te.Z)(function*(){const t=new vz(e.datastore),r=e.$c(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Bc(a)}))}).catch(i=>{e.Bc(i)})}))}$c(e){try{const t=this.updateFunction(e);return!bv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!r1(t)}return!1}}class wz{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ai.UNAUTHENTICATED,this.clientId=cN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Te.Z)(function*(f){Ge("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=am(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function VF(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(a){r.isEqual(a)||(yield aF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),kx.apply(this,arguments)}function UF(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Px(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>IF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>IF(e.remoteStore,a)),n.onlineComponents=e}),Rx.apply(this,arguments)}function Px(n){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,Te.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield VF(n,new FF)),n.offlineComponents}),Nx.apply(this,arguments)}function sI(n){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Te.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield UF(n,new Ox)),n.onlineComponents}),Fx.apply(this,arguments)}function jF(n){return Px(n).then(e=>e.persistence)}function oI(n){return Px(n).then(e=>e.localStore)}function Lx(n){return sI(n).then(e=>e.remoteStore)}function Bx(n){return sI(n).then(e=>e.syncEngine)}function dm(n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Te.Z)(function*(n){const e=yield sI(n),t=e.eventManager;return t.onListen=JH.bind(null,e.syncEngine),t.onUnlisten=ez.bind(null,e.syncEngine),t}),Vx.apply(this,arguments)}function zF(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,a,c,f,_){const w=new iI({next:S=>{a.enqueueAndForget(()=>nx(i,I));const P=S.docs.has(c);!P&&S.fromCache?_.reject(new Fe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&f&&"server"===f.source?_.reject(new Fe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new sx(Wg(c.path),w,{includeMetadataChanges:!0,Ou:!0});return ex(i,I)}(yield dm(n),n.asyncQueue,e,t,r)})),r.promise}function $F(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,a,c,f,_){const w=new iI({next:S=>{a.enqueueAndForget(()=>nx(i,I)),S.fromCache&&"server"===f.source?_.reject(new Fe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new sx(c,w,{includeMetadataChanges:!0,Ou:!0});return ex(i,I)}(yield dm(n),n.asyncQueue,e,t,r)})),r.promise}const GF=new Map;function Ux(n,e,t){if(!t)throw new Fe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qF(n,e,t,r){if(!0===e&&!0===r)throw new Fe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WF(n){if(!it.isDocumentKey(n))throw new Fe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZF(n){if(it.isDocumentKey(n))throw new Fe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":wt()}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=aI(n);throw new Fe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KF(n,e){if(e<=0)throw new Fe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class YF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new SU;switch(t.type){case"gapi":return new OU(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GF.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),GF.delete(e),t.terminate())}(this),Promise.resolve()}}class _r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class Gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class gl extends Gi{constructor(e,t,r){super(e,t,Wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new it(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function XF(n,e,...t){if(n=(0,Bn.m9)(n),Ux("collection","path",e),n instanceof Kv){const r=xn.fromString(e,...t);return ZF(r),new gl(n,null,r)}{if(!(n instanceof _r||n instanceof gl))throw new Fe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xn.fromString(e,...t));return ZF(r),new gl(n.firestore,null,r)}}function lI(n,e,...t){if(n=(0,Bn.m9)(n),1===arguments.length&&(e=cN.R()),Ux("doc","path",e),n instanceof Kv){const r=xn.fromString(e,...t);return WF(r),new _r(n,null,new it(r))}{if(!(n instanceof _r||n instanceof gl))throw new Fe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xn.fromString(e,...t));return WF(r),new _r(n.firestore,n instanceof gl?n.converter:null,new it(r))}}function JF(n,e){return n=(0,Bn.m9)(n),e=(0,Bn.m9)(e),(n instanceof _r||n instanceof gl)&&(e instanceof _r||e instanceof gl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jx(n,e){return n=(0,Bn.m9)(n),e=(0,Bn.m9)(e),n instanceof Gi&&e instanceof Gi&&n.firestore===e.firestore&&Sv(n._query,e._query)&&n.converter===e.converter}class xz{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new PA(this,"async_queue_retry"),this.Hc=()=>{const t=tI();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=tI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=tI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new _i;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!ed(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,Yr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const i=JA.createAndSchedule(this,e,t,r,a=>this.Xc(a));return this.Gc.push(i),i}Jc(){this.Qc&&wt()}verifyOperationInProgress(){}ta(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function Hx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Oz{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yr extends Kv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xz,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eL(this),this._firestoreClient.terminate()}}function Xr(n){return n._firestoreClient||eL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function eL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zU(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new wz(n._authCredentials,n._appCheckCredentials,n._queue,r)}function tL(n,e,t){const r=new _i;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield VF(n,t),yield UF(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===fe.FAILED_PRECONDITION||c.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;ef("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function nL(n){if(n._initialized||n._terminated)throw new Fe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(yi.fromBase64String(e))}catch(t){throw new Fe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bf{constructor(e){this._methodName=e}}class cI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}const Hz=/^__.*__$/;class zz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Sc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yg(e,this.data,t,this.fieldTransforms)}}class rL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class uI{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new uI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return fI(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(iL(this.ra)&&Hz.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class $z{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||qv(e)}wa(e,t,r,i=!1){return new uI({ra:e,methodName:t,_a:r,path:Br.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function wf(n){const e=n._freezeSettings(),t=qv(n._databaseId);return new $z(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dI(n,e,t,r,i,a={}){const c=n.wa(a.merge||a.mergeFields?2:0,e,t,i);qx("Data must be an object, but it was:",c,r);const f=aL(r,c);let _,w;if(a.merge)_=new Ks(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const S of a.mergeFields){const P=Xv(e,S,t);if(!c.contains(P))throw new Fe(fe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);cL(I,P)||I.push(P)}_=new Ks(I),w=c.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,w=c.fieldTransforms;return new zz(new xi(f),_,w)}class Qv extends bf{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qv}}function sL(n,e,t){return new uI({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class zx extends bf{_toFieldTransform(e){return new Av(e.path,new Zg)}isEqual(e){return e instanceof zx}}class Gz extends bf{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=sL(this,e,!0),r=this.ma.map(a=>Ef(a,t)),i=new df(r);return new Av(e.path,i)}isEqual(e){return this===e}}class qz extends bf{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=sL(this,e,!0),r=this.ma.map(a=>Ef(a,t)),i=new hf(r);return new Av(e.path,i)}isEqual(e){return this===e}}class Wz extends bf{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new Kg(e.Tt,qN(e.Tt,this.ga));return new Av(e.path,t)}isEqual(e){return this===e}}function $x(n,e,t,r){const i=n.wa(1,e,t);qx("Data must be an object, but it was:",i,r);const a=[],c=xi.empty();rf(r,(_,w)=>{const I=hI(e,_,t);w=(0,Bn.m9)(w);const S=i.ha(I);if(w instanceof Qv)a.push(I);else{const P=Ef(w,S);null!=P&&(a.push(I),c.set(I,P))}});const f=new Ks(a);return new rL(c,f,i.fieldTransforms)}function Gx(n,e,t,r,i,a){const c=n.wa(1,e,t),f=[Xv(e,r,t)],_=[i];if(a.length%2!=0)throw new Fe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(Xv(e,a[P])),_.push(a[P+1]);const w=[],I=xi.empty();for(let P=f.length-1;P>=0;--P)if(!cL(w,f[P])){const j=f[P];let G=_[P];G=(0,Bn.m9)(G);const re=c.ha(j);if(G instanceof Qv)w.push(j);else{const Ie=Ef(G,re);null!=Ie&&(w.push(j),I.set(j,Ie))}}const S=new Ks(w);return new rL(I,S,c.fieldTransforms)}function oL(n,e,t,r=!1){return Ef(t,n.wa(r?4:3,e))}function Ef(n,e){if(lL(n=(0,Bn.m9)(n)))return qx("Unsupported field value:",e,n),aL(n,e);if(n instanceof bf)return function(t,r){if(!iL(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=Ef(c,r.la(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Bn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qN(r.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ir.fromDate(t);return{timestampValue:Xg(r.Tt,i)}}if(t instanceof Ir){const i=new Ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xg(r.Tt,i)}}if(t instanceof cI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ml)return{bytesValue:p1(r.Tt,t._byteString)};if(t instanceof _r){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.fa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:oA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${aI(t)}`)}(n,e)}function aL(n,e){const t={};return _N(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rf(n,(r,i)=>{const a=Ef(i,e.ua(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function lL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ir||n instanceof cI||n instanceof ml||n instanceof _r||n instanceof bf)}function qx(n,e,t){if(!lL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=aI(t);throw e.fa("an object"===r?n+" a custom object":n+" "+r)}var r}function Xv(n,e,t){if((e=(0,Bn.m9)(e))instanceof xc)return e._internalPath;if("string"==typeof e)return hI(n,e);throw fI("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zz=new RegExp("[~\\*/\\[\\]]");function hI(n,e,t){if(e.search(Zz)>=0)throw fI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xc(...e.split("."))._internalPath}catch{throw fI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fI(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Fe(fe.INVALID_ARGUMENT,f+n+_)}function cL(n,e){return n.some(t=>t.isEqual(e))}class Jv{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kz extends Jv{data(){return super.data()}}function pI(n,e){return"string"==typeof e?hI(n,e):e instanceof xc?e._internalPath:e._delegate._internalPath}function uL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wx{}class eb extends Wx{}function fd(n,e,...t){let r=[];e instanceof Wx&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof hm).length,c=i.filter(f=>f instanceof tb).length;if(a>1||a>0&&c>0)throw new Fe(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class tb extends eb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new tb(e,t,r)}_apply(e){const t=this._parse(e);return pL(e._query,t),new Gi(e.firestore,e.converter,rA(e._query,t))}_parse(e){const t=wf(e.firestore);return function(i,a,c,f,_,w,I){let S;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){fL(I,w);const P=[];for(const j of I)P.push(hL(f,i,j));S={arrayValue:{values:P}}}else S=hL(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||fL(I,w),S=oL(c,"where",I,"in"===w||"not-in"===w);return En.create(_,w,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class hm extends Wx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const f of c)pL(a,f),a=rA(a,f)}(e._query,t),new Gi(e.firestore,e.converter,rA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Zx extends eb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zx(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Fe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Gg(i,a);return function(f,_){if(null===tA(f)){const w=PC(f);null!==w&&gL(0,w,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Tc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class gI extends eb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new gI(e,t,r)}_apply(e){return new Gi(e.firestore,e.converter,NC(e._query,this._limit,this._limitType))}}class mI extends eb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new mI(e,t,r)}_apply(e){const t=dL(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(i=t,new Tc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class _I extends eb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _I(e,t,r)}_apply(e){const t=dL(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(i=t,new Tc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function dL(n,e,t,r){if(t[0]=(0,Bn.m9)(t[0]),t[0]instanceof Jv)return function(i,a,c,f,_){if(!f)throw new Fe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const I of uf(i))if(I.field.isKeyField())w.push(lf(a,f.key));else{const S=f.data.field(I.field);if(ZM(S))throw new Fe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=I.field.canonicalString();throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(S)}return new sd(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=wf(n.firestore);return function(a,c,f,_,w,I){const S=a.explicitOrderBy;if(w.length>S.length)throw new Fe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let j=0;j<w.length;j++){const G=w[j];if(S[j].field.isKeyField()){if("string"!=typeof G)throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof G}`);if(!nA(a)&&-1!==G.indexOf("/"))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${G}' contains a slash.`);const re=a.path.child(xn.fromString(G));if(!it.isDocumentKey(re))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const Ie=new it(re);P.push(lf(c,Ie))}else{const re=oL(f,_,G);P.push(re)}}return new sd(P,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function hL(n,e,t){if("string"==typeof(t=(0,Bn.m9)(t))){if(""===t)throw new Fe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nA(e)&&-1!==t.indexOf("/"))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(xn.fromString(t));if(!it.isDocumentKey(r))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lf(n,new it(r))}if(t instanceof _r)return lf(n,t._key);throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aI(t)}.`)}function fL(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pL(n,e){if(e.isInequality()){const r=PC(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=tA(n);null!==a&&gL(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function gL(n,e,t){if(!t.isEqual(e))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Kx{convertValue(e,t="none"){switch(af(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wt()}}convertObject(e,t){const r={};return rf(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new cI(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ev(e));default:return null}}convertTimestamp(e){const t=nd(e);return new Ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xn.fromString(e);Lt(I1(r));const i=new td(r.get(1),r.get(3)),a=new it(r.popFirst(5));return i.isEqual(t)||Yr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function yI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class i$ extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}class Cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oc extends Jv{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class nb extends Oc{data(e={}){return super.data(e)}}class pd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new nb(this._firestore,this._userDataWriter,r.key,r,new Cf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new nb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Cf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new nb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Cf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:o$(c.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function o$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function _L(n,e){return n instanceof Oc&&e instanceof Oc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pd&&e instanceof pd&&n._firestore===e._firestore&&jx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class gd extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function yL(n,e,t){n=Cn(n,_r);const r=Cn(n.firestore,yr),i=yI(n.converter,e,t);return fm(r,[dI(wf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Dr.none())])}function vL(n,e,t,...r){n=Cn(n,_r);const i=Cn(n.firestore,yr),a=wf(i);let c;return c="string"==typeof(e=(0,Bn.m9)(e))||e instanceof xc?Gx(a,"updateDoc",n._key,e,t,r):$x(a,"updateDoc",n._key,e),fm(i,[c.toMutation(n._key,Dr.exists(!0))])}function bL(n,...e){var t,r,i;n=(0,Bn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Hx(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Hx(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[c+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let _,w,I;if(n instanceof _r)w=Cn(n.firestore,yr),I=Wg(n._key.path),_={next:S=>{e[c]&&e[c](Yx(w,n,S))},error:e[c+1],complete:e[c+2]};else{const S=Cn(n,Gi);w=Cn(S.firestore,yr),I=S._query;const P=new gd(w);_={next:j=>{e[c]&&e[c](new pd(w,P,S,j))},error:e[c+1],complete:e[c+2]},uL(n._query)}return function(S,P,j,G){const re=new iI(G),Ie=new sx(P,re,j);return S.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return ex(yield dm(S),Ie)})),()=>{re.Pc(),S.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return nx(yield dm(S),Ie)}))}}(Xr(w),I,f,_)}function fm(n,e){return function(t,r){const i=new _i;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function tz(n,e,t){return ux.apply(this,arguments)}(yield Bx(t),r,i)})),i.promise}(Xr(n),e)}function Yx(n,e,t){const r=t.docs.get(e._key),i=new gd(n);return new Oc(n,i,e._key,r,new Cf(t.hasPendingWrites,t.fromCache),e.converter)}const _$={maxAttempts:5};class wL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wf(e)}set(e,t,r){this._verifyNotCommitted();const i=md(e,this._firestore),a=yI(i.converter,t,r),c=dI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Dr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=md(e,this._firestore);let c;return c="string"==typeof(t=(0,Bn.m9)(t))||t instanceof xc?Gx(this._dataReader,"WriteBatch.update",a._key,t,r,i):$x(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=md(e,this._firestore);return this._mutations=this._mutations.concat(new Qg(t._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function md(n,e){if((n=(0,Bn.m9)(n)).firestore!==e)throw new Fe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class y$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wf(e)}get(e){const t=md(e,this._firestore),r=new i$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return wt();const a=i[0];if(a.isFoundDocument())return new Jv(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Jv(this._firestore,r,t._key,null,t.converter);throw wt()})}set(e,t,r){const i=md(e,this._firestore),a=yI(i.converter,t,r),c=dI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=md(e,this._firestore);let c;return c="string"==typeof(t=(0,Bn.m9)(t))||t instanceof xc?Gx(this._dataReader,"Transaction.update",a._key,t,r,i):$x(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=md(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=md(e,this._firestore),r=new gd(this._firestore);return super.get(e).then(i=>new Oc(this._firestore,r,t._key,i._document,new Cf(!1,!1),t.converter))}}!function(n,e=!0){jg=Kh.SDK_VERSION,(0,Kh._registerComponent)(new XE.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new yr(new AU(t.getProvider("auth-internal")),new kU(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Fe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(f.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Kh.registerVersion)(oN,"3.8.4",n),(0,Kh.registerVersion)(oN,"3.8.4","esm2017")}();function Qx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function CL(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function IL(){if(!function GU(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class rb{constructor(e){this._delegate=e}static fromBase64String(e){return IL(),new rb(ml.fromBase64String(e))}static fromUint8Array(e){return CL(),new rb(ml.fromUint8Array(e))}toBase64(){return IL(),this._delegate.toBase64()}toUint8Array(){return CL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xx(n){return function S$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class M${enableIndexedDbPersistence(e,t){return function Rz(n,e){nL(n=Cn(n,yr));const t=Xr(n),r=n._freezeSettings(),i=new Ox;return tL(t,i,new LF(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Pz(n){nL(n=Cn(n,yr));const e=Xr(n),t=n._freezeSettings(),r=new Ox;return tL(e,r,new _z(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Nz(n){if(n._initialized&&!n._terminated)throw new Fe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!xa.C())return Promise.resolve();const i=r+"main";yield xa.delete(i)}),function(r){return t.apply(this,arguments)})(IA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof td||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ef("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function QF(n,e,t,r={}){var i;const a=(n=Cn(n,Kv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ef("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Ai.MOCK_USER;else{c=(0,Bn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Fe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ai(_)}n._authCredentials=new MU(new aN(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function Lz(n){return function Ez(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield jF(n),t=yield Lx(n);return e.setNetworkEnabled(!0),function(r){const i=ut(r);return i.mu.delete(0),Wv(i)}(t)}))}(Xr(n=Cn(n,yr)))}(this._delegate)}disableNetwork(){return function Bz(n){return function Cz(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield jF(n),t=yield Lx(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(i){const a=ut(i);a.mu.add(0),yield im(a),a.pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Xr(n=Cn(n,yr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qF("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Fz(n){return function(e){const t=new _i;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function sz(n,e){return gx.apply(this,arguments)}(yield Bx(e),t)})),t.promise}(Xr(n=Cn(n,yr)))}(this._delegate)}onSnapshotsInSync(e){return function g$(n,e){return function Tz(n,e){const t=new iI(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield dm(n),i=t,ut(r).vu.add(i),void i.next();var r,i})),()=>{t.Pc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield dm(n),i=t,void ut(r).vu.delete(i);var r,i}))}}(Xr(n=Cn(n,yr)),Hx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pm(this,XF(this._delegate,e))}catch(t){throw bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Yo(this,lI(this._delegate,e))}catch(t){throw bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ws(this,function Az(n,e){if(n=Cn(n,Kv),Ux("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gi(n,null,(t=e,new Tc(xn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function v$(n,e,t){n=Cn(n,yr);const r=Object.assign(Object.assign({},_$),t);return function(i){if(i.maxAttempts<1)throw new Fe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const f=new _i;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const _=yield function HF(n){return sI(n).then(e=>e.datastore)}(i);new bz(i.asyncQueue,_,c,a,f).run()})),f.promise}(Xr(n),i=>e(new y$(n,i)),r)}(this._delegate,t=>e(new TL(this,t)))}batch(){return Xr(this._delegate),new SL(new wL(this._delegate,e=>fm(this._delegate,e)))}loadBundle(e){return function Vz(n,e){const t=Xr(n=Cn(n,yr)),r=new Oz;return function Sz(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return BF(_,w);if(_ instanceof ArrayBuffer)return BF(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new yz(_,c);var _}(t,qv(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function mz(n,e,t){const r=ut(n);var i;(i=(0,Te.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(P,j){const G=ut(P),re=Qr(j.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",Ie=>G.Os.getBundleMetadata(Ie,j.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(re)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(SF(_));const w=new KH(_,a.localStore,c.Tt);let I=yield c.yc();for(;I;){const P=yield w.Bu(I);P&&f._updateProgress(P),I=yield c.yc()}const S=yield w.complete();return yield Ac(a,S.Uu,void 0),yield function(P,j){const G=ut(P);return G.persistence.runTransaction("Save bundle","readwrite",re=>G.Os.saveBundleMetadata(re,j))}(a.localStore,_),f._completeWith(S.progress),Promise.resolve(S.qu)}catch(_){return ef("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var P}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Bx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Uz(n,e){return function Mz(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const i=ut(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Os.getNamedQuery(a,r))}(yield oI(n),e)}))}(Xr(n=Cn(n,yr)),e).then(t=>t?new Gi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ws(this,t):null)}}class vI extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new rb(new ml(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Yo.forKey(t,this.firestore,null)}}class TL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}get(e){const t=Df(e);return this._delegate.get(t).then(r=>new ib(this._firestore,new Oc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Df(e);return r?(Qx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Df(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Df(e);return this._delegate.delete(t),this}}class SL{constructor(e){this._delegate=e}set(e,t,r){const i=Df(e);return r?(Qx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Df(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Df(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class If{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new nb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=If.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new If(e,new vI(e),t),i.set(t,a)),a}}If.INSTANCES=new WeakMap;class Yo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yo(t,new _r(t._delegate,r,new it(e)))}static forKey(e,t,r){return new Yo(t,new _r(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new pm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pm(this.firestore,XF(this._delegate,e))}catch(t){throw bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Bn.m9)(e))instanceof _r&&JF(this._delegate,e)}set(e,t){t=Qx("DocumentReference.set",t);try{return t?yL(this._delegate,e,t):yL(this._delegate,e)}catch(r){throw bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?vL(this._delegate,e):vL(this._delegate,e,t,...r)}catch(i){throw bs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function f$(n){return fm(Cn(n.firestore,yr),[new Qg(n._key,Dr.none())])}(this._delegate)}onSnapshot(...e){const t=ML(e),r=AL(e,i=>new ib(this.firestore,new Oc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return bL(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function l$(n){n=Cn(n,_r);const e=Cn(n.firestore,yr),t=Xr(e),r=new gd(e);return function Iz(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,a,c){try{const f=yield function(_,w){const I=ut(_);return I.persistence.runTransaction("read document","readonly",S=>I.localDocuments.getDocument(S,w))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Fe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=am(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield oI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Oc(e,r,n._key,i,new Cf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function c$(n){n=Cn(n,_r);const e=Cn(n.firestore,yr);return zF(Xr(e),n._key,{source:"server"}).then(t=>Yx(e,n,t))}(this._delegate):function a$(n){n=Cn(n,_r);const e=Cn(n.firestore,yr);return zF(Xr(e),n._key).then(t=>Yx(e,n,t))}(this._delegate),t.then(r=>new ib(this.firestore,new Oc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Yo(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}function bs(n,e,t){return n.message=n.message.replace(e,t),n}function ML(n){for(const e of n)if("object"==typeof e&&!Xx(e))return e;return{}}function AL(n,e){var t,r;let i;return i=Xx(n[0])?n[0]:Xx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ib{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Yo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _L(this._delegate,e._delegate)}}class sb extends ib{data(e){const t=this._delegate.data(e);return function TU(n,e){n||wt()}(void 0!==t),t}}class ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}where(e,t,r){try{return new ws(this.firestore,fd(this._delegate,function Yz(n,e,t){const r=e,i=pI("where",n);return tb._create(i,r,t)}(e,t,r)))}catch(i){throw bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ws(this.firestore,fd(this._delegate,function Qz(n,e="asc"){const t=e,r=pI("orderBy",n);return Zx._create(r,t)}(e,t)))}catch(r){throw bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ws(this.firestore,fd(this._delegate,function Xz(n){return KF("limit",n),gI._create("limit",n,"F")}(e)))}catch(t){throw bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ws(this.firestore,fd(this._delegate,function Jz(n){return KF("limitToLast",n),gI._create("limitToLast",n,"L")}(e)))}catch(t){throw bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ws(this.firestore,fd(this._delegate,function e$(...n){return mI._create("startAt",n,!0)}(...e)))}catch(t){throw bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ws(this.firestore,fd(this._delegate,function t$(...n){return mI._create("startAfter",n,!1)}(...e)))}catch(t){throw bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ws(this.firestore,fd(this._delegate,function n$(...n){return _I._create("endBefore",n,!1)}(...e)))}catch(t){throw bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ws(this.firestore,fd(this._delegate,function r$(...n){return _I._create("endAt",n,!0)}(...e)))}catch(t){throw bs(t,"endAt()","Query.endAt()")}}isEqual(e){return jx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function d$(n){n=Cn(n,Gi);const e=Cn(n.firestore,yr),t=Xr(e),r=new gd(e);return function Dz(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,a,c){try{const f=yield XC(i,a,!0),_=new xF(a,f.Yi),w=_.Hu(f.documents),I=_.applyChanges(w,!1);c.resolve(I.snapshot)}catch(f){const _=am(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield oI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new pd(e,r,n,i))}(this._delegate):"server"===e?.source?function h$(n){n=Cn(n,Gi);const e=Cn(n.firestore,yr),t=Xr(e),r=new gd(e);return $F(t,n._query,{source:"server"}).then(i=>new pd(e,r,n,i))}(this._delegate):function u$(n){n=Cn(n,Gi);const e=Cn(n.firestore,yr),t=Xr(e),r=new gd(e);return uL(n._query),$F(t,n._query).then(i=>new pd(e,r,n,i))}(this._delegate),t.then(r=>new Jx(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ML(e),r=AL(e,i=>new Jx(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return bL(this._delegate,t,r)}withConverter(e){return new ws(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}class x${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Jx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new x$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new sb(this._firestore,r))})}isEqual(e){return _L(this._delegate,e._delegate)}}class pm extends ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yo(this.firestore,e):null}doc(e){try{return new Yo(this.firestore,void 0===e?lI(this._delegate):lI(this._delegate,e))}catch(t){throw bs(t,"doc()","CollectionReference.doc()")}}add(e){return function p$(n,e){const t=Cn(n.firestore,yr),r=lI(n),i=yI(n.converter,e);return fm(t,[dI(wf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Yo(this.firestore,t))}isEqual(e){return JF(this._delegate,e._delegate)}withConverter(e){return new pm(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}function Df(n){return Cn(n,_r)}class eO{constructor(...e){this._delegate=new xc(...e)}static documentId(){return new eO(Br.keyField().canonicalString())}isEqual(e){return(e=(0,Bn.m9)(e))instanceof xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function w$(){return new zx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tf(e)}static delete(){const e=function b$(){return new Qv("deleteField")}();return e._methodName="FieldValue.delete",new Tf(e)}static arrayUnion(...e){const t=function E$(...n){return new Gz("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tf(t)}static arrayRemove(...e){const t=function C$(...n){return new qz("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tf(t)}static increment(e){const t=function I$(n){return new Wz("increment",n)}(e);return t._methodName="FieldValue.increment",new Tf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const O$={Firestore:DL,GeoPoint:cI,Timestamp:Ir,Blob:rb,Transaction:TL,WriteBatch:SL,DocumentReference:Yo,DocumentSnapshot:ib,Query:ws,QueryDocumentSnapshot:sb,QuerySnapshot:Jx,CollectionReference:pm,FieldPath:eO,FieldValue:Tf,setLogLevel:function A$(n){!function DU(n){Xu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function R$(n){(function k$(n,e){n.INTERNAL.registerComponent(new XE.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},O$)))})(n,(e,t)=>new DL(e,t,new M$)),n.registerVersion("@firebase/firestore-compat","0.3.4")}(E2.Z);var tO=O(6451),Qo=O(5363),P$=O(6063);class N$ extends Jn.x{constructor(e=1/0,t=1/0,r=P$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var xL=O(3099);function nO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,xL.B)({connector:()=>new N$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function bI(n,e){return(0,Fi.m)(e)?gn(()=>n,e):gn(()=>n)}var Oa=O(9468);O(259);const iO=new Map,kL={activated:!1,tokenObservers:[]},U$={initialized:!1,enabled:!1};function qi(n){return iO.get(n)||Object.assign({},kL)}function EI(){return U$}const sO="https://content-firebaseappcheck.googleapis.com/v1",$$="exchangeDebugToken",RL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class q${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Bn.BH,yield function W$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Bn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Es=new Bn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lO(){return lO=(0,Te.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(S){throw Es.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==c.status)throw Es.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(S){throw Es.create("fetch-parse-error",{originalErrorMessage:S?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}}),lO.apply(this,arguments)}const X$="firebase-app-check-database",J$=1,ob="firebase-app-check-store";let DI=null;function cO(){return cO=(0,Te.Z)(function*(n,e){const r=(yield function FL(){return DI||(DI=new Promise((n,e)=>{try{const t=indexedDB.open(X$,J$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Es.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ob,{keyPath:"compositeKey"})}}catch(t){e(Es.create("storage-open",{originalErrorMessage:t?.message}))}}),DI)}()).transaction(ob,"readwrite"),a=r.objectStore(ob).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var w;f(Es.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),cO.apply(this,arguments)}const ab=new Ku.Yd("@firebase/app-check");function hO(n,e){return(0,Bn.hl)()?function t3(n,e){return function LL(n,e){return cO.apply(this,arguments)}(function VL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ab.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function pO(){return pO=(0,Te.Z)(function*(){const n=EI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pO.apply(this,arguments)}const l3={error:"UNKNOWN_ERROR"};function c3(n){return Bn.US.encodeString(JSON.stringify(n),!1)}function TI(n){return gO.apply(this,arguments)}function gO(){return gO=(0,Te.Z)(function*(n,e=!1){const t=n.app;!function PL(n){if(!qi(n).activated)throw Es.create("use-before-activation",{appName:n.name})}(t);const r=qi(t);let a,i=r.token;if(i&&!gm(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(gm(_)?i=_:yield hO(t,void 0))}if(!e&&i&&gm(i))return{token:i.token};let f,c=!1;if(function UL(){return EI().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function aO(n,e){return lO.apply(this,arguments)}(function Q$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${sO}/projects/${t}/apps/${r}:${$$}?key=${i}`,body:{debug_token:e}}}(t,yield function jL(){return pO.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield hO(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield qi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?ab.warn(_.message):ab.error(_),a=_}return i?a?f=gm(i)?{token:i.token,internalError:a}:$L(a):(f={token:i.token},r.token=i,yield hO(t,i)):f=$L(a),c&&function zL(n,e){const t=qi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),gO.apply(this,arguments)}function _O(n,e){const t=qi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function HL(n){const{app:e}=n,t=qi(e);let r=t.tokenRefresher;r||(r=function u3(n){const{app:e}=n;return new q$((0,Te.Z)(function*(){let r;if(r=qi(e).token?yield TI(n,!0):yield TI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=qi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},RL.RETRIAL_MIN_WAIT,RL.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function gm(n){return n.expireTimeMillis-Date.now()>0}function $L(n){return{token:c3(l3),error:n}}class d3{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=qi(this.app);for(const t of e)_O(this.app,t.next);return Promise.resolve()}}const XL="app-check-internal";!function D3(){(0,Kh._registerComponent)(new XE.wA("app-check",n=>function h3(n,e){return new d3(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XL).initialize()})),(0,Kh._registerComponent)(new XE.wA(XL,n=>function f3(n){return{getToken:e=>TI(n,e),addTokenListener:e=>function mO(n,e,t,r){const{app:i}=n,a=qi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&gm(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),HL(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>HL(n))}(n,"INTERNAL",e),removeTokenListener:e=>_O(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Kh.registerVersion)("@firebase/app-check","0.6.4")}();class wO{constructor(){return(0,Si.vb)("app-check")}}typeof window<"u"&&window;var x3=O(9260);const eB=new u.OlP("angularfire2.auth.use-emulator"),tB=new u.OlP("angularfire2.auth.settings"),nB=new u.OlP("angularfire2.auth.tenant-id"),rB=new u.OlP("angularfire2.auth.langugage-code"),iB=new u.OlP("angularfire2.auth.use-device-language"),sB=new u.OlP("angularfire.auth.persistence"),oB=(n,e,t,r,i,a,c,f)=>(0,ji.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[w,I]of Object.entries(c))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let aB=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,S,P,j){const G=new Jn.x,re=gt(void 0).pipe((0,Qo.Q)(c.outsideAngular),gn(()=>a.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,4217)))),(0,rt.U)(()=>(0,ji.on)(t,a,r)),(0,rt.U)(Ie=>oB(Ie,a,f,w,I,S,_,P)),nO({bufferSize:1,refCount:!1}));if(R(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{re.pipe(Po()).subscribe();const dt=re.pipe(gn(Dt=>Dt.getRedirectResult().then(zt=>zt,()=>null)),Si.iC,nO({bufferSize:1,refCount:!1})),It=re.pipe(gn(Dt=>new hr.y(zt=>({unsubscribe:a.runOutsideAngular(()=>Dt.onAuthStateChanged(Zt=>zt.next(Zt),Zt=>zt.error(Zt),()=>zt.complete()))})))),St=re.pipe(gn(Dt=>new hr.y(zt=>({unsubscribe:a.runOutsideAngular(()=>Dt.onIdTokenChanged(Zt=>zt.next(Zt),Zt=>zt.error(Zt),()=>zt.complete()))}))));this.authState=dt.pipe(bI(It),(0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular)),this.user=dt.pipe(bI(St),(0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular)),this.idToken=this.user.pipe(gn(Dt=>Dt?(0,Gn.D)(Dt.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(gn(Dt=>Dt?(0,Gn.D)(Dt.getIdTokenResult()):gt(null))),this.credential=(0,tO.T)(dt,G,this.authState.pipe(fr(Dt=>!Dt))).pipe((0,rt.U)(Dt=>Dt?.user?Dt:null),(0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular))}return(0,ji.pX)(this,re,a,{spy:{apply:(Ie,dt,It)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&It.then(St=>G.next(St))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ji.Dh),u.LFG(ji.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Si.HU),u.LFG(eB,8),u.LFG(tB,8),u.LFG(nB,8),u.LFG(rB,8),u.LFG(iB,8),u.LFG(sB,8),u.LFG(wO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function lB(n,e){return function k3(n,e=Zh.z){return new hr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function CO(n,e){return lB(n,e).pipe((0,rt.U)(t=>({payload:t,type:"query"})))}function MI(n,e){return CO(n,e).pipe(lu(void 0),eM(),(0,rt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(I=>I.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(I=>I.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function cB(n,e,t){return MI(n,t).pipe(Ka((r,i)=>function P3(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function N3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return IO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return IO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return IO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function b2(n,e=so.y){return n=n??w2,(0,Pr.e)((t,r)=>{let i,a=!0;t.subscribe((0,qn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}(),(0,rt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function IO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function uB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class dB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=MI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,rt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(lu(void 0),eM(),fr(([r,i])=>i.length>0||!r),(0,rt.U)(([r,i])=>i),Si.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ka((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uB(e);return cB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Si.iC)}valueChanges(e={}){return CO(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Si.iC)}get(e){return(0,Gn.D)(this.query.get(e)).pipe(Si.iC)}add(e){return this.ref.add(e)}doc(e){return new hB(this.ref.doc(e),this.afs)}}class hB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=fB(r,t);return new dB(i,a,this.afs)}snapshotChanges(){return function R3(n,e){return lB(n,e).pipe(lu(void 0),eM(),(0,rt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Si.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Gn.D)(this.ref.get(e)).pipe(Si.iC)}}class F3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?MI(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),fr(t=>t.length>0),Si.iC):MI(this.query,this.afs.schedulers.outsideAngular).pipe(Si.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ka((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uB(e);return cB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Si.iC)}valueChanges(e={}){return CO(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Si.iC)}get(e){return(0,Gn.D)(this.query.get(e)).pipe(Si.iC)}}const L3=new u.OlP("angularfire2.enableFirestorePersistence"),B3=new u.OlP("angularfire2.firestore.persistenceSettings"),V3=new u.OlP("angularfire2.firestore.settings"),U3=new u.OlP("angularfire2.firestore.use-emulator");function fB(n,e=(t=>t)){return{query:e(n),ref:n}}let j3=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,S,P,j,G,re,Ie,dt,It){this.schedulers=_;const St=(0,ji.on)(t,f,r),Dt=I;S&&oB(St,f,P,G,re,Ie,j,dt),[this.firestore,this.persistenceEnabled$]=(0,ji.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const zt=f.runOutsideAngular(()=>St.firestore());if(a&&zt.settings(a),Dt&&zt.useEmulator(...Dt),i&&!R(c)){const Zt=()=>{try{return(0,Gn.D)(zt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Tn){return typeof console<"u"&&console.warn(Tn),gt(!1)}};return[zt,f.runOutsideAngular(Zt)]}return[zt,gt(!1)]},[a,Dt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=fB(i,r),f=this.schedulers.ngZone.run(()=>a);return new dB(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new F3(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new hB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ji.Dh),u.LFG(ji.xv,8),u.LFG(L3,8),u.LFG(V3,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Si.HU),u.LFG(B3,8),u.LFG(U3,8),u.LFG(aB,8),u.LFG(eB,8),u.LFG(tB,8),u.LFG(nB,8),u.LFG(rB,8),u.LFG(iB,8),u.LFG(sB,8),u.LFG(wO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class ka{constructor(e){this.firestore=e}createDoc(e,t,r){return this.firestore.collection(t).doc(r).set(e)}getDoc(e,t){return this.firestore.collection(e).doc(t).valueChanges()}getId(){return this.firestore.createId()}getCollection(e){return this.firestore.collection(e,r=>r.orderBy("nombre")).valueChanges()}getCollection2(e){return this.firestore.collection(e).valueChanges()}}ka.\u0275fac=function(e){return new(e||ka)(u.LFG(j3))},ka.\u0275prov=u.Yz7({token:ka,factory:ka.\u0275fac,providedIn:"root"});var pB=O(655),H3=O(6774);const $3=new u.OlP("angularfire2.messaging.vapid-key"),G3=new u.OlP("angularfire2.messaging.service-worker-registeration");let DO=(()=>{class n{constructor(t,r,i,a,c,f,_){const w=_,I=gt(void 0).pipe((0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular),gn(H3.Gb),gn(j=>j?O.e(742).then(O.bind(O,4666)):Fs.E),(0,rt.U)(()=>(0,ji.on)(t,a,r)),gn(j=>(0,ji.cc)(`${j.name}.messaging`,"AngularFireMessaging",j.name,()=>(0,pB.mG)(this,void 0,void 0,function*(){return j.messaging()}),[])),nO({bufferSize:1,refCount:!1}));this.requestPermission=I.pipe((0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular),gn(()=>Notification.requestPermission())),this.getToken=I.pipe((0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular),gn(j=>(0,pB.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const G=w?yield w:null;return yield j.getToken({vapidKey:f,serviceWorkerRegistration:G})}return null})));const S=new hr.y(j=>{navigator.permissions.query({name:"notifications"}).then(G=>{G.onchange=()=>j.next()})}),P=I.pipe((0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular),bI(S),bI(this.getToken));return this.tokenChanges=I.pipe((0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular),gn(()=>ha(this.getToken,P))),this.messages=I.pipe((0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular),gn(j=>new hr.y(G=>j.onMessage(G)))),this.requestToken=I.pipe((0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular),gn(()=>this.requestPermission),Ji(()=>gt(null)),(0,Mr.z)(()=>this.tokenChanges)),this.deleteToken=()=>I.pipe((0,Oa.R)(c.outsideAngular),(0,Qo.Q)(c.insideAngular),gn(j=>j.deleteToken()),cu(!1)),(0,ji.pX)(this,I,a)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ji.Dh),u.LFG(ji.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Si.HU),u.LFG($3,8),u.LFG(G3,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),q3=(()=>{class n{constructor(){x3.Z.registerVersion("angularfire",Si.q4.full,"fcm-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[DO]}),n})();function W3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",17),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.goToDetailEventos(a.id))}),u._UZ(1,"img",18),u.TgZ(2,"div",19)(3,"h6"),u._uU(4),u.qZA(),u.TgZ(5,"p"),u._uU(6),u.qZA()()()}if(2&n){const t=e.$implicit;u.ekj("active",0===e.index),u.Q6J("@fade",void 0),u.xp6(1),u.MGl("src","",t.imagen," ",u.LSH),u.s9C("alt",t.nombre),u.xp6(3),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.fecha)}}function Z3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",20)(1,"div",21),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.goToDetailNegocios(a.id))}),u._UZ(2,"img",22),u.qZA()()}if(2&n){const t=e.$implicit;u.Q6J("@fade",void 0),u.xp6(2),u.s9C("src",t.logo,u.LSH),u.s9C("alt",t.nombre)}}class mm{constructor(e,t,r){this.firestore=e,this.router=t,this.afMessaging=r}ngOnInit(){this.firestore.getCollection("Comerciantes").subscribe(e=>{this.negocios=e}),this.firestore.getCollection("Eventos").subscribe(e=>{this.eventos=e})}goToDetailNegocios(e){this.router.navigateByUrl(`/detailNegocios/${e}`)}goToDetailEventos(e){this.router.navigateByUrl(`/detailEventos/${e}`)}requestPermission(){this.afMessaging.requestPermission.pipe(function v2(n,e,t=1/0){return(0,Fi.m)(e)?(0,Mr.z)(()=>n,e,t):("number"==typeof e&&(t=e),(0,Mr.z)(()=>n,t))}(this.afMessaging.tokenChanges)).subscribe(e=>{console.log("Permission granted! Save to the servers!",e)},e=>{console.error(e)})}}mm.\u0275fac=function(e){return new(e||mm)(u.Y36(ka),u.Y36(gi),u.Y36(DO))},mm.\u0275cmp=u.Xpm({type:mm,selectors:[["app-home"]],decls:32,vars:6,consts:[[1,"container"],[1,"carousel-title"],["src"," https://cdn-icons-png.flaticon.com/512/9894/9894435.png",2,"height","40px","margin-right","10px"],["id","myCarousel","data-ride","carousel","data-interval","4000",1,"carousel","slide"],[1,"carousel-inner","zoom2"],["class","carousel-item ",3,"active","click",4,"ngFor","ngForOf"],["href","#myCarousel","role","button","data-slide","prev",1,"carousel-control-prev","custom-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#myCarousel","role","button","data-slide","next",1,"carousel-control-next","custom-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["src"," https://cdn-icons-png.flaticon.com/512/3598/3598587.png",2,"height","40px","margin-right","20px"],[1,"container-fluid"],[1,"row"],["class","col-3 col-sm-4 col-md-3 col-lg-2 mb-3",4,"ngFor","ngForOf"],[3,"click"],[2,"color","white"],[1,"carousel-item",3,"click"],[1,"d-block","w-100","zoom",3,"src","alt"],[1,"carousel-caption"],[1,"col-3","col-sm-4","col-md-3","col-lg-2","mb-3"],[1,"card","border-0","zoom",3,"click"],[1,"card-img-top",3,"src","alt"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._UZ(3,"img",2),u._uU(4," Eventos pr\xf3ximos"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u.TgZ(6,"div",0)(7,"div",3)(8,"div",4),u.YNc(9,W3,7,7,"div",5),u.qZA(),u.TgZ(10,"a",6),u._UZ(11,"span",7),u.TgZ(12,"span",8),u._uU(13,"Previous"),u.qZA()(),u.TgZ(14,"a",9),u._UZ(15,"span",10),u.TgZ(16,"span",8),u._uU(17,"Next"),u.qZA()()()(),u.TgZ(18,"div",1)(19,"h2"),u._UZ(20,"img",11),u._uU(21,"Nuestras marcas"),u.qZA(),u._UZ(22,"hr"),u.qZA(),u.TgZ(23,"div",12)(24,"div",13),u.YNc(25,Z3,3,3,"div",14),u.qZA()(),u.TgZ(26,"button",15),u.NdJ("click",function(){return t.requestPermission()}),u._uU(27," Hello this is a chat app. You should let us send you notifications for this reason.\n"),u.qZA(),u._UZ(28,"hr",16)(29,"hr",16)(30,"hr",16)(31,"hr",16),u.qZA()),2&e&&(u.xp6(1),u.Q6J("@fade",void 0),u.xp6(1),u.Q6J("@fade",void 0),u.xp6(7),u.Q6J("ngForOf",t.eventos),u.xp6(9),u.Q6J("@fade",void 0),u.xp6(1),u.Q6J("@fade",void 0),u.xp6(6),u.Q6J("ngForOf",t.negocios))},dependencies:[bi],styles:[".col-3[_ngcontent-%COMP%]{margin:0;padding-left:2%;box-sizing:border-box}.carousel-title[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top:1px solid #000000;margin-top:0;margin-bottom:0}.carousel-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.carousel-item[_ngcontent-%COMP%], .carousel-inner[_ngcontent-%COMP%]{box-shadow:0 0 5px #aa9c9c}.carousel-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;margin-top:0;margin-bottom:0;padding-bottom:10px;padding-top:5px;font-family:cursive;background-color:#bbb9b954}.carousel-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;color:#000;padding-top:10px;padding-bottom:10px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-family:cursive;background-color:#bbb9b954;margin-top:0;margin-bottom:0}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:400px}.carousel-caption[_ngcontent-%COMP%]{bottom:0;font-size:small;background-color:#0000009f;color:#fff;left:0%;padding-top:0rem;padding-bottom:0rem;right:0%}.carousel-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin:auto}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px;height:450px;object-fit:cover}.carousel[_ngcontent-%COMP%]{margin-bottom:1rem}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.carousel-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:300px}}.carousel-item[_ngcontent-%COMP%]{transition:transform .5s ease-in-out;transition-timing-function:cubic-bezier(.25,.1,.25,1);transition-delay:0s}.carousel-item[_ngcontent-%COMP%]{overflow:hidden}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #00000034;cursor:pointer}.zoom2[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px 10px #00000057}.carousel-caption[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1rem}.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:0}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%;filter:invert(1)}.carousel-control-prev[_ngcontent-%COMP%]{left:-2%}.carousel-control-next[_ngcontent-%COMP%]{right:-2%}"],data:{animation:[Fg]}});let bG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Hn,Hn]}),n})();function wG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",14),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.goToDetailEventos(a.id))}),u.TgZ(1,"div",15),u._UZ(2,"img",16),u.TgZ(3,"h2",17),u._uU(4),u.qZA()(),u.TgZ(5,"div",18)(6,"p",19),u._uU(7),u.qZA()(),u.TgZ(8,"div",20),u._uU(9),u.TgZ(10,"span",21),u._UZ(11,"i",22),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.MGl("alt","Logo de ",t.nombre,""),u.Q6J("src",t.imagen,u.LSH),u.xp6(2),u.Oqu(t.nombre),u.xp6(3),u.Oqu(t.descripcion),u.xp6(2),u.hij(" ",t.lugar," ")}}class ub{constructor(e,t){this.firestore=e,this.router=t,this.busqueda=""}ngOnInit(){this.firestore.getCollection("Eventos").subscribe(e=>{this.eventos=e})}buscarEventos(){if(""!==this.busqueda.trim()){const t=this.normalizarTexto(this.busqueda).split(" ");this.firestore.getCollection("Eventos").subscribe(r=>{this.eventos=r.filter(i=>{const a=this.normalizarTexto(i.descripcion),c=this.normalizarTexto(i.nombre);return t.some(f=>a.includes(f)||c.includes(f))})})}else this.firestore.getCollection("Eventos").subscribe(e=>{this.eventos=e})}normalizarTexto(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/,/g,"")}verTodos(){this.busqueda="",this.buscarEventos()}goToDetailEventos(e){this.router.navigateByUrl(`/detailEventos/${e}`)}}function EG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",14),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.goToDetailNegocios(a.id))}),u.TgZ(1,"div",15),u._UZ(2,"img",16),u.TgZ(3,"h2",17),u._uU(4),u.qZA()(),u.TgZ(5,"div",18)(6,"p",19),u._uU(7),u.qZA()(),u.TgZ(8,"div",20),u._uU(9),u.TgZ(10,"span",21),u._UZ(11,"i",22),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.MGl("alt","Logo de ",t.nombre,""),u.Q6J("src",t.logo,u.LSH),u.xp6(2),u.Oqu(t.nombre),u.xp6(3),u.Oqu(t.descripcion),u.xp6(2),u.hij(" ",t.direccion," ")}}ub.\u0275fac=function(e){return new(e||ub)(u.Y36(ka),u.Y36(gi))},ub.\u0275cmp=u.Xpm({type:ub,selectors:[["app-eventos"]],decls:21,vars:3,consts:[[1,"container"],[1,"carousel-title"],["src","https://cdn-icons-png.flaticon.com/512/743/743007.png",2,"height","40px","margin-right","10px"],[2,"text-align","center"],[1,"search-container",2,"background-color","rgba(62, 63, 63, 0.164)","display","inline-flex","margin","0 auto","padding","10px"],[1,"search-buttons"],[1,"btn","btn-traer","zoom","btn-s",3,"click"],[1,"search-bar","zoom3"],["type","text","placeholder","\xbfBuscas algo?",3,"ngModel","ngModelChange"],[1,"bi","bi-search","zoom2",3,"click"],[1,"textoSearch",2,"text-align","center","margin-top","10px"],[1,"card-list"],["class","card",3,"click",4,"ngFor","ngForOf"],[2,"color","white"],[1,"card",3,"click"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"nombre"],[1,"card-body"],[1,"descripcion"],[1,"card-footer"],[1,"icono"],[1,"bi","bi-pin-map-fill"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._UZ(3,"img",2),u._uU(4," Lista de Eventos en Restrepo Valle "),u.qZA()(),u.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"button",6),u.NdJ("click",function(){return t.verTodos()}),u._uU(9,"Traer todos"),u.qZA()(),u.TgZ(10,"div",7)(11,"input",8),u.NdJ("ngModelChange",function(i){return t.busqueda=i})("ngModelChange",function(){return t.buscarEventos()}),u.qZA()(),u.TgZ(12,"i",9),u.NdJ("click",function(){return t.buscarEventos()}),u.qZA()()(),u.TgZ(13,"p",10),u._uU(14,"Puedes ingresar una palabra, frase, nombre o lo que sea que est\xe9s buscando!"),u.qZA(),u.TgZ(15,"div",11),u.YNc(16,wG,12,5,"div",12),u.qZA()(),u._UZ(17,"hr",13)(18,"hr",13)(19,"hr",13)(20,"hr",13)),2&e&&(u.Q6J("@fade",void 0),u.xp6(11),u.Q6J("ngModel",t.busqueda),u.xp6(5),u.Q6J("ngForOf",t.eventos))},dependencies:[bi,Bu,vy,Ma],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css";.container[_ngcontent-%COMP%]{max-width:10000px;margin:0 auto}h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:48px;text-align:center;margin-bottom:30px}.card-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:20px;justify-items:center}.card[_ngcontent-%COMP%]{width:100%;max-width:1400px;height:-moz-fit-content;height:fit-content;border:1px solid #ddd;border-radius:10px;overflow:hidden;transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 5px #00000070;cursor:pointer}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9}.card-header[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#000;font-style:italic;margin:0;padding:20px;font-size:24px;text-align:center}.card-body[_ngcontent-%COMP%]{margin:0;padding:20px;font-size:16px;text-align:justify}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;max-width:50px;margin-right:20px;border-radius:50%;box-shadow:0 0 10px #00000067;max-height:50px}.card-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;color:#666;margin:0}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#f9f9f9}.card-footer[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]{font-family:Poppins}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify;font-size:medium}.carousel-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;padding-bottom:10px;padding-top:5px;background-color:#bbb9b954;border-radius:5%;text-align:center;margin-bottom:20px;border:1px solid #ddd}.search-container[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center;align-items:center}.search-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:1px solid #ccc;border-radius:5px;overflow:hidden;margin-right:10px}.search-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:10px;border:none;width:100%;font-size:16px}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 15px;border:none;cursor:pointer;font-size:16px}.bi[_ngcontent-%COMP%]{color:#000;padding:10px 15px;border:none;cursor:pointer;font-size:16px}.search-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}.btn-traer[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-color:#000}.btn-traer[_ngcontent-%COMP%]:hover{background-color:#000;border-color:#fff;color:#fff}.textoSearch[_ngcontent-%COMP%]{margin-top:10px;text-align:center;font-size:1.2em;color:gray;margin-bottom:30px}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #00000034;cursor:pointer}.zoom2[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom2[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:red;cursor:pointer}.fondo[_ngcontent-%COMP%]{background-image:url(https://static.storyweaver.org.in/illustrations/58816/large/3.jpg);background-size:auto}'],data:{animation:[Fg]}});class db{constructor(e,t){this.firestore=e,this.router=t,this.busqueda=""}ngOnInit(){this.firestore.getCollection("Comerciantes").subscribe(e=>{this.negocios=e})}buscarNegocios(){if(""!==this.busqueda.trim()){const t=this.normalizarTexto(this.busqueda).split(" ");this.firestore.getCollection("Comerciantes").subscribe(r=>{this.negocios=r.filter(i=>{const a=this.normalizarTexto(i.descripcion),c=this.normalizarTexto(i.nombre);return t.some(f=>a.includes(f)||c.includes(f))})})}else this.firestore.getCollection("Comerciantes").subscribe(e=>{this.negocios=e})}normalizarTexto(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/,/g,"")}verTodos(){this.busqueda="",this.buscarNegocios()}goToDetailNegocios(e){this.router.navigateByUrl(`/detailNegocios/${e}`)}}db.\u0275fac=function(e){return new(e||db)(u.Y36(ka),u.Y36(gi))},db.\u0275cmp=u.Xpm({type:db,selectors:[["app-negocios"]],decls:21,vars:3,consts:[[1,"container"],[1,"carousel-title"],["src","https://cdn-icons-png.flaticon.com/512/743/743007.png",2,"height","40px","margin-right","10px"],[2,"text-align","center"],[1,"search-container",2,"background-color","rgba(62, 63, 63, 0.164)","display","inline-flex","margin","0 auto","padding","10px"],[1,"search-buttons"],[1,"btn","btn-traer","zoom","btn-s",3,"click"],[1,"search-bar","zoom3"],["type","text","placeholder","\xbfBuscas algo?",3,"ngModel","ngModelChange"],[1,"bi","bi-search","zoom2",3,"click"],[1,"textoSearch",2,"text-align","center","margin-top","10px"],[1,"card-list"],["class","card",3,"click",4,"ngFor","ngForOf"],[2,"color","white"],[1,"card",3,"click"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"nombre"],[1,"card-body"],[1,"descripcion"],[1,"card-footer"],[1,"icono"],[1,"bi","bi-pin-map-fill"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._UZ(3,"img",2),u._uU(4," Lista de negocios en Restrepo Valle "),u.qZA()(),u.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"button",6),u.NdJ("click",function(){return t.verTodos()}),u._uU(9,"Traer todos"),u.qZA()(),u.TgZ(10,"div",7)(11,"input",8),u.NdJ("ngModelChange",function(i){return t.busqueda=i})("ngModelChange",function(){return t.buscarNegocios()}),u.qZA()(),u.TgZ(12,"i",9),u.NdJ("click",function(){return t.buscarNegocios()}),u.qZA()()(),u.TgZ(13,"p",10),u._uU(14,"Puedes ingresar una palabra, frase, nombre o lo que sea que est\xe9s buscando!"),u.qZA(),u.TgZ(15,"div",11),u.YNc(16,EG,12,5,"div",12),u.qZA()(),u._UZ(17,"hr",13)(18,"hr",13)(19,"hr",13)(20,"hr",13)),2&e&&(u.Q6J("@fade",void 0),u.xp6(11),u.Q6J("ngModel",t.busqueda),u.xp6(5),u.Q6J("ngForOf",t.negocios))},dependencies:[bi,Bu,vy,Ma],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css";.container[_ngcontent-%COMP%]{max-width:10000px;margin:0 auto}h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:48px;text-align:center;margin-bottom:30px}.card-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:20px;justify-items:center}.card[_ngcontent-%COMP%]{width:100%;max-width:1400px;height:-moz-fit-content;height:fit-content;border:1px solid #ddd;border-radius:10px;overflow:hidden;transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 5px #00000070;cursor:pointer}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9}.card-header[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#000;font-style:italic;margin:0;padding:20px;font-size:24px;text-align:center}.card-body[_ngcontent-%COMP%]{margin:0;padding:20px;font-size:16px;text-align:justify}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;max-width:50px;margin-right:20px;border-radius:50%;box-shadow:0 0 10px #00000067;max-height:50px}.card-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;color:#666;margin:0}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#f9f9f9}.card-footer[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]{font-family:Poppins}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify;font-size:medium}.carousel-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;padding-bottom:10px;padding-top:5px;background-color:#bbb9b954;border-radius:5%;text-align:center;margin-bottom:20px;border:1px solid #ddd}.search-container[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center;align-items:center}.search-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:1px solid #ccc;border-radius:5px;overflow:hidden;margin-right:10px}.search-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:10px;border:none;width:100%;font-size:16px}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 15px;border:none;cursor:pointer;font-size:16px}.bi[_ngcontent-%COMP%]{color:#000;padding:10px 15px;border:none;cursor:pointer;font-size:16px}.search-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}.btn-traer[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-color:#000}.btn-traer[_ngcontent-%COMP%]:hover{background-color:#000;border-color:#fff;color:#fff}.textoSearch[_ngcontent-%COMP%]{margin-top:10px;text-align:center;font-size:1.2em;color:gray;margin-bottom:30px}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #00000034;cursor:pointer}.zoom2[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom2[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:red;cursor:pointer}.fondo[_ngcontent-%COMP%]{background-image:url(https://static.storyweaver.org.in/illustrations/58816/large/3.jpg);background-size:auto}'],data:{animation:[Fg]}});let xG=(()=>{class n{constructor(t){this.errorHandler=t}log(t,...r){(0,u.X6Q)()&&console.log(t,...r)}error(t){this.errorHandler.handleError(t)}warn(t,...r){console.warn(t,...r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const OG=new u.OlP("WindowToken");class kO{get nativeWindow(){throw new Error("Not implemented.")}}let kG=(()=>{class n extends kO{constructor(){super()}get nativeWindow(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const NG={provide:OG,useFactory:function RG(n,e){return F(e)?n.nativeWindow:{setTimeout:(r,i)=>{},clearTimeout:r=>{}}},deps:[kO,u.Lbi]},FG=[{provide:kO,useClass:kG},NG],LG=new u.OlP("DocumentToken");class RO{get nativeDocument(){throw new Error("Not implemented.")}}let BG=(()=>{class n extends RO{constructor(){super()}get nativeDocument(){return document}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const jG={provide:LG,useFactory:function VG(n,e){return F(e)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[RO,u.Lbi]},HG=[{provide:RO,useClass:BG},jG];let zG=(()=>{class n{constructor(t){this.eventManager=t,this.resizeSubject=new Jn.x,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(t){this.resizeSubject.next(t.target)}onLoaded(t){this.windowWidth=t.target}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),$G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[FG,zG,HG,xG],imports:[wl]}),n})();class hb{constructor(e,t){this.firestore=e,this.route=t}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");this.firestore.getDoc("Comerciantes",e).subscribe(t=>{this.negocio=t,this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:this.negocio.lat,lng:this.negocio.long},zoom:16,styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]});const r=new google.maps.LatLng(this.negocio.lat,this.negocio.long),i=new google.maps.Marker({position:r,map:this.map,icon:{url:this.negocio.logo,scaledSize:new google.maps.Size(32,32)}});i.setMap(this.map);const a=new google.maps.InfoWindow({content:`\n    <div style="background-color: #fff; color: #333; padding: 10px;">\n      <h4 style="margin: 0 0 10px;">${this.negocio.nombre}</h4>\n      <p style="margin: 0;">${this.negocio.direccion}</p>\n    </div>\n  `});i.addListener("click",()=>{a.open(this.map,i)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>{this.currentPosition={lat:c.coords.latitude,lng:c.coords.longitude},new google.maps.Marker({position:this.currentPosition,map:this.map,icon:{url:"https://cdn-icons-png.flaticon.com/512/1077/1077012.png",scaledSize:new google.maps.Size(32,32)}})})})}}hb.\u0275fac=function(e){return new(e||hb)(u.Y36(ka),u.Y36(Nr))},hb.\u0275cmp=u.Xpm({type:hb,selectors:[["app-detailnegocios"]],decls:58,vars:17,consts:[[1,"rounded-circle","shadow-lg","mx-auto","d-block",2,"max-width","300px","max-height","300px",3,"src"],[1,"d-flex","align-items-center"],[1,"col-md-8","col-sm-10","text-center","mx-auto","ml-sm-2","my-3","my-sm-0",2,"margin-right","0"],[1,"display-4",2,"font-weight","bold","color","#000000","margin-top","4px"],[2,"border-top","3px solid #bbb","width","100%"],[1,"lead",2,"font-size","20px","color","#000000"],[1,"row","justify-content-center"],[1,"col-md-8","text-center"],[1,"lead","mb-5"],["role","group",1,"btn-group","mb-4","flex-wrap"],[1,"btn","btn-outline-dark","btn-lg","zoom",3,"href"],[1,"bi","bi-telephone"],["role","group",1,"btn-group","flex-wrap"],[1,"btn","btn-outline-success","btn-lg","zoom",3,"href"],[1,"bi","bi-whatsapp"],[1,"col-md-15","col-xs-15","col-sm-15","text-center","mt-4"],["role","group",1,"btn-group","flex-wrap",2,"width","50%"],["target","_blank",1,"btn","btn-instagram","btn-lg","zoom",3,"href"],[1,"bi","bi-instagram","mr-2"],["target","_blank",1,"btn","btn-outline-primary","btn-lg","zoom",3,"href"],[1,"bi","bi-facebook","mr-2"],["target","_blank",1,"btn","btn-outline-info","btn-lg","zoom",3,"href"],[1,"bi","bi-globe2","mr-2"],[1,"d-flex","align-middle","justify-content-center",2,"margin-top","25px"],["src","https://cdn-icons-png.flaticon.com/512/2922/2922532.png","alt","Logo de persona",1,"mx-2",2,"width","40px","height","100%"],[1,"display-4",2,"font-weight","bold","color","#333","font-size","30px"],[1,"display-4",2,"font-weight","bold","color","#000000","margin-top","4px","font-size","xx-large"],["src","https://cdn-icons-png.flaticon.com/512/854/854878.png","alt","Logo de persona",1,"mx-2",2,"width","40px","height","40px"],["id","map",2,"margin-top","10px"],["onclick","window.history.back();",2,"background-color","#ffffff","color","#000000","padding","10px 20px","border-radius","5px","cursor","pointer","margin-top","20px"],[2,"color","white"]],template:function(e,t){1&e&&(u.TgZ(0,"div"),u._UZ(1,"img",0),u.TgZ(2,"div",1)(3,"div",2)(4,"h1",3),u._uU(5),u.qZA(),u._UZ(6,"hr",4),u.TgZ(7,"p",5),u._uU(8),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7)(11,"p",8),u._uU(12,"Comunicate con nosotros a trav\xe9s de los siguientes medios:"),u.qZA(),u.TgZ(13,"div",9)(14,"a",10),u._UZ(15,"i",11),u._uU(16),u.qZA(),u.TgZ(17,"a",10),u._UZ(18,"i",11),u._uU(19),u.qZA()()(),u.TgZ(20,"div",7)(21,"div",12)(22,"a",13),u._UZ(23,"i",14),u._uU(24),u.qZA(),u.TgZ(25,"a",13),u._UZ(26,"i",14),u._uU(27),u.qZA()()(),u.TgZ(28,"div",15)(29,"div",16)(30,"a",17),u._UZ(31,"i",18),u._uU(32,"Instagram"),u.qZA(),u.TgZ(33,"a",19),u._UZ(34,"i",20),u._uU(35,"Facebook"),u.qZA(),u.TgZ(36,"a",21),u._UZ(37,"i",22),u._uU(38,"Sitio web"),u.qZA()(),u.TgZ(39,"div",23),u._UZ(40,"img",24),u.TgZ(41,"h5",25),u._uU(42),u.qZA()(),u.TgZ(43,"div",6)(44,"div",7),u._UZ(45,"hr",4),u.TgZ(46,"h1",26),u._uU(47,"Encuentranos en: "),u.qZA(),u.TgZ(48,"h5",25),u._UZ(49,"img",27),u._uU(50),u.qZA(),u._UZ(51,"div",28),u.qZA()(),u.TgZ(52,"button",29),u._uU(53,"Volver a la p\xe1gina anterior"),u.qZA(),u._UZ(54,"hr",30)(55,"hr",30)(56,"hr",30)(57,"hr",30),u.qZA()()()),2&e&&(u.Q6J("@fade",void 0),u.xp6(1),u.s9C("src",null==t.negocio?null:t.negocio.logo,u.LSH),u.xp6(4),u.Oqu(null==t.negocio?null:t.negocio.nombre),u.xp6(3),u.Oqu(null==t.negocio?null:t.negocio.descripcion),u.xp6(6),u.MGl("href","tel:",null==t.negocio?null:t.negocio.telefono1,"",u.LSH),u.xp6(2),u.hij(" ",null==t.negocio?null:t.negocio.telefono1,""),u.xp6(1),u.MGl("href","tel:",null==t.negocio?null:t.negocio.telefono2,"",u.LSH),u.xp6(2),u.hij(" ",null==t.negocio?null:t.negocio.telefono2,""),u.xp6(3),u.MGl("href","https://wa.me/+57",null==t.negocio?null:t.negocio.whatsapp1,"",u.LSH),u.xp6(2),u.hij(" ",null==t.negocio?null:t.negocio.whatsapp1,""),u.xp6(1),u.MGl("href","https://wa.me/+57",null==t.negocio?null:t.negocio.whatsapp2,"",u.LSH),u.xp6(2),u.hij(" ",null==t.negocio?null:t.negocio.whatsapp2,""),u.xp6(3),u.s9C("href",null==t.negocio?null:t.negocio.instagram,u.LSH),u.xp6(3),u.s9C("href",null==t.negocio?null:t.negocio.facebook,u.LSH),u.xp6(3),u.s9C("href",null==t.negocio?null:t.negocio.web,u.LSH),u.xp6(6),u.Oqu(null==t.negocio?null:t.negocio.dueno),u.xp6(8),u.hij("",null==t.negocio?null:t.negocio.direccion," "))},styles:[".btn-instagram[_ngcontent-%COMP%]{background-color:#fff;color:#e1306c;border-color:#e1306c}.btn-instagram[_ngcontent-%COMP%]:hover{background-color:#e1306c;border-color:#fff;color:#fff}.container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #0000003b}#map[_ngcontent-%COMP%]{height:500px;box-shadow:0 0 8px 8px #0000003b}"],data:{animation:[Fg]}});let cq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class pb{constructor(e,t){this.firestore=e,this.route=t}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");this.firestore.getDoc("Eventos",e).subscribe(t=>{this.evento=t,this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:this.evento.lat,lng:this.evento.long},zoom:16,styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]});const r=new google.maps.LatLng(this.evento.lat,this.evento.long),i=new google.maps.Marker({position:r,map:this.map,icon:{url:this.evento.imagen,scaledSize:new google.maps.Size(32,32)}});i.setMap(this.map);const a=new google.maps.InfoWindow({content:`\n    <div style="background-color: #fff; color: #333; padding: 10px;">\n      <h4 style="margin: 0 0 10px;">${this.evento.nombre}</h4>\n      <p style="margin: 0;">${this.evento.lugar}</p>\n    </div>\n  `});i.addListener("click",()=>{a.open(this.map,i)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>{this.currentPosition={lat:c.coords.latitude,lng:c.coords.longitude},new google.maps.Marker({position:this.currentPosition,map:this.map,icon:{url:"https://cdn-icons-png.flaticon.com/512/1077/1077012.png",scaledSize:new google.maps.Size(32,32)}})})})}}pb.\u0275fac=function(e){return new(e||pb)(u.Y36(ka),u.Y36(Nr))},pb.\u0275cmp=u.Xpm({type:pb,selectors:[["app-detail-eventos"]],decls:28,vars:6,consts:[[1,"shadow-lg","mx-auto","d-block",2,"max-width","100%","max-height","500px","margin-top","10px",3,"src"],[1,"d-flex","align-items-center"],[1,"col-md-8","col-sm-10","text-center","mx-auto","ml-sm-2","my-3","my-sm-0",2,"margin-right","0"],[1,"display-4",2,"font-weight","bold","color","#000000","margin-top","4px"],[2,"border-top","3px solid #bbb","width","100%"],[1,"lead",2,"font-size","20px","color","#000000"],[1,"d-flex","align-middle","justify-content-center",2,"margin-top","25px"],["src","https://cdn-icons-png.flaticon.com/512/2787/2787902.png","alt","Logo de persona",1,"mx-2",2,"width","40px","height","100%"],[1,"display-4",2,"font-weight","bold","color","#333","font-size","30px"],[1,"row","justify-content-center"],[1,"col-md-8","text-center"],[1,"display-4",2,"font-weight","bold","color","#000000","margin-top","4px","font-size","xx-large"],["src","https://cdn-icons-png.flaticon.com/512/854/854878.png","alt","Logo de persona",1,"mx-2",2,"width","40px","height","40px"],["id","map",2,"margin-top","10px"],["onclick","window.history.back();",2,"background-color","#ffffff","color","#000000","padding","10px 20px","border-radius","5px","cursor","pointer","margin-top","20px"],[2,"color","white"]],template:function(e,t){1&e&&(u.TgZ(0,"div"),u._UZ(1,"img",0),u.TgZ(2,"div",1)(3,"div",2)(4,"h1",3),u._uU(5),u.qZA(),u._UZ(6,"hr",4),u.TgZ(7,"p",5),u._uU(8),u.qZA()()(),u.TgZ(9,"div",6),u._UZ(10,"img",7),u.TgZ(11,"h5",8),u._uU(12),u.qZA()(),u.TgZ(13,"div",9)(14,"div",10),u._UZ(15,"hr",4),u.TgZ(16,"h1",11),u._uU(17,"Ubicaci\xf3n: "),u.qZA(),u.TgZ(18,"h5",8),u._UZ(19,"img",12),u._uU(20),u.qZA(),u._UZ(21,"div",13),u.TgZ(22,"button",14),u._uU(23,"Volver a la p\xe1gina anterior"),u.qZA()()(),u._UZ(24,"hr",15)(25,"hr",15)(26,"hr",15)(27,"hr",15),u.qZA()),2&e&&(u.Q6J("@fade",void 0),u.xp6(1),u.s9C("src",null==t.evento?null:t.evento.imagen,u.LSH),u.xp6(4),u.Oqu(null==t.evento?null:t.evento.nombre),u.xp6(3),u.Oqu(null==t.evento?null:t.evento.descripcion),u.xp6(4),u.hij("Organiza: ",null==t.evento?null:t.evento.organizador," "),u.xp6(8),u.hij("",null==t.evento?null:t.evento.lugar," "))},styles:["#map[_ngcontent-%COMP%]{height:500px;box-shadow:0 0 8px 8px #0000003b}.zoom[_ngcontent-%COMP%]{transition:transform .5s ease}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px 10px #0000003b}"],data:{animation:[Fg]}});const Co=function(n){return{"bg-primary":n}};function uq(n,e){if(1&n&&(u.TgZ(0,"tr",9)(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA()()),2&n){const t=e.$implicit,r=u.oxw();u.Q6J("ngClass",u.VKq(5,Co,t.dias.includes(r.diaActual2))),u.xp6(2),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.dias),u.xp6(2),u.Oqu(t.direccion),u.xp6(2),u.Oqu(t.telefono)}}function dq(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td",9),u._uU(6),u.qZA(),u.TgZ(7,"td",9),u._uU(8),u.qZA(),u.TgZ(9,"td",9),u._uU(10),u.qZA(),u.TgZ(11,"td",9),u._uU(12),u.qZA(),u.TgZ(13,"td",9),u._uU(14),u.qZA(),u.TgZ(15,"td",9),u._uU(16),u.qZA()()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(2),u.Oqu(t.disciplina),u.xp6(2),u.Oqu(t.monitor),u.xp6(1),u.Q6J("ngClass",u.VKq(14,Co,1===r.semana)),u.xp6(1),u.Oqu(t.lunes),u.xp6(1),u.Q6J("ngClass",u.VKq(16,Co,2===r.semana)),u.xp6(1),u.Oqu(t.martes),u.xp6(1),u.Q6J("ngClass",u.VKq(18,Co,3===r.semana)),u.xp6(1),u.Oqu(t.miercoles),u.xp6(1),u.Q6J("ngClass",u.VKq(20,Co,4===r.semana)),u.xp6(1),u.Oqu(t.jueves),u.xp6(1),u.Q6J("ngClass",u.VKq(22,Co,5===r.semana)),u.xp6(1),u.Oqu(t.viernes),u.xp6(1),u.Q6J("ngClass",u.VKq(24,Co,6===r.semana)),u.xp6(1),u.Oqu(t.sabado)}}function hq(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td",9),u._uU(6),u.qZA(),u.TgZ(7,"td",9),u._uU(8),u.qZA(),u.TgZ(9,"td",9),u._uU(10),u.qZA(),u.TgZ(11,"td",9),u._uU(12),u.qZA(),u.TgZ(13,"td",9),u._uU(14),u.qZA(),u.TgZ(15,"td",9),u._uU(16),u.qZA()()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(2),u.Oqu(t.disciplina),u.xp6(2),u.Oqu(t.monitor),u.xp6(1),u.Q6J("ngClass",u.VKq(14,Co,1===r.semana)),u.xp6(1),u.Oqu(t.lunes),u.xp6(1),u.Q6J("ngClass",u.VKq(16,Co,2===r.semana)),u.xp6(1),u.Oqu(t.martes),u.xp6(1),u.Q6J("ngClass",u.VKq(18,Co,3===r.semana)),u.xp6(1),u.Oqu(t.miercoles),u.xp6(1),u.Q6J("ngClass",u.VKq(20,Co,4===r.semana)),u.xp6(1),u.Oqu(t.jueves),u.xp6(1),u.Q6J("ngClass",u.VKq(22,Co,5===r.semana)),u.xp6(1),u.Oqu(t.viernes),u.xp6(1),u.Q6J("ngClass",u.VKq(24,Co,6===r.semana)),u.xp6(1),u.Oqu(t.sabado)}}class gb{constructor(e){this.firestore=e,this.diaActual2="",this.diaActual=0,this.semana=0,this.diaActualNombre="",this.busqueda=""}ngOnInit(){const e=new Date;this.diaActual=e.getDate(),this.diaActual2=this.diaActual.toString(),this.firestore.getCollection("Droguerias").subscribe(r=>{this.droguerias=r}),this.semana=e.getDay(),this.diaActualNombre=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"][this.semana],this.firestore.getCollection2("Polideportivo").subscribe(r=>{this.polideportivo=r}),this.firestore.getCollection2("Estadio").subscribe(r=>{this.estadio=r})}}gb.\u0275fac=function(e){return new(e||gb)(u.Y36(ka))},gb.\u0275cmp=u.Xpm({type:gb,selectors:[["app-info"]],decls:81,vars:9,consts:[[1,"container"],[1,"carousel-title"],["src"," https://cdn-icons-png.flaticon.com/512/9894/9894435.png",2,"height","40px","margin-right","10px"],[1,"table-title"],[1,"caption"],[1,"table"],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[2,"color","white"],[3,"ngClass"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._UZ(3,"img",2),u._uU(4," Informac\xedon General"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u.TgZ(6,"div",3)(7,"h2"),u._uU(8,"Droguer\xeda de turno"),u.qZA()(),u.TgZ(9,"caption",4),u._uU(10),u.qZA(),u.TgZ(11,"table",5)(12,"thead")(13,"tr")(14,"th"),u._uU(15,"Droguer\xeda"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"D\xedas"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"Direcci\xf3n"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Tel\xe9fono"),u.qZA()()(),u.TgZ(22,"tbody"),u.YNc(23,uq,9,7,"tr",6),u.qZA()(),u._UZ(24,"hr"),u.TgZ(25,"div",3)(26,"h2"),u._uU(27,"Horarios coliseo"),u.qZA()(),u.TgZ(28,"caption",4),u._uU(29),u.qZA(),u.TgZ(30,"table",5)(31,"thead")(32,"tr")(33,"th"),u._uU(34,"Disciplina Deportiva"),u.qZA(),u.TgZ(35,"th"),u._uU(36,"Monitor"),u.qZA(),u.TgZ(37,"th"),u._uU(38,"Lunes"),u.qZA(),u.TgZ(39,"th"),u._uU(40,"Martes"),u.qZA(),u.TgZ(41,"th"),u._uU(42,"Miercoles"),u.qZA(),u.TgZ(43,"th"),u._uU(44,"Jueves"),u.qZA(),u.TgZ(45,"th"),u._uU(46,"Viernes"),u.qZA(),u.TgZ(47,"th"),u._uU(48,"S\xe1bado"),u.qZA()()(),u.TgZ(49,"tbody"),u.YNc(50,dq,17,26,"tr",7),u.qZA()(),u.TgZ(51,"div",3)(52,"h2"),u._uU(53,"Horarios estadio"),u.qZA()(),u.TgZ(54,"caption",4),u._uU(55),u.qZA(),u.TgZ(56,"table",5)(57,"thead")(58,"tr")(59,"th"),u._uU(60,"Disciplina Deportiva"),u.qZA(),u.TgZ(61,"th"),u._uU(62,"Monitor"),u.qZA(),u.TgZ(63,"th"),u._uU(64,"Lunes"),u.qZA(),u.TgZ(65,"th"),u._uU(66,"Martes"),u.qZA(),u.TgZ(67,"th"),u._uU(68,"Miercoles"),u.qZA(),u.TgZ(69,"th"),u._uU(70,"Jueves"),u.qZA(),u.TgZ(71,"th"),u._uU(72,"Viernes"),u.qZA(),u.TgZ(73,"th"),u._uU(74,"S\xe1bado"),u.qZA()()(),u.TgZ(75,"tbody"),u.YNc(76,hq,17,26,"tr",7),u.qZA()(),u._UZ(77,"hr",8)(78,"hr",8)(79,"hr",8)(80,"hr",8),u.qZA()),2&e&&(u.Q6J("@fade",void 0),u.xp6(1),u.Q6J("@fade",void 0),u.xp6(1),u.Q6J("@fade",void 0),u.xp6(8),u.hij("D\xeda ",t.diaActual,""),u.xp6(13),u.Q6J("ngForOf",t.droguerias),u.xp6(6),u.hij("D\xeda ",t.diaActualNombre,""),u.xp6(21),u.Q6J("ngForOf",t.polideportivo),u.xp6(5),u.hij("D\xeda ",t.diaActualNombre,""),u.xp6(21),u.Q6J("ngForOf",t.estadio))},dependencies:[Kt,bi],styles:[".carousel-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#000;margin-top:0;padding-bottom:10px;padding-top:5px;font-family:cursive;background-color:#bbb9b954;text-align:center;margin-bottom:20px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0;margin:20px 0;font-size:1rem;font-weight:400;line-height:1.5rem;color:#333}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;padding:12px 15px;text-align:left;background-color:#f2f2f2;border-bottom:1px solid #ccc}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #ccc}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#f2f2f2}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.table-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.bg-primary[_ngcontent-%COMP%]{background-color:#5900ffa2;color:#fff}.table-title[_ngcontent-%COMP%]{background-color:#7584d438;padding:5px}.caption[_ngcontent-%COMP%]{display:block;margin:auto;text-align:center;font-size:large}"],data:{animation:[Fg]}});var fq=O(1144);const pq=["addListener","removeListener"],gq=["addEventListener","removeEventListener"],mq=["on","off"];function PI(n,e,t,r){if((0,Fi.m)(t)&&(r=t,t=void 0),r)return PI(n,e,t).pipe(Bl(r));const[i,a]=function vq(n){return(0,Fi.m)(n.addEventListener)&&(0,Fi.m)(n.removeEventListener)}(n)?gq.map(c=>f=>n[c](e,f,t)):function _q(n){return(0,Fi.m)(n.addListener)&&(0,Fi.m)(n.removeListener)}(n)?pq.map(FB(n,e)):function yq(n){return(0,Fi.m)(n.on)&&(0,Fi.m)(n.off)}(n)?mq.map(FB(n,e)):[];if(!i&&(0,fq.z)(n))return(0,Mr.z)(c=>PI(c,e,t))((0,oo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new hr.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function FB(n,e){return t=>r=>n[t](e,r)}const vd=new hr.y(qu.Z),wq={connector:()=>new Jn.x};function LB(n,e=wq){const{connector:t}=e;return(0,Pr.e)((r,i)=>{const a=t();(0,oo.Xf)(n(function bq(n){return new hr.y(e=>n.subscribe(e))}(a))).subscribe(i),i.add(r.subscribe(a))})}function BB(n,e){return e?t=>ha(e.pipe(wr(1),function Iq(){return(0,Pr.e)((n,e)=>{n.subscribe((0,qn.x)(e,qu.Z))})}()),t.pipe(BB(n))):(0,Mr.z)((t,r)=>(0,oo.Xf)(n(t,r)).pipe(wr(1),rp(t)))}var Dq=O(3532);const mb="Service workers are disabled or not supported by this browser";class NI{constructor(e){if(this.serviceWorker=e,e){const r=PI(e,"controllerchange").pipe((0,rt.U)(()=>e.controller)),a=ha(ao(()=>gt(e.controller)),r);this.worker=a.pipe(fr(I=>!!I)),this.registration=this.worker.pipe(gn(()=>e.getRegistration()));const w=PI(e,"message").pipe((0,rt.U)(I=>I.data)).pipe(fr(I=>I&&I.type)).pipe(function Cq(n){return n?e=>LB(n)(e):e=>function Eq(n,e){const t=(0,Fi.m)(n)?n:()=>n;return(0,Fi.m)(e)?LB(e,{connector:t}):r=>new Yd(r,t)}(new Jn.x)(e)}());w.connect(),this.events=w}else this.worker=this.events=this.registration=function Aq(n){return ao(()=>Ro(new Error(n)))}(mb)}postMessage(e,t){return this.worker.pipe(wr(1),(0,pr.b)(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(e,t);return Promise.all([a,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(fr(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(wr(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(fr(t=>t.nonce===e),wr(1),(0,rt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let xq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Jn.x,!t.isEnabled)return this.messages=vd,this.notificationClicks=vd,void(this.subscription=vd);this.messages=this.sw.eventsOfType("PUSH").pipe((0,rt.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,rt.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,rt.U)(i=>i.pushManager));const r=this.pushManager.pipe(gn(i=>i.getSubscription()));this.subscription=(0,tO.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(mb));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);return r.applicationServerKey=a,this.pushManager.pipe(gn(c=>c.subscribe(r)),wr(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(wr(1),gn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(mb))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Oq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=vd,this.available=vd,this.activated=vd,void(this.unrecoverable=vd);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(fr(r=>"VERSION_READY"===r.type),(0,rt.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(mb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(mb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class NO{}const VB=new u.OlP("NGSW_REGISTER_SCRIPT");function kq(n,e,t,r){return()=>{if(!F(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[c,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=gt(null);break;case"registerWithDelay":i=UB(+f[0]||0);break;case"registerWhenStable":i=f[0]?(0,tO.T)(jB(n),UB(+f[0])):jB(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(u.R0b).runOutsideAngular(()=>i.pipe(wr(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function UB(n){return gt(null).pipe(function Mq(n,e=Zh.z){const t=function Sq(n=0,e,t=Zh.P){let r=-1;return null!=e&&((0,Dq.K)(e)?t=e:r=e),new hr.y(i=>{let a=function Tq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e);return BB(()=>t)}(n))}function jB(n){return n.get(u.z2F).isStable.pipe(fr(t=>t))}function Rq(n,e){return new NI(F(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Pq=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:VB,useValue:t},{provide:NO,useValue:r},{provide:NI,useFactory:Rq,deps:[NO,u.Lbi]},{provide:u.ip1,useFactory:kq,deps:[u.zs3,VB,NO,u.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[xq,Oq]}),n})();const Nq=[{path:"",redirectTo:"",pathMatch:"full",component:mm},{path:"home",component:mm},{path:"negocios",component:db},{path:"eventos",component:ub},{path:"detailNegocios/:id",component:hb},{path:"detailEventos/:id",component:pb},{path:"info",component:gb}];class vm{}vm.\u0275fac=function(e){return new(e||vm)},vm.\u0275mod=u.oAB({type:vm,bootstrap:[lc]}),vm.\u0275inj=u.cJS({imports:[cq,q3,$G,c2,bG,la,dT,bE,y2,ED.forRoot(Nq),ji.hO.initializeApp({apiKey:"AIzaSyBO-UGpyBD55KeTUJsOGbxI4ttmUXJ5ybY",authDomain:"comerciantes-restrepo.firebaseapp.com",databaseURL:"https://comerciantes-restrepo-default-rtdb.firebaseio.com",projectId:"comerciantes-restrepo",storageBucket:"comerciantes-restrepo.appspot.com",messagingSenderId:"982260572909",appId:"1:982260572909:web:194b521e51612314bde2e4",measurementId:"G-Z2N2R93WZ4"}),Pq.register("ngsw-worker.js",{enabled:!1,registrationStrategy:"registerWithDelay:1000"})]}),Vd().bootstrapModule(vm).catch(n=>console.error(n))},9751:(Et,Me,O)=>{O.d(Me,{y:()=>_e});var u=O(930),X=O(727),N=O(8822),ie=O(9635),te=O(2416),J=O(576),ge=O(2806);let _e=(()=>{class Y{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const Qe=new Y;return Qe.source=this,Qe.operator=ve,Qe}subscribe(ve,Qe,Je){const ue=function $(Y){return Y&&Y instanceof u.Lv||function H(Y){return Y&&(0,J.m)(Y.next)&&(0,J.m)(Y.error)&&(0,J.m)(Y.complete)}(Y)&&(0,X.Nn)(Y)}(ve)?ve:new u.Hp(ve,Qe,Je);return(0,ge.x)(()=>{const{operator:Ae,source:Re}=this;ue.add(Ae?Ae.call(ue,Re):Re?this._subscribe(ue):this._trySubscribe(ue))}),ue}_trySubscribe(ve){try{return this._subscribe(ve)}catch(Qe){ve.error(Qe)}}forEach(ve,Qe){return new(Qe=ce(Qe))((Je,ue)=>{const Ae=new u.Hp({next:Re=>{try{ve(Re)}catch(Ve){ue(Ve),Ae.unsubscribe()}},error:ue,complete:Je});this.subscribe(Ae)})}_subscribe(ve){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ve)}[N.L](){return this}pipe(...ve){return(0,ie.U)(ve)(this)}toPromise(ve){return new(ve=ce(ve))((Qe,Je)=>{let ue;this.subscribe(Ae=>ue=Ae,Ae=>Je(Ae),()=>Qe(ue))})}}return Y.create=Ze=>new Y(Ze),Y})();function ce(Y){var Ze;return null!==(Ze=Y??te.v.Promise)&&void 0!==Ze?Ze:Promise}},7579:(Et,Me,O)=>{O.d(Me,{x:()=>ge});var u=O(9751),X=O(727);const ie=(0,O(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=O(8737),J=O(2806);let ge=(()=>{class ce extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Y=new _e(this,this);return Y.operator=$,Y}_throwIfClosed(){if(this.closed)throw new ie}next($){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next($)}})}error($){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Y}=this;for(;Y.length;)Y.shift().error($)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Y,isStopped:Ze,observers:ve}=this;return Y||Ze?X.Lc:(this.currentObservers=null,ve.push($),new X.w0(()=>{this.currentObservers=null,(0,te.P)(ve,$)}))}_checkFinalizedStatuses($){const{hasError:Y,thrownError:Ze,isStopped:ve}=this;Y?$.error(Ze):ve&&$.complete()}asObservable(){const $=new u.y;return $.source=this,$}}return ce.create=(H,$)=>new _e(H,$),ce})();class _e extends ge{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Y||Y.call($,H)}error(H){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Y||Y.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,Y;return null!==(Y=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==Y?Y:X.Lc}}},930:(Et,Me,O)=>{O.d(Me,{Hp:()=>Je,Lv:()=>Y});var u=O(576),X=O(727),N=O(2416),ie=O(7849),te=O(5032);const J=ce("C",void 0,void 0);function ce(xe,Ee,Oe){return{kind:xe,value:Ee,error:Oe}}var H=O(3410),$=O(2806);class Y extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=Ve}static create(Ee,Oe,$e){return new Je(Ee,Oe,$e)}next(Ee){this.isStopped?Re(function _e(xe){return ce("N",xe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Re(function ge(xe){return ce("E",void 0,xe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Re(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function ve(xe,Ee){return Ze.call(xe,Ee)}class Qe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ee)}catch($e){ue($e)}}error(Ee){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ee)}catch($e){ue($e)}else ue(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Oe){ue(Oe)}}}class Je extends Y{constructor(Ee,Oe,$e){let Pe;if(super(),(0,u.m)(Ee)||!Ee)Pe={next:Ee??void 0,error:Oe??void 0,complete:$e??void 0};else{let U;this&&N.v.useDeprecatedNextContext?(U=Object.create(Ee),U.unsubscribe=()=>this.unsubscribe(),Pe={next:Ee.next&&ve(Ee.next,U),error:Ee.error&&ve(Ee.error,U),complete:Ee.complete&&ve(Ee.complete,U)}):Pe=Ee}this.destination=new Qe(Pe)}}function ue(xe){N.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(xe):(0,ie.h)(xe)}function Re(xe,Ee){const{onStoppedNotification:Oe}=N.v;Oe&&H.z.setTimeout(()=>Oe(xe,Ee))}const Ve={closed:!0,next:te.Z,error:function Ae(xe){throw xe},complete:te.Z}},727:(Et,Me,O)=>{O.d(Me,{Lc:()=>J,w0:()=>te,Nn:()=>ge});var u=O(576);const N=(0,O(3888).d)(ce=>function($){ce(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Y,Ze)=>`${Ze+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ie=O(8737);class te{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const ve of $)ve.remove(this);else $.remove(this);const{initialTeardown:Y}=this;if((0,u.m)(Y))try{Y()}catch(ve){H=ve instanceof N?ve.errors:[ve]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const ve of Ze)try{_e(ve)}catch(Qe){H=H??[],Qe instanceof N?H=[...H,...Qe.errors]:H.push(Qe)}}if(H)throw new N(H)}}add(H){var $;if(H&&H!==this)if(this.closed)_e(H);else{if(H instanceof te){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,ie.P)($,H)}remove(H){const{_finalizers:$}=this;$&&(0,ie.P)($,H),H instanceof te&&H._removeParent(this)}}te.EMPTY=(()=>{const ce=new te;return ce.closed=!0,ce})();const J=te.EMPTY;function ge(ce){return ce instanceof te||ce&&"closed"in ce&&(0,u.m)(ce.remove)&&(0,u.m)(ce.add)&&(0,u.m)(ce.unsubscribe)}function _e(ce){(0,u.m)(ce)?ce():ce.unsubscribe()}},2416:(Et,Me,O)=>{O.d(Me,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Et,Me,O)=>{O.d(Me,{E:()=>X});const X=new(O(9751).y)(te=>te.complete())},8996:(Et,Me,O)=>{O.d(Me,{D:()=>Ee});var u=O(8421),X=O(5363),N=O(9468),J=O(9751),_e=O(2202),ce=O(576),H=O(9672);function Y(Oe,$e){if(!Oe)throw new Error("Iterable cannot be null");return new J.y(Pe=>{(0,H.f)(Pe,$e,()=>{const U=Oe[Symbol.asyncIterator]();(0,H.f)(Pe,$e,()=>{U.next().then(ye=>{ye.done?Pe.complete():Pe.next(ye.value)})},0,!0)})})}var Ze=O(3670),ve=O(8239),Qe=O(1144),Je=O(6495),ue=O(2206),Ae=O(4532),Re=O(3260);function Ee(Oe,$e){return $e?function xe(Oe,$e){if(null!=Oe){if((0,Ze.c)(Oe))return function ie(Oe,$e){return(0,u.Xf)(Oe).pipe((0,N.R)($e),(0,X.Q)($e))}(Oe,$e);if((0,Qe.z)(Oe))return function ge(Oe,$e){return new J.y(Pe=>{let U=0;return $e.schedule(function(){U===Oe.length?Pe.complete():(Pe.next(Oe[U++]),Pe.closed||this.schedule())})})}(Oe,$e);if((0,ve.t)(Oe))return function te(Oe,$e){return(0,u.Xf)(Oe).pipe((0,N.R)($e),(0,X.Q)($e))}(Oe,$e);if((0,ue.D)(Oe))return Y(Oe,$e);if((0,Je.T)(Oe))return function $(Oe,$e){return new J.y(Pe=>{let U;return(0,H.f)(Pe,$e,()=>{U=Oe[_e.h](),(0,H.f)(Pe,$e,()=>{let ye,qe;try{({value:ye,done:qe}=U.next())}catch(Ye){return void Pe.error(Ye)}qe?Pe.complete():Pe.next(ye)},0,!0)}),()=>(0,ce.m)(U?.return)&&U.return()})}(Oe,$e);if((0,Re.L)(Oe))return function Ve(Oe,$e){return Y((0,Re.Q)(Oe),$e)}(Oe,$e)}throw(0,Ae.z)(Oe)}(Oe,$e):(0,u.Xf)(Oe)}},8421:(Et,Me,O)=>{O.d(Me,{Xf:()=>Ze});var u=O(655),X=O(1144),N=O(8239),ie=O(9751),te=O(3670),J=O(2206),ge=O(4532),_e=O(6495),ce=O(3260),H=O(576),$=O(7849),Y=O(8822);function Ze(xe){if(xe instanceof ie.y)return xe;if(null!=xe){if((0,te.c)(xe))return function ve(xe){return new ie.y(Ee=>{const Oe=xe[Y.L]();if((0,H.m)(Oe.subscribe))return Oe.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,X.z)(xe))return function Qe(xe){return new ie.y(Ee=>{for(let Oe=0;Oe<xe.length&&!Ee.closed;Oe++)Ee.next(xe[Oe]);Ee.complete()})}(xe);if((0,N.t)(xe))return function Je(xe){return new ie.y(Ee=>{xe.then(Oe=>{Ee.closed||(Ee.next(Oe),Ee.complete())},Oe=>Ee.error(Oe)).then(null,$.h)})}(xe);if((0,J.D)(xe))return Ae(xe);if((0,_e.T)(xe))return function ue(xe){return new ie.y(Ee=>{for(const Oe of xe)if(Ee.next(Oe),Ee.closed)return;Ee.complete()})}(xe);if((0,ce.L)(xe))return function Re(xe){return Ae((0,ce.Q)(xe))}(xe)}throw(0,ge.z)(xe)}function Ae(xe){return new ie.y(Ee=>{(function Ve(xe,Ee){var Oe,$e,Pe,U;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,u.KL)(xe);!($e=yield Oe.next()).done;)if(Ee.next($e.value),Ee.closed)return}catch(ye){Pe={error:ye}}finally{try{$e&&!$e.done&&(U=Oe.return)&&(yield U.call(Oe))}finally{if(Pe)throw Pe.error}}Ee.complete()})})(xe,Ee).catch(Oe=>Ee.error(Oe))})}},6451:(Et,Me,O)=>{O.d(Me,{T:()=>J});var u=O(8189),X=O(8421),N=O(515),ie=O(3269),te=O(8996);function J(...ge){const _e=(0,ie.yG)(ge),ce=(0,ie._6)(ge,1/0),H=ge;return H.length?1===H.length?(0,X.Xf)(H[0]):(0,u.J)(ce)((0,te.D)(H,_e)):N.E}},5403:(Et,Me,O)=>{O.d(Me,{x:()=>X});var u=O(930);function X(ie,te,J,ge,_e){return new N(ie,te,J,ge,_e)}class N extends u.Lv{constructor(te,J,ge,_e,ce,H){super(te),this.onFinalize=ce,this.shouldUnsubscribe=H,this._next=J?function($){try{J($)}catch(Y){te.error(Y)}}:super._next,this._error=_e?function($){try{_e($)}catch(Y){te.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch($){te.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},4004:(Et,Me,O)=>{O.d(Me,{U:()=>N});var u=O(4482),X=O(5403);function N(ie,te){return(0,u.e)((J,ge)=>{let _e=0;J.subscribe((0,X.x)(ge,ce=>{ge.next(ie.call(te,ce,_e++))}))})}},8189:(Et,Me,O)=>{O.d(Me,{J:()=>N});var u=O(5577),X=O(4671);function N(ie=1/0){return(0,u.z)(X.y,ie)}},5577:(Et,Me,O)=>{O.d(Me,{z:()=>_e});var u=O(4004),X=O(8421),N=O(4482),ie=O(9672),te=O(5403),ge=O(576);function _e(ce,H,$=1/0){return(0,ge.m)(H)?_e((Y,Ze)=>(0,u.U)((ve,Qe)=>H(Y,ve,Ze,Qe))((0,X.Xf)(ce(Y,Ze))),$):("number"==typeof H&&($=H),(0,N.e)((Y,Ze)=>function J(ce,H,$,Y,Ze,ve,Qe,Je){const ue=[];let Ae=0,Re=0,Ve=!1;const xe=()=>{Ve&&!ue.length&&!Ae&&H.complete()},Ee=$e=>Ae<Y?Oe($e):ue.push($e),Oe=$e=>{ve&&H.next($e),Ae++;let Pe=!1;(0,X.Xf)($($e,Re++)).subscribe((0,te.x)(H,U=>{Ze?.(U),ve?Ee(U):H.next(U)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Ae--;ue.length&&Ae<Y;){const U=ue.shift();Qe?(0,ie.f)(H,Qe,()=>Oe(U)):Oe(U)}xe()}catch(U){H.error(U)}}))};return ce.subscribe((0,te.x)(H,Ee,()=>{Ve=!0,xe()})),()=>{Je?.()}}(Y,Ze,ce,$)))}},5363:(Et,Me,O)=>{O.d(Me,{Q:()=>ie});var u=O(9672),X=O(4482),N=O(5403);function ie(te,J=0){return(0,X.e)((ge,_e)=>{ge.subscribe((0,N.x)(_e,ce=>(0,u.f)(_e,te,()=>_e.next(ce),J),()=>(0,u.f)(_e,te,()=>_e.complete(),J),ce=>(0,u.f)(_e,te,()=>_e.error(ce),J)))})}},3099:(Et,Me,O)=>{O.d(Me,{B:()=>te});var u=O(8421),X=O(7579),N=O(930),ie=O(4482);function te(ge={}){const{connector:_e=(()=>new X.x),resetOnError:ce=!0,resetOnComplete:H=!0,resetOnRefCountZero:$=!0}=ge;return Y=>{let Ze,ve,Qe,Je=0,ue=!1,Ae=!1;const Re=()=>{ve?.unsubscribe(),ve=void 0},Ve=()=>{Re(),Ze=Qe=void 0,ue=Ae=!1},xe=()=>{const Ee=Ze;Ve(),Ee?.unsubscribe()};return(0,ie.e)((Ee,Oe)=>{Je++,!Ae&&!ue&&Re();const $e=Qe=Qe??_e();Oe.add(()=>{Je--,0===Je&&!Ae&&!ue&&(ve=J(xe,$))}),$e.subscribe(Oe),!Ze&&Je>0&&(Ze=new N.Hp({next:Pe=>$e.next(Pe),error:Pe=>{Ae=!0,Re(),ve=J(Ve,ce,Pe),$e.error(Pe)},complete:()=>{ue=!0,Re(),ve=J(Ve,H),$e.complete()}}),(0,u.Xf)(Ee).subscribe(Ze))})(Y)}}function J(ge,_e,...ce){if(!0===_e)return void ge();if(!1===_e)return;const H=new N.Hp({next:()=>{H.unsubscribe(),ge()}});return(0,u.Xf)(_e(...ce)).subscribe(H)}},9468:(Et,Me,O)=>{O.d(Me,{R:()=>X});var u=O(4482);function X(N,ie=0){return(0,u.e)((te,J)=>{J.add(N.schedule(()=>te.subscribe(J),ie))})}},8505:(Et,Me,O)=>{O.d(Me,{b:()=>te});var u=O(576),X=O(4482),N=O(5403),ie=O(4671);function te(J,ge,_e){const ce=(0,u.m)(J)||ge||_e?{next:J,error:ge,complete:_e}:J;return ce?(0,X.e)((H,$)=>{var Y;null===(Y=ce.subscribe)||void 0===Y||Y.call(ce);let Ze=!0;H.subscribe((0,N.x)($,ve=>{var Qe;null===(Qe=ce.next)||void 0===Qe||Qe.call(ce,ve),$.next(ve)},()=>{var ve;Ze=!1,null===(ve=ce.complete)||void 0===ve||ve.call(ce),$.complete()},ve=>{var Qe;Ze=!1,null===(Qe=ce.error)||void 0===Qe||Qe.call(ce,ve),$.error(ve)},()=>{var ve,Qe;Ze&&(null===(ve=ce.unsubscribe)||void 0===ve||ve.call(ce)),null===(Qe=ce.finalize)||void 0===Qe||Qe.call(ce)}))}):ie.y}},4408:(Et,Me,O)=>{O.d(Me,{o:()=>te});var u=O(727);class X extends u.w0{constructor(ge,_e){super()}schedule(ge,_e=0){return this}}const N={setInterval(J,ge,..._e){const{delegate:ce}=N;return ce?.setInterval?ce.setInterval(J,ge,..._e):setInterval(J,ge,..._e)},clearInterval(J){const{delegate:ge}=N;return(ge?.clearInterval||clearInterval)(J)},delegate:void 0};var ie=O(8737);class te extends X{constructor(ge,_e){super(ge,_e),this.scheduler=ge,this.work=_e,this.pending=!1}schedule(ge,_e=0){var ce;if(this.closed)return this;this.state=ge;const H=this.id,$=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId($,H,_e)),this.pending=!0,this.delay=_e,this.id=null!==(ce=this.id)&&void 0!==ce?ce:this.requestAsyncId($,this.id,_e),this}requestAsyncId(ge,_e,ce=0){return N.setInterval(ge.flush.bind(ge,this),ce)}recycleAsyncId(ge,_e,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return _e;null!=_e&&N.clearInterval(_e)}execute(ge,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ge,_e);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,_e){let H,ce=!1;try{this.work(ge)}catch($){ce=!0,H=$||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ge,scheduler:_e}=this,{actions:ce}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ce,this),null!=ge&&(this.id=this.recycleAsyncId(_e,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(Et,Me,O)=>{O.d(Me,{v:()=>N});var u=O(6063);class X{constructor(te,J=X.now){this.schedulerActionCtor=te,this.now=J}schedule(te,J=0,ge){return new this.schedulerActionCtor(this,te).schedule(ge,J)}}X.now=u.l.now;class N extends X{constructor(te,J=X.now){super(te,J),this.actions=[],this._active=!1}flush(te){const{actions:J}=this;if(this._active)return void J.push(te);let ge;this._active=!0;do{if(ge=te.execute(te.state,te.delay))break}while(te=J.shift());if(this._active=!1,ge){for(;te=J.shift();)te.unsubscribe();throw ge}}}},4986:(Et,Me,O)=>{O.d(Me,{P:()=>ie,z:()=>N});var u=O(4408);const N=new(O(7565).v)(u.o),ie=N},6063:(Et,Me,O)=>{O.d(Me,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Et,Me,O)=>{O.d(Me,{z:()=>u});const u={setTimeout(X,N,...ie){const{delegate:te}=u;return te?.setTimeout?te.setTimeout(X,N,...ie):setTimeout(X,N,...ie)},clearTimeout(X){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(Et,Me,O)=>{O.d(Me,{h:()=>X});const X=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Me,O)=>{O.d(Me,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Et,Me,O)=>{O.d(Me,{_6:()=>J,jO:()=>ie,yG:()=>te});var u=O(576),X=O(3532);function N(ge){return ge[ge.length-1]}function ie(ge){return(0,u.m)(N(ge))?ge.pop():void 0}function te(ge){return(0,X.K)(N(ge))?ge.pop():void 0}function J(ge,_e){return"number"==typeof N(ge)?ge.pop():_e}},8737:(Et,Me,O)=>{function u(X,N){if(X){const ie=X.indexOf(N);0<=ie&&X.splice(ie,1)}}O.d(Me,{P:()=>u})},3888:(Et,Me,O)=>{function u(X){const ie=X(te=>{Error.call(te),te.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}O.d(Me,{d:()=>u})},2806:(Et,Me,O)=>{O.d(Me,{O:()=>ie,x:()=>N});var u=O(2416);let X=null;function N(te){if(u.v.useDeprecatedSynchronousErrorHandling){const J=!X;if(J&&(X={errorThrown:!1,error:null}),te(),J){const{errorThrown:ge,error:_e}=X;if(X=null,ge)throw _e}}else te()}function ie(te){u.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=te)}},9672:(Et,Me,O)=>{function u(X,N,ie,te=0,J=!1){const ge=N.schedule(function(){ie(),J?X.add(this.schedule(null,te)):this.unsubscribe()},te);if(X.add(ge),!J)return ge}O.d(Me,{f:()=>u})},4671:(Et,Me,O)=>{function u(X){return X}O.d(Me,{y:()=>u})},1144:(Et,Me,O)=>{O.d(Me,{z:()=>u});const u=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(Et,Me,O)=>{O.d(Me,{D:()=>X});var u=O(576);function X(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},576:(Et,Me,O)=>{function u(X){return"function"==typeof X}O.d(Me,{m:()=>u})},3670:(Et,Me,O)=>{O.d(Me,{c:()=>N});var u=O(8822),X=O(576);function N(ie){return(0,X.m)(ie[u.L])}},6495:(Et,Me,O)=>{O.d(Me,{T:()=>N});var u=O(2202),X=O(576);function N(ie){return(0,X.m)(ie?.[u.h])}},8239:(Et,Me,O)=>{O.d(Me,{t:()=>X});var u=O(576);function X(N){return(0,u.m)(N?.then)}},3260:(Et,Me,O)=>{O.d(Me,{L:()=>ie,Q:()=>N});var u=O(655),X=O(576);function N(te){return(0,u.FC)(this,arguments,function*(){const ge=te.getReader();try{for(;;){const{value:_e,done:ce}=yield(0,u.qq)(ge.read());if(ce)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(_e)}}finally{ge.releaseLock()}})}function ie(te){return(0,X.m)(te?.getReader)}},3532:(Et,Me,O)=>{O.d(Me,{K:()=>X});var u=O(576);function X(N){return N&&(0,u.m)(N.schedule)}},4482:(Et,Me,O)=>{O.d(Me,{A:()=>X,e:()=>N});var u=O(576);function X(ie){return(0,u.m)(ie?.lift)}function N(ie){return te=>{if(X(te))return te.lift(function(J){try{return ie(J,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Et,Me,O)=>{function u(){}O.d(Me,{Z:()=>u})},9635:(Et,Me,O)=>{O.d(Me,{U:()=>N,z:()=>X});var u=O(4671);function X(...ie){return N(ie)}function N(ie){return 0===ie.length?u.y:1===ie.length?ie[0]:function(J){return ie.reduce((ge,_e)=>_e(ge),J)}}},7849:(Et,Me,O)=>{O.d(Me,{h:()=>N});var u=O(2416),X=O(3410);function N(ie){X.z.setTimeout(()=>{const{onUnhandledError:te}=u.v;if(!te)throw ie;te(ie)})}},4532:(Et,Me,O)=>{function u(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Me,{z:()=>u})},655:(Et,Me,O)=>{function ie(ae,he){var we={};for(var ke in ae)Object.prototype.hasOwnProperty.call(ae,ke)&&he.indexOf(ke)<0&&(we[ke]=ae[ke]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ke=Object.getOwnPropertySymbols(ae);Le<ke.length;Le++)he.indexOf(ke[Le])<0&&Object.prototype.propertyIsEnumerable.call(ae,ke[Le])&&(we[ke[Le]]=ae[ke[Le]])}return we}function Y(ae,he,we,ke){return new(we||(we=Promise))(function(Ue,He){function st(un){try{xt(ke.next(un))}catch(Xe){He(Xe)}}function _n(un){try{xt(ke.throw(un))}catch(Xe){He(Xe)}}function xt(un){un.done?Ue(un.value):function Le(Ue){return Ue instanceof we?Ue:new we(function(He){He(Ue)})}(un.value).then(st,_n)}xt((ke=ke.apply(ae,he||[])).next())})}function xe(ae){return this instanceof xe?(this.v=ae,this):new xe(ae)}function Ee(ae,he,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ke=we.apply(ae,he||[]),Ue=[];return Le={},He("next"),He("throw"),He("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function He(At){ke[At]&&(Le[At]=function(Pn){return new Promise(function(Nn,Sn){Ue.push([At,Pn,Nn,Sn])>1||st(At,Pn)})})}function st(At,Pn){try{!function _n(At){At.value instanceof xe?Promise.resolve(At.value.v).then(xt,un):Xe(Ue[0][2],At)}(ke[At](Pn))}catch(Nn){Xe(Ue[0][3],Nn)}}function xt(At){st("next",At)}function un(At){st("throw",At)}function Xe(At,Pn){At(Pn),Ue.shift(),Ue.length&&st(Ue[0][0],Ue[0][1])}}function $e(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,he=ae[Symbol.asyncIterator];return he?he.call(ae):(ae=function Je(ae){var he="function"==typeof Symbol&&Symbol.iterator,we=he&&ae[he],ke=0;if(we)return we.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ke>=ae.length&&(ae=void 0),{value:ae&&ae[ke++],done:!ae}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),we={},ke("next"),ke("throw"),ke("return"),we[Symbol.asyncIterator]=function(){return this},we);function ke(Ue){we[Ue]=ae[Ue]&&function(He){return new Promise(function(st,_n){!function Le(Ue,He,st,_n){Promise.resolve(_n).then(function(xt){Ue({value:xt,done:st})},He)}(st,_n,(He=ae[Ue](He)).done,He.value)})}}}O.d(Me,{FC:()=>Ee,KL:()=>$e,_T:()=>ie,mG:()=>Y,qq:()=>xe})},4650:(Et,Me,O)=>{O.d(Me,{$8M:()=>Jc,$WT:()=>Sr,$Z:()=>x_,AFp:()=>ES,AaK:()=>_e,CHM:()=>Td,CRH:()=>XT,CZH:()=>Wy,CqO:()=>H0,D6c:()=>KS,EJc:()=>Xk,EiD:()=>Rb,EpF:()=>j0,F$t:()=>Dh,F4k:()=>X_,FYo:()=>ph,FiY:()=>Fl,GfV:()=>g_,Gpc:()=>$,Hsn:()=>q0,JOm:()=>es,JVY:()=>K,JZr:()=>Je,KtG:()=>Dm,L6k:()=>pe,LAX:()=>ct,LFG:()=>We,LSH:()=>Nb,Lbi:()=>Zk,Lck:()=>PT,MGl:()=>og,MMx:()=>Oy,NdJ:()=>J_,OlP:()=>jn,Oqu:()=>fg,P3R:()=>fs,PXZ:()=>hR,Q6J:()=>V0,QGY:()=>Ih,QbO:()=>Kk,Qsj:()=>Sp,R0b:()=>vo,RDi:()=>uo,Rgc:()=>$h,SBq:()=>Mu,Sil:()=>eR,Suo:()=>QT,TTD:()=>De,TgZ:()=>tg,VKq:()=>aE,X6Q:()=>Wu,XFs:()=>yt,Xpm:()=>se,Xts:()=>s_,Y36:()=>_h,YKP:()=>Qw,YNc:()=>B0,Yjl:()=>In,Yz7:()=>Xe,Z0I:()=>Sn,ZZ4:()=>ZE,_Bn:()=>xy,_UZ:()=>Y_,_Vd:()=>fh,_c5:()=>FR,_uU:()=>hw,aQg:()=>Qy,c2e:()=>Yk,cJS:()=>Pn,cg1:()=>gg,dDg:()=>cR,dqk:()=>mt,eBb:()=>ze,eFA:()=>BS,eJc:()=>DE,ekj:()=>gc,eoX:()=>kS,f3M:()=>at,g9A:()=>IS,h0i:()=>Ma,hGG:()=>LR,hij:()=>pg,iGM:()=>Og,ifc:()=>Mt,ip1:()=>wS,jDz:()=>nE,kL8:()=>hy,lG2:()=>_t,lqb:()=>sc,lri:()=>xS,mCW:()=>ho,n5z:()=>Gf,oAB:()=>B,oxw:()=>sg,pB0:()=>Vt,q3G:()=>Fr,q4F:()=>qb,qLn:()=>Au,qOj:()=>W_,qZA:()=>ng,qzn:()=>D,rWj:()=>OS,s9C:()=>ty,sBO:()=>HE,s_b:()=>zy,soG:()=>Zy,tb:()=>DS,tp0:()=>Ll,uIk:()=>Yp,vHH:()=>ue,vpe:()=>Aa,wAp:()=>Ut,xp6:()=>n0,z2F:()=>qu,z3N:()=>b,zSh:()=>Ub,zs3:()=>ac});var u=O(7579),X=O(727),N=O(9751),ie=O(6451),te=O(3099);function J(s){for(let o in s)if(s[o]===J)return o;throw Error("Could not find renamed property on target object.")}function ge(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=J({__forward_ref__:J});function $(s){return s.__forward_ref__=$,s.toString=function(){return _e(this())},s}function Y(s){return Ze(s)?s():s}function Ze(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===$}function ve(s){return s&&!!s.\u0275providers}const Je="https://g.co/ng/security#xss";class ue extends Error{constructor(o,l){super(Ae(o,l)),this.code=o}}function Ae(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Re(s){return"string"==typeof s?s:null==s?"":String(s)}function $e(s,o){throw new ue(-201,!1)}function He(s,o){null==s&&function st(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Xe(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Pn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Nn(s){return mn(s,ir)||mn(s,Mn)}function Sn(s){return null!==Nn(s)}function mn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Jr(s){return s&&(s.hasOwnProperty(ei)||s.hasOwnProperty(tr))?s[ei]:null}const ir=J({\u0275prov:J}),ei=J({\u0275inj:J}),Mn=J({ngInjectableDef:J}),tr=J({ngInjectorDef:J});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let ti;function Fn(s){const o=ti;return ti=s,o}function Tr(s,o,l){const d=Nn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&yt.Optional?null:void 0!==o?o:void $e(_e(s))}const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vn={},zn="__NG_DI_FLAG__",lr="ngTempTokenPath",Zn="ngTokenPath",Ki=/\n/gm,hn="\u0275",oi="__source";let on;function bn(s){const o=on;return on=s,o}function jr(s,o=yt.Default){if(void 0===on)throw new ue(-203,!1);return null===on?Tr(s,void 0,o):on.get(s,o&yt.Optional?null:void 0,o)}function We(s,o=yt.Default){return(function si(){return ti}()||jr)(Y(s),o)}function at(s,o=yt.Default){return We(s,Rt(o))}function Rt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function jt(s){const o=[];for(let l=0;l<s.length;l++){const d=Y(s[l]);if(Array.isArray(d)){if(0===d.length)throw new ue(900,!1);let h,g=yt.Default;for(let v=0;v<d.length;v++){const E=d[v],C=nr(E);"number"==typeof C?-1===C?h=E.token:g|=C:h=E}o.push(We(h,g))}else o.push(We(d))}return o}function Gt(s,o){return s[zn]=o,s.prototype[zn]=o,s}function nr(s){return s[zn]}function q(s){return{toString:s}.toString()}var me=(()=>((me=me||{})[me.OnPush=0]="OnPush",me[me.Default=1]="Default",me))(),Mt=(()=>{return(s=Mt||(Mt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Mt;var s})();const dn={},Ot=[],Vn=J({\u0275cmp:J}),Un=J({\u0275dir:J}),nn=J({\u0275pipe:J}),cr=J({\u0275mod:J}),sr=J({\u0275fac:J}),kr=J({__NG_ELEMENT_ID__:J});let Q=0;function se(s){return q(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===me.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ot,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Mt.Emulated,id:"c"+Q++,styles:s.styles||Ot,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=s.dependencies,v=s.features;return h.inputs=Ne(s.inputs,d),h.outputs=Ne(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(ft).filter(Wt):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(pn).filter(Wt):null,h})}function ft(s){return lt(s)||Ct(s)}function Wt(s){return null!==s}function B(s){return q(()=>({type:s.type,bootstrap:s.bootstrap||Ot,declarations:s.declarations||Ot,imports:s.imports||Ot,exports:s.exports||Ot,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ne(s,o){if(null==s)return dn;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const _t=se;function In(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function lt(s){return s[Vn]||null}function Ct(s){return s[Un]||null}function pn(s){return s[nn]||null}function Sr(s){const o=lt(s)||Ct(s)||pn(s);return null!==o&&o.standalone}function An(s,o){const l=s[cr]||null;if(!l&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return l}const Hr=0,et=1,Kt=2,$n=3,vi=4,Yi=5,br=6,bi=7,Kn=8,Is=9,yl=10,en=11,vl=12,Ds=13,bl=14,Ts=15,zr=16,Js=17,Ss=18,Ni=19,Ms=20,ls=21,Ln=22,wi=1,wd=2,Do=7,Pa=8,As=9,$r=10;function Gr(s){return Array.isArray(s)&&"object"==typeof s[wi]}function ai(s){return Array.isArray(s)&&!0===s[wi]}function eo(s){return 0!=(4&s.flags)}function li(s){return s.componentOffset>-1}function To(s){return 1==(1&s.flags)}function ci(s){return null!==s.template}function to(s){return 0!=(256&s[Kt])}function z(s,o){return s.hasOwnProperty(sr)?s[sr]:null}class de{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function De(){return je}function je(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ht),pt}function pt(){const s=an(this),o=s?.current;if(o){const l=s.previous;if(l===dn)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Ht(s,o,l,d){const h=this.declaredInputs[l],g=an(s)||function wn(s,o){return s[Yt]=o}(s,{previous:dn,current:null}),v=g.current||(g.current={}),E=g.previous,C=E[h];v[h]=new de(C&&C.currentValue,o,E===dn),s[d]=o}De.ngInherit=!0;const Yt="__ngSimpleChanges__";function an(s){return s[Yt]||null}const Dn=function(s,o,l){};function Yn(s){for(;Array.isArray(s);)s=s[Hr];return s}function Ei(s,o){return Yn(o[s])}function dr(s,o){return Yn(o[s.index])}function Bc(s,o){return s.data[o]}function hi(s,o){const l=o[s];return Gr(l)?l:l[Hr]}function Fa(s){return 64==(64&s[Kt])}function ta(s,o){return null==o?null:s[o]}function jc(s){s[Ss]=0}function Cd(s,o){s[Yi]+=o;let l=s,d=s[$n];for(;null!==d&&(1===o&&1===l[Yi]||-1===o&&0===l[Yi]);)d[Yi]+=o,l=d,d=d[$n]}const Qt={lFrame:Eb(null),bindingsEnabled:!0};function Hc(){return Qt.bindingsEnabled}function be(){return Qt.lFrame.lView}function yn(){return Qt.lFrame.tView}function Td(s){return Qt.lFrame.contextLView=s,s[Kn]}function Dm(s){return Qt.lFrame.contextLView=null,s}function ni(){let s=Sd();for(;null!==s&&64===s.type;)s=s.parent;return s}function Sd(){return Qt.lFrame.currentTNode}function Xi(s,o){const l=Qt.lFrame;l.currentTNode=s,l.isParent=o}function Rf(){return Qt.lFrame.isParent}function $c(){Qt.lFrame.isParent=!1}function Il(){return Qt.lFrame.bindingIndex++}function Tm(s,o){const l=Qt.lFrame;l.bindingIndex=l.bindingRootIndex=s,xd(o)}function xd(s){Qt.lFrame.currentDirectiveIndex=s}function Lf(){return Qt.lFrame.currentQueryIndex}function Bf(s){Qt.lFrame.currentQueryIndex=s}function wb(s){const o=s[et];return 2===o.type?o.declTNode:1===o.type?s[br]:null}function Sm(s,o,l){if(l&yt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&yt.Host||(h=wb(g),null===h||(g=g[Ts],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Qt.lFrame=Mm();return d.currentTNode=o,d.lView=s,!0}function Vf(s){const o=Mm(),l=s[et];Qt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Mm(){const s=Qt.lFrame,o=null===s?null:s.child;return null===o?Eb(s):o}function Eb(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Am(){const s=Qt.lFrame;return Qt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const xm=Am;function Om(){const s=Am();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ci(){return Qt.lFrame.selectedIndex}function La(s){Qt.lFrame.selectedIndex=s}function Qn(){const s=Qt.lFrame;return Bc(s.tView,s.selectedIndex)}function Dl(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:M}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),T&&((s.viewHooks||(s.viewHooks=[])).push(l,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,T)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(l,M)}}function Tl(s,o,l){Sl(s,o,3,l)}function Od(s,o,l,d){(3&s[Kt])===l&&Sl(s,o,l,d)}function Va(s,o){let l=s[Kt];(3&l)===o&&(l&=2047,l+=1,s[Kt]=l)}function Sl(s,o,l,d){const g=d??-1,v=o.length-1;let E=0;for(let C=void 0!==d?65535&s[Ss]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=d&&E>=d)break}else o[C]<0&&(s[Ss]+=65536),(E<g||-1==g)&&(Ml(s,l,o,C),s[Ss]=(4294901760&s[Ss])+C+2),C++}function Ml(s,o,l,d){const h=l[d]<0,g=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[Kt]>>11<s[Ss]>>16&&(3&s[Kt])===o){s[Kt]+=2048,Dn(4,E,g);try{g.call(E)}finally{Dn(5,E,g)}}}else{Dn(4,E,g);try{g.call(E)}finally{Dn(5,E,g)}}}const Ua=-1;class Ao{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function or(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const g=l[d++],v=l[d++],E=l[d++];s.setAttribute(o,v,E,g)}else{const g=h,v=l[++d];xo(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function kd(s){return 3===s||4===s||6===s}function xo(s){return 64===s.charCodeAt(0)}function ia(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||ja(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function ja(s,o,l,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Rd(s){return s!==Ua}function Al(s){return 32767&s}function Wc(s,o){let l=function Hf(s){return s>>16}(s),d=o;for(;l>0;)d=d[Ts],l--;return d}let Ha=!0;function za(s){const o=Ha;return Ha=s,o}const xl=255,Pd=5;let Kc=0;const Ii={};function Yc(s,o){const l=Qc(s,o);if(-1!==l)return l;const d=o[et];d.firstCreatePass&&(s.injectorIndex=o.length,$a(d.data,s),$a(o,null),$a(d.blueprint,null));const h=Nd(s,o),g=s.injectorIndex;if(Rd(h)){const v=Al(h),E=Wc(h,o),C=E[et].data;for(let T=0;T<8;T++)o[g+T]=E[v+T]|C[v+T]}return o[g+8]=h,g}function $a(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Qc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Nd(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=Ud(h),null===d)return Ua;if(l++,h=h[Ts],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return Ua}function kl(s,o,l){!function Ol(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(kr)&&(d=l[kr]),null==d&&(d=l[kr]=Kc++);const h=d&xl;o.data[s+(h>>Pd)]|=1<<h}(s,o,l)}function sa(s,o,l){if(l&yt.Optional||void 0!==s)return s;$e()}function Fd(s,o,l,d){if(l&yt.Optional&&void 0===d&&(d=null),!(l&(yt.Self|yt.Host))){const h=s[Is],g=Fn(void 0);try{return h?h.get(o,d,l&yt.Optional):Tr(o,d,l&yt.Optional)}finally{Fn(g)}}return sa(d,0,l)}function zf(s,o,l,d=yt.Default,h){if(null!==s){if(1024&o[Kt]){const v=function Vd(s,o,l,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[Kt]&&!(256&v[Kt]);){const E=$f(g,v,l,d|yt.Self,Ii);if(E!==Ii)return E;let C=g.parent;if(!C){const T=v[ls];if(T){const M=T.get(l,Ii,d);if(M!==Ii)return M}C=Ud(v),v=v[Ts]}g=C}return h}(s,o,l,d,Ii);if(v!==Ii)return v}const g=$f(s,o,l,d,Ii);if(g!==Ii)return g}return Fd(o,l,d,h)}function $f(s,o,l,d,h){const g=function Nm(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(kr)?s[kr]:void 0;return"number"==typeof o?o>=0?o&xl:Lm:o}(l);if("function"==typeof g){if(!Sm(o,s,d))return d&yt.Host?sa(h,0,d):Fd(o,l,d,h);try{const v=g(d);if(null!=v||d&yt.Optional)return v;$e()}finally{xm()}}else if("number"==typeof g){let v=null,E=Qc(s,o),C=Ua,T=d&yt.Host?o[zr][br]:null;for((-1===E||d&yt.SkipSelf)&&(C=-1===E?Nd(s,o):o[E+8],C!==Ua&&Fm(d,!1)?(v=o[et],E=Al(C),o=Wc(C,o)):E=-1);-1!==E;){const M=o[et];if(Bd(g,E,M.data)){const k=Ld(E,o,l,v,d,T);if(k!==Ii)return k}C=o[E+8],C!==Ua&&Fm(d,o[et].data[E+8]===T)&&Bd(g,E,o)?(v=M,E=Al(C),o=Wc(C,o)):E=-1}}return h}function Ld(s,o,l,d,h,g){const v=o[et],E=v.data[s+8],M=Ga(E,v,l,null==d?li(E)&&Ha:d!=v&&0!=(3&E.type),h&yt.Host&&g===E);return null!==M?oa(o,v,M,E):Ii}function Ga(s,o,l,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,C=s.directiveStart,M=g>>20,W=h?E+M:s.directiveEnd;for(let ee=d?E:E+M;ee<W;ee++){const Ce=v[ee];if(ee<C&&l===Ce||ee>=C&&Ce.type===l)return ee}if(h){const ee=v[C];if(ee&&ci(ee)&&ee.type===l)return C}return null}function oa(s,o,l,d){let h=s[l];const g=o.data;if(function Mb(s){return s instanceof Ao}(h)){const v=h;v.resolving&&function xe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ue(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Ve(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Re(s)}(g[l]));const E=za(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?Fn(v.injectImpl):null;Sm(s,d,yt.Default);try{h=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Sb(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=je(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==C&&Fn(C),za(E),v.resolving=!1,xm()}}return h}function Bd(s,o,l){return!!(l[o+(s>>Pd)]&1<<s)}function Fm(s,o){return!(s&yt.Self||s&yt.Host&&o)}class io{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return zf(this._tNode,this._lView,o,Rt(d),l)}}function Lm(){return new io(ni(),be())}function Gf(s){return q(()=>{const o=s.prototype.constructor,l=o[sr]||Xc(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[sr]||Xc(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Xc(s){return Ze(s)?()=>{const o=Xc(Y(s));return o&&o()}:z(s)}function Ud(s){const o=s[et],l=o.type;return 2===l?o.declTNode:1===l?s[br]:null}function Jc(s){return function Pm(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(kd(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(ni(),s)}const la="__parameters__";function qa(s,o,l){return q(()=>{const d=function qf(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(C,T,M){const k=C.hasOwnProperty(la)?C[la]:Object.defineProperty(C,la,{value:[]})[la];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class jn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Xe({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Oo(s,o){s.forEach(l=>Array.isArray(l)?Oo(l,o):o(l))}function Zf(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function nu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ru(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Di(s,o,l){let d=Za(s,o);return d>=0?s[1|d]=l:(d=~d,function Yf(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function ua(s,o){const l=Za(s,o);if(l>=0)return s[1|l]}function Za(s,o){return function jm(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const Fl=Gt(qa("Optional"),8),Ll=Gt(qa("SkipSelf"),4);var es=(()=>((es=es||{})[es.Important=1]="Important",es[es.DashCase=2]="DashCase",es))();const lo=new Map;let Gm=0;const Ar="__ngContext__";function rr(s,o){Gr(o)?(s[Ar]=o[Ms],function qm(s){lo.set(s[Ms],s)}(o)):s[Ar]=o}let rn;function fa(s,o){return rn(s,o)}function Li(s){const o=s[$n];return ai(o)?o[$n]:o}function pa(s){return Hl(s[Ds])}function th(s){return Hl(s[vi])}function Hl(s){for(;null!==s&&!ai(s);)s=s[vi];return s}function Vs(s,o,l,d,h){if(null!=d){let g,v=!1;ai(d)?g=d:Gr(d)&&(v=!0,d=d[Hr]);const E=Yn(d);0===s&&null!==l?null==h?ts(o,l,E):ma(o,l,E,h||null,!0):1===s&&null!==l?ma(o,l,E,h||null,!0):2===s?function Uo(s,o,l){const d=Gl(s,o);d&&function Jm(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function sh(s,o,l,d,h){const g=l[Do];g!==Yn(l)&&Vs(o,s,d,g,h);for(let E=$r;E<l.length;E++){const C=l[E];ya(C[et],C,s,o,d,g)}}(o,s,g,l,h)}}function ga(s,o,l){return s.createElement(o,l)}function Vo(s,o){const l=s[As],d=l.indexOf(o),h=o[$n];512&o[Kt]&&(o[Kt]&=-513,Cd(h,-1)),l.splice(d,1)}function rh(s,o){if(s.length<=$r)return;const l=$r+o,d=s[l];if(d){const h=d[Js];null!==h&&h!==s&&Vo(h,d),o>0&&(s[l-1][vi]=d[vi]);const g=nu(s,$r+o);!function pu(s,o){ya(s,o,o[en],2,null,null),o[Hr]=null,o[br]=null}(d[et],d);const v=g[Ni];null!==v&&v.detachView(g[et]),d[$n]=null,d[vi]=null,d[Kt]&=-65}return d}function up(s,o){if(!(128&o[Kt])){const l=o[en];l.destroyNode&&ya(s,o,l,3,null,null),function nh(s){let o=s[Ds];if(!o)return ih(s[et],s);for(;o;){let l=null;if(Gr(o))l=o[Ds];else{const d=o[$r];d&&(l=d)}if(!l){for(;o&&!o[vi]&&o!==s;)Gr(o)&&ih(o[et],o),o=o[$n];null===o&&(o=s),Gr(o)&&ih(o[et],o),l=o&&o[vi]}o=l}}(o)}}function ih(s,o){if(!(128&o[Kt])){o[Kt]&=-65,o[Kt]|=128,function Xm(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Ao)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],C=g[v+1];Dn(4,E,C);try{C.call(E)}finally{Dn(5,E,C)}}else{Dn(4,h,g);try{g.call(h)}finally{Dn(5,h,g)}}}}}(s,o),function dp(s,o){const l=s.cleanup,d=o[bi];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[bi]=null}}(s,o),1===o[et].type&&o[en].destroy();const l=o[Js];if(null!==l&&ai(o[$n])){l!==o[$n]&&Vo(l,o);const d=o[Ni];null!==d&&d.detachView(s)}!function Bs(s){lo.delete(s[Ms])}(o)}}function mu(s,o,l){return function $l(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[Hr];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===Mt.None||g===Mt.Emulated)return null}return dr(d,l)}}(s,o.parent,l)}function ma(s,o,l,d,h){s.insertBefore(o,l,d,h)}function ts(s,o,l){s.appendChild(o,l)}function _u(s,o,l,d,h){null!==d?ma(s,o,l,d,h):ts(s,o,l)}function Gl(s,o){return s.parentNode(o)}function Qa(s,o,l){return co(s,o,l)}let Xa,Bi,ah,Kl,co=function _a(s,o,l){return 40&s.type?dr(s,l):null};function ql(s,o,l,d){const h=mu(s,d,o),g=o[en],E=Qa(d.parent||o[br],d,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)_u(g,h,l[C],E,!1);else _u(g,h,l,E,!1);void 0!==Xa&&Xa(g,d,o,l,h)}function ds(s,o){if(null!==o){const l=o.type;if(3&l)return dr(o,s);if(4&l)return pi(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return ds(s,d);{const h=s[o.index];return ai(h)?pi(-1,h):Yn(h)}}if(32&l)return fa(o,s)()||Yn(s[o.index]);{const d=hp(s,o);return null!==d?Array.isArray(d)?d[0]:ds(Li(s[zr]),d):ds(s,o.next)}}return null}function hp(s,o){return null!==o?s[zr][br].projection[o.projection]:null}function pi(s,o){const l=$r+s+1;if(l<o.length){const d=o[l],h=d[et].firstChild;if(null!==h)return ds(d,h)}return o[Do]}function vu(s,o,l,d,h,g,v){for(;null!=l;){const E=d[l.index],C=l.type;if(v&&0===o&&(E&&rr(Yn(E),d),l.flags|=2),32!=(32&l.flags))if(8&C)vu(s,o,l.child,d,h,g,!1),Vs(o,s,h,E,g);else if(32&C){const T=fa(l,d);let M;for(;M=T();)Vs(o,s,h,M,g);Vs(o,s,h,E,g)}else 16&C?bu(s,o,d,l,h,g):Vs(o,s,h,E,g);l=v?l.projectionNext:l.next}}function ya(s,o,l,d,h,g){vu(l,d,s.firstChild,o,h,g,!1)}function bu(s,o,l,d,h,g){const v=l[zr],C=v[br].projection[d.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)Vs(o,s,h,C[T],g);else vu(s,o,C,v[$n],h,g,!0)}function Us(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function va(s,o,l){const{mergedAttrs:d,classes:h,styles:g}=l;null!==d&&or(s,o,d),null!==h&&Us(s,o,h),null!==g&&function pp(s,o,l){s.setAttribute(o,"style",l)}(s,o,g)}function ns(s){return function Wl(){if(void 0===Bi&&(Bi=null,mt.trustedTypes))try{Bi=mt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Bi}()?.createHTML(s)||s}function uo(s){ah=s}function mp(s){return function Eu(){if(void 0===Kl&&(Kl=null,mt.trustedTypes))try{Kl=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Kl}()?.createScriptURL(s)||s}class ba{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class n_ extends ba{getTypeName(){return"HTML"}}class _p extends ba{getTypeName(){return"Style"}}class y extends ba{getTypeName(){return"Script"}}class p extends ba{getTypeName(){return"URL"}}class m extends ba{getTypeName(){return"ResourceURL"}}function b(s){return s instanceof ba?s.changingThisBreaksApplicationSecurity:s}function D(s,o){const l=function x(s){return s instanceof ba&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${Je})`)}return l===o}function K(s){return new n_(s)}function pe(s){return new _p(s)}function ze(s){return new y(s)}function ct(s){return new p(s)}function Vt(s){return new m(s)}class xr{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(ns(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class Nr{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=ns(o),l}}const yp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ho(s){return(s=String(s)).match(yp)?s:"unsafe:"+s}function hs(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Ho(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const Ql=hs("area,br,col,hr,img,wbr"),Xl=hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jl=hs("rp,rt"),tc=Ho(Ql,Ho(Xl,hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ho(Jl,hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ho(Jl,Xl)),nc=hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),r_=Ho(nc,hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kb=hs("script,style,template");class zI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!tc.hasOwnProperty(l))return this.sanitizedSomething=!0,!kb.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!r_.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=g.value;nc[E]&&(C=ho(C)),this.buf.push(" ",v,'="',wp(C),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();tc.hasOwnProperty(l)&&!Ql.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(wp(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const lh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bp=/([^\#-~ |!])/g;function wp(s){return s.replace(/&/g,"&amp;").replace(lh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(bp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ep;function Rb(s,o){let l=null;try{Ep=Ep||function Pt(s){const o=new Nr(s);return function Yl(){try{return!!(new window.DOMParser).parseFromString(ns(""),"text/html")}catch{return!1}}()?new xr(o):o}(s);let d=o?String(o):"";l=Ep.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=Ep.getInertBodyElement(d)}while(d!==g);return ns((new zI).sanitizeChildren(ch(l)||l))}finally{if(l){const d=ch(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ch(s){return"content"in s&&function Pb(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();function Nb(s){const o=uh();return o?o.sanitize(Fr.URL,s)||"":D(s,"URL")?b(s):ho(Re(s))}function Cp(s){const o=uh();if(o)return mp(o.sanitize(Fr.RESOURCE_URL,s)||"");if(D(s,"ResourceURL"))return mp(b(s));throw new ue(904,!1)}function fs(s,o,l){return function i_(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Cp:Nb}(o,l)(s)}function uh(){const s=be();return s&&s[vl]}const s_=new jn("ENVIRONMENT_INITIALIZER"),o_=new jn("INJECTOR",-1),dh=new jn("INJECTOR_DEF_TYPES");class Fb{get(o,l=vn){if(l===vn){const d=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw d.name="NullInjectorError",d}return l}}function Iu(...s){return{\u0275providers:Du(0,s),\u0275fromNgModule:!0}}function Du(s,...o){const l=[],d=new Set;let h;return Oo(o,g=>{const v=g;a_(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Lb(h,l),l}function Lb(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];rc(h,g=>{o.push(g)})}}function a_(s,o,l,d){if(!(s=Y(s)))return!1;let h=null,g=Jr(s);const v=!g&&lt(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const C=s.ngModule;if(g=Jr(C),!g)return!1;h=C}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of C)a_(T,o,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let T;d.add(h);try{Oo(g.imports,M=>{a_(M,o,l,d)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&Lb(T,o)}if(!E){const T=z(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:Ot},{provide:dh,useValue:h,multi:!0},{provide:s_,useValue:()=>We(h),multi:!0})}const C=g.providers;null==C||E||rc(C,M=>{o.push(M)})}}return h!==s&&void 0!==s.providers}function rc(s,o){for(let l of s)ve(l)&&(l=l.\u0275providers),Array.isArray(l)?rc(l,o):o(l)}const ZI=J({provide:String,useValue:J});function l_(s){return null!==s&&"object"==typeof s&&ZI in s}function ic(s){return"function"==typeof s}const Ub=new jn("Set Injector scope."),Tp={},c_={};let Tu;function wa(){return void 0===Tu&&(Tu=new Fb),Tu}class sc{}class jb extends sc{get destroyed(){return this._destroyed}constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,d_(o,v=>this.processProvider(v)),this.records.set(o_,Su(void 0,this)),h.has("environment")&&this.records.set(sc,Su(void 0,this));const g=this.records.get(Ub);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(dh.multi,Ot,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=bn(this),d=Fn(void 0);try{return o()}finally{bn(l),Fn(d)}}get(o,l=vn,d=yt.Default){this.assertNotDestroyed(),d=Rt(d);const h=bn(this),g=Fn(void 0);try{if(!(d&yt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function zb(s){return"function"==typeof s||"object"==typeof s&&s instanceof jn}(o)&&Nn(o);E=C&&this.injectableDefInScope(C)?Su(u_(o),Tp):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&yt.Self?wa():this.parent).get(o,l=d&yt.Optional&&l===vn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[lr]=v[lr]||[]).unshift(_e(o)),h)throw v;return function V(s,o,l,d){const h=s[lr];throw o[oi]&&h.unshift(o[oi]),s.message=function L(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==hn?s.slice(2):s;let h=_e(o);if(Array.isArray(o))h=o.map(_e).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):_e(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Ki,"\n  ")}`}("\n"+s.message,h,l,d),s[Zn]=h,s[lr]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Fn(g),bn(h)}}resolveInjectorInitializers(){const o=bn(this),l=Fn(void 0);try{const d=this.get(s_.multi,Ot,yt.Self);for(const h of d)h()}finally{bn(o),Fn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(_e(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(o){let l=ic(o=Y(o))?o:Y(o&&o.provide);const d=function QI(s){return l_(s)?Su(void 0,s.useValue):Su(Hb(s),Tp)}(o);if(ic(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Su(void 0,Tp,!0),h.factory=()=>jt(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Tp&&(l.value=c_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function JI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Y(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function u_(s){const o=Nn(s),l=null!==o?o.factory:z(s);if(null!==l)return l;if(s instanceof jn)throw new ue(204,!1);if(s instanceof Function)return function YI(s){const o=s.length;if(o>0)throw ru(o,"?"),new ue(204,!1);const l=function vr(s){const o=s&&(s[ir]||s[Mn]);return o?(function ii(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new ue(204,!1)}function Hb(s,o,l){let d;if(ic(s)){const h=Y(s);return z(h)||u_(h)}if(l_(s))d=()=>Y(s.useValue);else if(function Vb(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...jt(s.deps||[]));else if(function Bb(s){return!(!s||!s.useExisting)}(s))d=()=>We(Y(s.useExisting));else{const h=Y(s&&(s.useClass||s.provide));if(!function XI(s){return!!s.deps}(s))return z(h)||u_(h);d=()=>new h(...jt(s.deps))}return d}function Su(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function d_(s,o){for(const l of s)Array.isArray(l)?d_(l,o):l&&ve(l)?d_(l.\u0275providers,o):o(l)}class h_{}class f_{}class eD{resolveComponentFactory(o){throw function p_(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let fh=(()=>{class s{}return s.NULL=new eD,s})();function tD(){return Ea(ni(),be())}function Ea(s,o){return new Mu(dr(s,o))}let Mu=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=tD,s})();function $b(s){return s instanceof Mu?s.nativeElement:s}class ph{}let Sp=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Gb(){const s=be(),l=hi(ni().index,s);return(Gr(l)?l:s)[en]}(),s})(),gh=(()=>{class s{}return s.\u0275prov=Xe({token:s,providedIn:"root",factory:()=>null}),s})();class g_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const qb=new g_("15.2.1"),m_={},__="ngOriginalError";function y_(s){return s[__]}class Au{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&y_(o);for(;l&&y_(l);)l=y_(l);return l||null}}function Ca(s){return s instanceof Function?s():s}function Kb(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const Yb="ng-template";function dD(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Kb(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Qb(s){return 4===s.type&&s.value!==Yb}function hD(s,o,l){return o===(4!==s.type||l?s.value:Yb)}function Xb(s,o,l){let d=4;const h=s.attrs||[],g=function w_(s){for(let o=0;o<s.length;o++)if(kd(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!hD(s,C,l)||""===C&&1===o.length){if(ps(d))return!1;v=!0}}else{const T=8&d?C:o[++E];if(8&d&&null!==s.attrs){if(!dD(s.attrs,T,l)){if(ps(d))return!1;v=!0}continue}const k=fD(8&d?"class":C,h,Qb(s),l);if(-1===k){if(ps(d))return!1;v=!0;continue}if(""!==T){let W;W=k>g?"":h[k+1].toLowerCase();const ee=8&d?W:null;if(ee&&-1!==Kb(ee,T,0)||2&d&&T!==W){if(ps(d))return!1;v=!0}}}}else{if(!v&&!ps(d)&&!ps(C))return!1;if(v&&ps(C))continue;v=!1,d=C|1&d}}return ps(d)||v}function ps(s){return 0==(1&s)}function fD(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function pD(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function b_(s,o,l=!1){for(let d=0;d<o.length;d++)if(Xb(s,o[d],l))return!0;return!1}function Jb(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function mh(s,o){return s?":not("+o.trim()+")":o}function Mp(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ps(v)&&(o+=mh(g,h),h=""),d=v,g=g||!ps(d);l++}return""!==h&&(o+=mh(g,h)),o}const sn={};function n0(s){r0(yn(),be(),Ci()+s,!1)}function r0(s,o,l,d){if(!d)if(3==(3&o[Kt])){const g=s.preOrderCheckHooks;null!==g&&Tl(o,g,l)}else{const g=s.preOrderHooks;null!==g&&Od(o,g,0,l)}La(l)}function a0(s,o=null,l=null,d){const h=gi(s,o,l,d);return h.resolveInjectorInitializers(),h}function gi(s,o=null,l=null,d,h=new Set){const g=[l||Ot,Iu(s)];return d=d||("object"==typeof s?void 0:_e(s)),new jb(g,o||wa(),d||null,h)}let ac=(()=>{class s{static create(l,d){if(Array.isArray(l))return a0({name:""},d,l,"");{const h=l.name??"";return a0({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=vn,s.NULL=new Fb,s.\u0275prov=Xe({token:s,providedIn:"any",factory:()=>We(o_)}),s.__NG_ELEMENT_ID__=-1,s})();function _h(s,o=yt.Default){const l=be();return null===l?We(s,o):zf(ni(),l,Y(s),o)}function x_(){throw new Error("invalid")}function g0(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const g=l[d+1];if(-1!==g){const v=s.data[g];Bf(l[d]),v.contentQueries(2,o[g],g)}}}function Pp(s,o,l,d,h,g,v,E,C,T,M){const k=o.blueprint.slice();return k[Hr]=h,k[Kt]=76|d,(null!==M||s&&1024&s[Kt])&&(k[Kt]|=1024),jc(k),k[$n]=k[Ts]=s,k[Kn]=l,k[yl]=v||s&&s[yl],k[en]=E||s&&s[en],k[vl]=C||s&&s[vl]||null,k[Is]=T||s&&s[Is]||null,k[br]=g,k[Ms]=function No(){return Gm++}(),k[ls]=M,k[zr]=2==o.type?s[zr]:k,k}function Ou(s,o,l,d,h){let g=s.data[o];if(null===g)g=function O_(s,o,l,d,h){const g=Sd(),v=Rf(),C=s.data[o]=function $o(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(s,o,l,d,h),function Nf(){return Qt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=function zc(){const s=Qt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Xi(g,!0),g}function yh(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Np(s,o,l){Vf(o);try{const d=s.viewQuery;null!==d&&U_(1,d,l);const h=s.template;null!==h&&ID(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&g0(s,o),s.staticViewQueries&&U_(2,s.viewQuery,l);const g=s.components;null!==g&&function CD(s,o){for(let l=0;l<o.length;l++)BD(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[Kt]&=-5,Om()}}function Fp(s,o,l,d){const h=o[Kt];if(128!=(128&h)){Vf(o);try{jc(o),function Mo(s){return Qt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&ID(s,o,l,2,d);const v=3==(3&h);if(v){const T=s.preOrderCheckHooks;null!==T&&Tl(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Od(o,T,0,null),Va(o,0)}if(function FD(s){for(let o=pa(s);null!==o;o=th(o)){if(!o[wd])continue;const l=o[As];for(let d=0;d<l.length;d++){const h=l[d];512&h[Kt]||Cd(h[$n],1),h[Kt]|=512}}}(o),function ND(s){for(let o=pa(s);null!==o;o=th(o))for(let l=$r;l<o.length;l++){const d=o[l],h=d[et];Fa(d)&&Fp(h,d,h.template,d[Kn])}}(o),null!==s.contentQueries&&g0(s,o),v){const T=s.contentCheckHooks;null!==T&&Tl(o,T)}else{const T=s.contentHooks;null!==T&&Od(o,T,1),Va(o,1)}!function wD(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)La(~h);else{const g=h,v=l[++d],E=l[++d];Tm(v,g),E(2,o[g])}}}finally{La(-1)}}(s,o);const E=s.components;null!==E&&function ED(s,o){for(let l=0;l<o.length;l++)LD(s,o[l])}(o,E);const C=s.viewQuery;if(null!==C&&U_(2,C,d),v){const T=s.viewCheckHooks;null!==T&&Tl(o,T)}else{const T=s.viewHooks;null!==T&&Od(o,T,2),Va(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Kt]&=-41,512&o[Kt]&&(o[Kt]&=-513,Cd(o[$n],-1))}finally{Om()}}}function ID(s,o,l,d,h){const g=Ci(),v=2&d;try{La(-1),v&&o.length>Ln&&r0(s,o,Ln,!1),Dn(v?2:0,h),l(d,h)}finally{La(g),Dn(v?3:1,h)}}function lc(s,o,l){if(eo(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Lp(s,o,l){Hc()&&(function QO(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;li(l)&&function RD(s,o,l){const d=dr(o,s),h=zo(l),g=s[yl],v=jp(s,Pp(s,h,null,l.onPush?32:16,d,o,g,g.createRenderer(d,l),null,null,null));s[o.index]=v}(o,l,s.data[h+l.componentOffset]),s.firstCreatePass||Yc(l,o),rr(d,o);const v=l.initialInputs;for(let E=h;E<g;E++){const C=s.data[E],T=oa(o,s,E,l);rr(T,o),null!==v&&XO(0,E-h,T,C,0,v),ci(C)&&(hi(l.index,o)[Kn]=oa(o,s,E,l))}}(s,o,l,dr(l,o)),64==(64&l.flags)&&N_(s,o,l))}function k_(s,o,l=dr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function zo(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Bp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Bp(s,o,l,d,h,g,v,E,C,T){const M=Ln+d,k=M+h,W=function vh(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:sn);return l}(M,k),ee="function"==typeof T?T():T;return W[et]={type:s,blueprint:W,template:l,queries:null,viewQuery:E,declTNode:o,data:W.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function R_(s,o,l,d){const h=y0(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&v0(s).push(d,h.length-1))}function Vp(s,o,l,d){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const g=s[h];null===d?DD(l,o,h,g):d.hasOwnProperty(h)&&DD(l,o,d[h],g)}return l}function DD(s,o,l,d){s.hasOwnProperty(l)?s[l].push(o,d):s[l]=[o,d]}function Hs(s,o,l,d,h,g,v,E){const C=dr(o,l);let M,T=o.inputs;!E&&null!=T&&(M=T[d])?(j_(s,l,M,d,h),li(o)&&TD(l,o.index)):3&o.type&&(d=function KO(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(C,d,h))}function TD(s,o){const l=hi(o,s);16&l[Kt]||(l[Kt]|=32)}function Up(s,o,l,d){if(Hc()){const h=null===d?null:{"":-1},g=function MD(s,o){const l=s.directiveRegistry;let d=null,h=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];if(b_(o,v.selectors,!1))if(d||(d=[]),ci(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),d.unshift(...E,v),F_(s,o,E.length)}else d.unshift(v),F_(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(s,l);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&ku(s,o,l,v,h,E),h&&function AD(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new ue(-301,!1);d.push(o[h],g)}}}(l,d,h)}l.mergedAttrs=ia(l.mergedAttrs,l.attrs)}function ku(s,o,l,d,h,g){for(let T=0;T<d.length;T++)kl(Yc(l,o),s,d[T].type);!function OD(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,d.length);for(let T=0;T<d.length;T++){const M=d[T];M.providersResolver&&M.providersResolver(M)}let v=!1,E=!1,C=yh(s,o,d.length,null);for(let T=0;T<d.length;T++){const M=d[T];l.mergedAttrs=ia(l.mergedAttrs,M.hostAttrs),kD(s,l,o,C,M),xD(C,M,h),null!==M.contentQueries&&(l.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(l.flags|=64);const k=M.type.prototype;!v&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),v=!0),!E&&(k.ngOnChanges||k.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),C++}!function bh(s,o,l){const h=o.directiveEnd,g=s.data,v=o.attrs,E=[];let C=null,T=null;for(let M=o.directiveStart;M<h;M++){const k=g[M],W=l?l.get(k):null,Ce=W?W.outputs:null;C=Vp(k.inputs,M,C,W?W.inputs:null),T=Vp(k.outputs,M,T,Ce);const Ke=null===C||null===v||Qb(o)?null:PD(C,M,v);E.push(Ke)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=C,o.outputs=T}(s,l,g)}function N_(s,o,l){const d=l.directiveStart,h=l.directiveEnd,g=l.index,v=function Ff(){return Qt.lFrame.currentDirectiveIndex}();try{La(g);for(let E=d;E<h;E++){const C=s.data[E],T=o[E];xd(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&SD(C,T)}}finally{La(-1),xd(v)}}function SD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function F_(s,o,l){o.componentOffset=l,(s.components||(s.components=[])).push(o.index)}function xD(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;ci(o)&&(l[""]=s)}}function kD(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=z(h.type)),v=new Ao(g,ci(h),_h);s.blueprint[d]=v,l[d]=v,function m0(s,o,l,d,h){const g=h.hostBindings;if(g){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const E=~o.index;(function P_(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(v)!=E&&v.push(E),v.push(l,d,g)}}(s,o,d,yh(s,l,h.hostVars,sn),h)}function Go(s,o,l,d,h,g){const v=dr(s,o);!function L_(s,o,l,d,h,g,v){if(null==g)s.removeAttribute(o,h,l);else{const E=null==v?Re(g):v(g,d||"",h);s.setAttribute(o,h,E,l)}}(o[en],v,g,s.value,l,d,h)}function XO(s,o,l,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let C=0;C<v.length;){const T=v[C++],M=v[C++],k=v[C++];null!==E?d.setInput(l,k,T,M):l[M]=k}}}function PD(s,o,l){let d=null,h=0;for(;h<l.length;){const g=l[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const v=s[g];for(let E=0;E<v.length;E+=2)if(v[E]===o){d.push(g,v[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function _0(s,o,l,d){return[s,!0,!1,o,null,0,d,l,null,null]}function LD(s,o){const l=hi(o,s);if(Fa(l)){const d=l[et];48&l[Kt]?Fp(d,l,d.template,l[Kn]):l[Yi]>0&&B_(l)}}function B_(s){for(let d=pa(s);null!==d;d=th(d))for(let h=$r;h<d.length;h++){const g=d[h];if(Fa(g))if(512&g[Kt]){const v=g[et];Fp(v,g,v.template,g[Kn])}else g[Yi]>0&&B_(g)}const l=s[et].components;if(null!==l)for(let d=0;d<l.length;d++){const h=hi(l[d],s);Fa(h)&&h[Yi]>0&&B_(h)}}function BD(s,o){const l=hi(o,s),d=l[et];(function VD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Np(d,l,l[Kn])}function jp(s,o){return s[Ds]?s[bl][vi]=o:s[Ds]=o,s[bl]=o,o}function V_(s){for(;s;){s[Kt]|=32;const o=Li(s);if(to(s)&&!o)return s;s=o}return null}function Hp(s,o,l,d=!0){const h=o[yl];h.begin&&h.begin();try{Fp(s,o,s.template,l)}catch(v){throw d&&w0(o,v),v}finally{h.end&&h.end()}}function U_(s,o,l){Bf(0),o(s,l)}function y0(s){return s[bi]||(s[bi]=[])}function v0(s){return s.cleanup||(s.cleanup=[])}function w0(s,o){const l=s[Is],d=l?l.get(Au,null):null;d&&d.handleError(o)}function j_(s,o,l,d,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],C=o[v],T=s.data[v];null!==T.setInput?T.setInput(C,h,d,E):C[E]=h}}function zp(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=ce(h,E):2==g&&(d=ce(d,E+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function $p(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(Yn(g)),ai(g))for(let E=$r;E<g.length;E++){const C=g[E],T=C[et].firstChild;null!==T&&$p(C[et],C,T,d)}const v=l.type;if(8&v)$p(s,o,l.child,d);else if(32&v){const E=fa(l,o);let C;for(;C=E();)d.push(C)}else if(16&v){const E=hp(o,l);if(Array.isArray(E))d.push(...E);else{const C=Li(o[zr]);$p(C[et],C,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class Gp{get rootNodes(){const o=this._lView,l=o[et];return $p(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kn]}set context(o){this._lView[Kn]=o}get destroyed(){return 128==(128&this._lView[Kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[$n];if(ai(o)){const l=o[Pa],d=l?l.indexOf(this):-1;d>-1&&(rh(o,d),nu(l,d))}this._attachedToViewContainer=!1}up(this._lView[et],this._lView)}onDestroy(o){R_(this._lView[et],this._lView,null,o)}markForCheck(){V_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Kt]&=-65}reattach(){this._lView[Kt]|=64}detectChanges(){Hp(this._lView[et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gu(s,o){ya(s,o,o[en],2,null,null)}(this._lView[et],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=o}}class UD extends Gp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Hp(o[et],o,o[Kn],!1)}checkNoChanges(){}get context(){return null}}class E0 extends fh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=lt(o);return new Ru(l,this.ngModule)}}function C0(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class el{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){d=Rt(d);const h=this.injector.get(o,m_,d);return h!==m_||l===m_?h:this.parentInjector.get(o,l,d)}}class Ru extends f_{get inputs(){return C0(this.componentDef.inputs)}get outputs(){return C0(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function e0(s){return s.map(Mp).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,d,h){let g=(h=h||this.ngModule)instanceof sc?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new el(o,g):o,E=v.get(ph,null);if(null===E)throw new ue(407,!1);const C=v.get(gh,null),T=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=d?function ZO(s,o,l){return s.selectRootElement(o,l===Mt.ShadowDom)}(T,d,this.componentDef.encapsulation):ga(T,M,function H_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),W=this.componentDef.onPush?288:272,ee=Bp(0,null,null,1,0,null,null,null,null,null),Ce=Pp(null,ee,null,W,null,null,E,T,C,v,null);let Ke,ot;Vf(Ce);try{const bt=this.componentDef;let qt,Be=null;bt.findHostDirectiveDefs?(qt=[],Be=new Map,bt.findHostDirectiveDefs(bt,qt,Be),qt.push(bt)):qt=[bt];const tn=function $_(s,o){const l=s[et],d=Ln;return s[d]=o,Ou(l,d,2,"#host",null)}(Ce,k),ar=function gs(s,o,l,d,h,g,v,E){const C=h[et];!function D0(s,o,l,d){for(const h of s)o.mergedAttrs=ia(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(zp(o,o.mergedAttrs,!0),null!==l&&va(d,l,o))}(d,s,o,v);const T=g.createRenderer(o,l),M=Pp(h,zo(l),null,l.onPush?32:16,h[s.index],s,g,T,E||null,null,null);return C.firstCreatePass&&F_(C,s,d.length-1),jp(h,M),h[s.index]=M}(tn,k,bt,qt,Ce,E,T);ot=Bc(ee,Ln),k&&function T0(s,o,l,d){if(d)or(s,l,["ng-version",qb.full]);else{const{attrs:h,classes:g}=function t0(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!ps(h))break;h=g}d++}return{attrs:o,classes:l}}(o.selectors[0]);h&&or(s,l,h),g&&g.length>0&&Us(s,l,g.join(" "))}}(T,bt,k,d),void 0!==l&&function S0(s,o,l){const d=s.projection=[];for(let h=0;h<o.length;h++){const g=l[h];d.push(null!=g?Array.from(g):null)}}(ot,this.ngContentSelectors,l),Ke=function G_(s,o,l,d,h,g){const v=ni(),E=h[et],C=dr(v,h);ku(E,h,v,l,null,d);for(let M=0;M<l.length;M++)rr(oa(h,E,v.directiveStart+M,v),h);N_(E,h,v),C&&rr(C,h);const T=oa(h,E,v.directiveStart+v.componentOffset,v);if(s[Kn]=h[Kn]=T,null!==g)for(const M of g)M(T,o);return lc(E,v,s),T}(ar,bt,qt,Be,Ce,[q_]),Np(ee,Ce,null)}finally{Om()}return new z_(this.componentType,Ke,Ea(ot,Ce),Ce,ot)}}class z_ extends h_{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new UD(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;j_(g[et],g,h,o,l),TD(g,this._tNode.index)}}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function q_(){const s=ni();Dl(be()[et],s)}function W_(s){let o=function jD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(ci(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ue(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=qp(s.inputs),v.declaredInputs=qp(s.declaredInputs),v.outputs=qp(s.outputs);const E=h.hostBindings;E&&zD(s,E);const C=h.viewQuery,T=h.contentQueries;if(C&&HD(s,C),T&&tk(s,T),ge(s.inputs,h.inputs),ge(s.declaredInputs,h.declaredInputs),ge(s.outputs,h.outputs),ci(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===W_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function cc(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=ia(h.hostAttrs,l=ia(l,h.hostAttrs))}}(d)}function qp(s){return s===dn?{}:s===Ot?[]:s}function HD(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function tk(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function zD(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}function uc(s){return!!wh(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function wh(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ti(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Yp(s,o,l,d){const h=be();return Ti(h,Il(),o)&&(yn(),Go(Qn(),h,s,o,l,d)),Yp}function dc(s,o,l,d){return Ti(s,Il(),l)?o+Re(l)+d:sn}function B0(s,o,l,d,h,g,v,E){const C=be(),T=yn(),M=s+Ln,k=T.firstCreatePass?function Jp(s,o,l,d,h,g,v,E,C){const T=o.consts,M=Ou(o,s,4,v||null,ta(T,E));Up(o,l,M,ta(T,C)),Dl(o,M);const k=M.tViews=Bp(2,M,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,M),k.queries=o.queries.embeddedTView(M)),M}(M,T,C,o,l,d,h,g,v):T.data[M];Xi(k,!1);const W=C[en].createComment("");ql(T,C,W,k),rr(W,C),jp(C,C[M]=_0(W,C,W,k)),To(k)&&Lp(T,C,k),null!=v&&k_(C,k,E)}function V0(s,o,l){const d=be();return Ti(d,Il(),o)&&Hs(yn(),Qn(),d,s,o,d[en],l,!1),V0}function U0(s,o,l,d,h){const v=h?"class":"style";j_(s,l,o.inputs[v],v,d)}function tg(s,o,l,d){const h=be(),g=yn(),v=Ln+s,E=h[en],C=g.firstCreatePass?function eg(s,o,l,d,h,g){const v=o.consts,C=Ou(o,s,2,d,ta(v,h));return Up(o,l,C,ta(v,g)),null!==C.attrs&&zp(C,C.attrs,!1),null!==C.mergedAttrs&&zp(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(v,g,h,o,l,d):g.data[v],T=h[v]=ga(E,o,function Tb(){return Qt.lFrame.currentNamespace}()),M=To(C);return Xi(C,!0),va(E,T,C),32!=(32&C.flags)&&ql(g,h,T,C),0===function kf(){return Qt.lFrame.elementDepthCount}()&&rr(T,h),function Id(){Qt.lFrame.elementDepthCount++}(),M&&(Lp(g,h,C),lc(g,C,h)),null!==d&&k_(h,C),tg}function ng(){let s=ni();Rf()?$c():(s=s.parent,Xi(s,!1));const o=s;!function Im(){Qt.lFrame.elementDepthCount--}();const l=yn();return l.firstCreatePass&&(Dl(l,s),eo(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function km(s){return 0!=(8&s.flags)}(o)&&U0(l,o,be(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Rm(s){return 0!=(16&s.flags)}(o)&&U0(l,o,be(),o.stylesWithoutHost,!1),ng}function Y_(s,o,l,d){return tg(s,o,l,d),ng(),Y_}function j0(){return be()}function Ih(s){return!!s&&"function"==typeof s.then}function X_(s){return!!s&&"function"==typeof s.subscribe}const H0=X_;function J_(s,o,l,d){const h=be(),g=yn(),v=ni();return function $0(s,o,l,d,h,g,v){const E=To(d),T=s.firstCreatePass&&v0(s),M=o[Kn],k=y0(o);let W=!0;if(3&d.type||v){const Ke=dr(d,o),ot=v?v(Ke):Ke,bt=k.length,qt=v?tn=>v(Yn(tn[d.index])):d.index;let Be=null;if(!v&&E&&(Be=function qD(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const E=o[bi],C=h[g+2];return E.length>C?E[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Be)(Be.__ngLastListenerFn__||Be).__ngNextListenerFn__=g,Be.__ngLastListenerFn__=g,W=!1;else{g=rl(d,o,M,g,!1);const tn=l.listen(ot,h,g);k.push(g,tn),T&&T.push(h,qt,bt,bt+1)}}else g=rl(d,o,M,g,!1);const ee=d.outputs;let Ce;if(W&&null!==ee&&(Ce=ee[h])){const Ke=Ce.length;if(Ke)for(let ot=0;ot<Ke;ot+=2){const ar=o[Ce[ot]][Ce[ot+1]].subscribe(g),Hn=k.length;k.push(g,ar),T&&T.push(h,d.index,Hn,-(Hn+1))}}}(g,h,h[en],v,s,o,d),J_}function G0(s,o,l,d){try{return Dn(6,o,l),!1!==l(d)}catch(h){return w0(s,h),!1}finally{Dn(7,o,l)}}function rl(s,o,l,d,h){return function g(v){if(v===Function)return d;V_(s.componentOffset>-1?hi(s.index,o):o);let C=G0(o,l,d,v),T=g.__ngNextListenerFn__;for(;T;)C=G0(o,l,T,v)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function sg(s=1){return function Cb(s){return(Qt.lFrame.contextLView=function LI(s,o){for(;s>0;)o=o[Ts],s--;return o}(s,Qt.lFrame.contextLView))[Kn]}(s)}function ey(s,o){let l=null;const d=function xu(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?b_(s,g,!0):Jb(d,g))return h}else l=h}return l}function Dh(s){const o=be()[zr][br];if(!o.projection){const d=o.projection=ru(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?ey(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function q0(s,o=0,l){const d=be(),h=yn(),g=Ou(h,Ln+s,16,null,l||null);null===g.projection&&(g.projection=o),$c(),32!=(32&g.flags)&&function jo(s,o,l){bu(o[en],0,o,l,mu(s,l,o),Qa(l.parent||o[br],l,o))}(h,d,g)}function ty(s,o,l){return og(s,"",o,"",l),ty}function og(s,o,l,d,h){const g=be(),v=dc(g,o,l,d);return v!==sn&&Hs(yn(),Qn(),g,s,v,g[en],h,!1),og}function Mh(s,o){return s<<17|o<<2}function il(s){return s>>17&32767}function Q0(s){return 2|s}function pc(s){return(131068&s)>>2}function ry(s,o){return-131069&s|o<<2}function Ah(s){return 1|s}function J0(s,o,l,d,h){const g=s[l+1],v=null===o;let E=d?il(g):pc(g),C=!1;for(;0!==E&&(!1===C||v);){const M=s[E+1];YD(s[E],o)&&(C=!0,s[E+1]=d?Ah(M):Q0(M)),E=d?il(M):pc(M)}C&&(s[l+1]=d?Q0(g):Ah(g))}function YD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Za(s,o)>=0}function gc(s,o){return function _o(s,o,l,d){const h=be(),g=yn(),v=function Rs(s){const o=Qt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);g.firstUpdatePass&&function lw(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[Ci()],v=function xh(s,o){return o>=s.expandoStartIndex}(s,l);(function hg(s,o){return 0!=(s.flags&(o?8:16))})(g,d)&&null===o&&!v&&(o=!1),o=function cw(s,o,l,d){const h=function ro(s){const o=Qt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Oh(l=sl(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=sl(h,s,o,l,d),null===g){let C=function uw(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==pc(d))return s[il(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=sl(null,s,o,C[1],d),C=Oh(C,o.attrs,d),function dw(s,o,l,d){s[il(l?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else g=function Zs(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Oh(d,s[g].hostAttrs,l);return Oh(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function ZD(s,o,l,d,h,g){let v=g?o.classBindings:o.styleBindings,E=il(v),C=pc(v);s[d]=l;let M,T=!1;if(Array.isArray(l)?(M=l[1],(null===M||Za(l,M)>0)&&(T=!0)):M=l,h)if(0!==C){const W=il(s[E+1]);s[d+1]=Mh(W,E),0!==W&&(s[W+1]=ry(s[W+1],d)),s[E+1]=function ny(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Mh(E,0),0!==E&&(s[E+1]=ry(s[E+1],d)),E=d;else s[d+1]=Mh(C,0),0===E?E=d:s[C+1]=ry(s[C+1],d),C=d;T&&(s[d+1]=Q0(s[d+1])),J0(s,M,d,!0),J0(s,M,d,!1),function KD(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Za(g,o)>=0&&(l[d+1]=Ah(l[d+1]))}(o,M,s,d,g),v=Mh(E,C),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,d)}}(g,s,v,d),o!==sn&&Ti(h,v,o)&&function sy(s,o,l,d,h,g,v,E){if(!(3&o.type))return;const C=s.data,T=C[E+1],M=function X0(s){return 1==(1&s)}(T)?kh(C,o,l,h,pc(T),v):void 0;dg(M)||(dg(g)||function ik(s){return 2==(2&s)}(T)&&(g=kh(C,null,l,h,E,v)),function fp(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:es.DashCase;null==h?s.removeStyle(l,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=es.Important),s.setStyle(l,d,h,g))}}(d,v,Ei(Ci(),l),h,g))}(g,g.data[Ci()],h,h[en],s,h[v+1]=function iT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(b(s)))),s}(o,l),d,v)}(s,o,null,!0),gc}function sl(s,o,l,d,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],d=Oh(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function Oh(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Di(s,v,!!l||o[++g]))}return void 0===s?null:s}function kh(s,o,l,d,h,g){const v=null===o;let E;for(;h>0;){const C=s[h],T=Array.isArray(C),M=T?C[1]:C,k=null===M;let W=l[h+1];W===sn&&(W=k?Ot:void 0);let ee=k?ua(W,d):M===d?W:void 0;if(T&&!dg(ee)&&(ee=ua(C,d)),dg(ee)&&(E=ee,v))return E;const Ce=s[h+1];h=v?il(Ce):pc(Ce)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(E=ua(C,d))}return E}function dg(s){return void 0!==s}function hw(s,o=""){const l=be(),d=yn(),h=s+Ln,g=d.firstCreatePass?Ou(d,h,1,o,null):d.data[h],v=l[h]=function fu(s,o){return s.createText(o)}(l[en],o);ql(d,l,v,g),Xi(g,!1)}function fg(s){return pg("",s,""),fg}function pg(s,o,l){const d=be(),h=dc(d,s,o,l);return h!==sn&&function Ia(s,o,l){const d=Ei(o,s);!function zl(s,o,l){s.setValue(o,l)}(s[en],d,l)}(d,Ci(),h),pg}const Vu=void 0;var Sw=["en",[["a","p"],["AM","PM"],Vu],[["AM","PM"],Vu,Vu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vu,"{1} 'at' {0}",Vu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tw(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let _c={};function gg(s){const o=function Mw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=fy(o);if(l)return l;const d=o.split("-")[0];if(l=fy(d),l)return l;if("en"===d)return Sw;throw new ue(701,!1)}function hy(s){return gg(s)[Ut.PluralCase]}function fy(s){return s in _c||(_c[s]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[s]),_c[s]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const Uu="en-US";let gy=Uu;function Tg(s,o,l,d,h){if(s=Y(s),Array.isArray(s))for(let g=0;g<s.length;g++)Tg(s[g],o,l,d,h);else{const g=yn(),v=be();let E=ic(s)?s:Y(s.provide),C=Hb(s);const T=ni(),M=1048575&T.providerIndexes,k=T.directiveStart,W=T.providerIndexes>>20;if(ic(s)||!s.multi){const ee=new Ao(C,h,_h),Ce=Yw(E,o,h?M:M+W,k);-1===Ce?(kl(Yc(T,v),g,E),Kw(g,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(ee),v.push(ee)):(l[Ce]=ee,v[Ce]=ee)}else{const ee=Yw(E,o,M+W,k),Ce=Yw(E,o,M,M+W),ot=Ce>=0&&l[Ce];if(h&&!ot||!h&&!(ee>=0&&l[ee])){kl(Yc(T,v),g,E);const bt=function RT(s,o,l,d,h){const g=new Ao(s,l,_h);return g.multi=[],g.index=o,g.componentProviders=0,OT(g,h,d&&!l),g}(h?kT:bk,l.length,h,d,C);!h&&ot&&(l[Ce].providerFactory=bt),Kw(g,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(bt),v.push(bt)}else Kw(g,s,ee>-1?ee:Ce,OT(l[h?Ce:ee],C,!h&&d));!h&&d&&ot&&l[Ce].componentProviders++}}}function Kw(s,o,l,d){const h=ic(o),g=function KI(s){return!!s.useClass}(o);if(h||g){const C=(g?Y(o.useClass):o).prototype.ngOnDestroy;if(C){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=T.indexOf(l);-1===M?T.push(l,[d,C]):T[M+1].push(d,C)}else T.push(l,C)}}}function OT(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Yw(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function bk(s,o,l,d){return Sg(this.multi,[])}function kT(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=oa(l,l[et],this.providerFactory.index,d);g=E.slice(0,v),Sg(h,g);for(let C=v;C<E.length;C++)g.push(E[C])}else g=[],Sg(h,g);return g}function Sg(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function xy(s,o=[]){return l=>{l.providersResolver=(d,h)=>function xT(s,o,l){const d=yn();if(d.firstCreatePass){const h=ci(s);Tg(l,d.data,d.blueprint,h,!0),Tg(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Ma{}class Qw{}function PT(s,o){return new Xw(s,o??null)}class Xw extends Ma{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const d=An(o);this._bootstrapComponents=Ca(d.bootstrap),this._r3Injector=gi(o,l,[{provide:Ma,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],_e(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jw extends Qw{constructor(o){super(),this.moduleType=o}create(o){return new Xw(this.moduleType,o)}}class eE extends Ma{constructor(o,l,d){super(),this.componentFactoryResolver=new E0(this),this.instance=null;const h=new jb([...o,{provide:Ma,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],l||wa(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Oy(s,o,l=null){return new eE(s,o,l).injector}let tE=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Du(0,l.type),h=d.length>0?Oy([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Xe({token:s,providedIn:"environment",factory:()=>new s(We(sc))}),s})();function nE(s){s.getStandaloneInjector=o=>o.get(tE).getOrCreateStandaloneInjector(s)}function aE(s,o,l,d){return function By(s,o,l,d,h,g){const v=o+l;return Ti(s,v,h)?function zs(s,o,l){return s[o]=l}(s,v+1,g?d.call(g,h):d(h)):function Hh(s,o){const l=s[o];return l===sn?void 0:l}(s,v+1)}(be(),function Wr(){const s=Qt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,l,d)}function vE(s){return o=>{setTimeout(s,void 0,o)}}const Aa=class yE extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,g=l||(()=>null),v=d;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),g=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(g=vE(g),h&&(h=vE(h)),v&&(v=vE(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof X.w0&&o.add(E),E}};function Ck(){return this._results[Symbol.iterator]()}class jy{get changes(){return this._changes||(this._changes=new Aa)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=jy.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=Ck)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=function us(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Ab(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $h=(()=>{class s{}return s.__NG_ELEMENT_ID__=Tk,s})();const Ik=$h,Dk=class extends Ik{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=Pp(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[Js]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Ni];return null!==v&&(h[Ni]=v.createEmbeddedView(d)),Np(d,h,o),new Gp(h)}};function Tk(){return Hy(ni(),be())}function Hy(s,o){return 4&s.type?new Dk(o,s,Ea(s,o)):null}let zy=(()=>{class s{}return s.__NG_ELEMENT_ID__=Sk,s})();function Sk(){return $y(ni(),be())}const Mk=zy,bE=class extends Mk{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Ea(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){const o=Nd(this._hostTNode,this._hostLView);if(Rd(o)){const l=Wc(o,this._hostLView),d=Al(o);return new io(l[et].data[d+8],l)}return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=WT(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-$r}createEmbeddedView(o,l,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(l||{},g);return this.insert(v,h),v}createComponent(o,l,d,h,g){const v=o&&!function tu(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const k=l||{};E=k.index,d=k.injector,h=k.projectableNodes,g=k.environmentInjector||k.ngModuleRef}const C=v?o:new Ru(lt(o)),T=d||this.parentInjector;if(!g&&null==C.ngModule){const W=(v?T:this.parentInjector).get(sc,null);W&&(g=W)}const M=C.create(T,h,void 0,g);return this.insert(M.hostView,E),M}insert(o,l){const d=o._lView,h=d[et];if(function Uc(s){return ai(s[$n])}(d)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const k=d[$n],W=new bE(k,k[br],k[$n]);W.detach(W.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function Ym(s,o,l,d){const h=$r+d,g=l.length;d>0&&(l[h-1][vi]=o),d<g-$r?(o[vi]=l[h],Zf(l,$r+d,o)):(l.push(o),o[vi]=null),o[$n]=l;const v=o[Js];null!==v&&l!==v&&function Qm(s,o){const l=s[As];o[zr]!==o[$n][$n][zr]&&(s[wd]=!0),null===l?s[As]=[o]:l.push(o)}(v,o);const E=o[Ni];null!==E&&E.insertView(s),o[Kt]|=64}(h,d,v,g);const E=pi(g,v),C=d[en],T=Gl(C,v[Do]);return null!==T&&function cp(s,o,l,d,h,g){d[Hr]=h,d[br]=o,ya(s,d,l,1,h,g)}(h,v[br],C,d,T,E),o.attachToViewContainerRef(),Zf(Gh(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=WT(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=rh(this._lContainer,l);d&&(nu(Gh(this._lContainer),l),up(d[et],d))}detach(o){const l=this._adjustIndex(o,-1),d=rh(this._lContainer,l);return d&&null!=nu(Gh(this._lContainer),l)?new Gp(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function WT(s){return s[Pa]}function Gh(s){return s[Pa]||(s[Pa]=[])}function $y(s,o){let l;const d=o[s.index];if(ai(d))l=d;else{let h;if(8&s.type)h=Yn(d);else{const g=o[en];h=g.createComment("");const v=dr(s,o);ma(g,Gl(g,v),h,function t_(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=l=_0(d,o,h,s),jp(o,l)}return new bE(l,s,o)}class wE{constructor(o){this.queryList=o,this.matches=null}clone(){return new wE(this.queryList)}setDirty(){this.queryList.setDirty()}}class ll{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new ll(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==tS(o,l).matches&&this.queries[l].setDirty()}}class Gy{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class EE{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new EE(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class bc{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new bc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,ZT(l,g)),this.matchTNodeWithReadOption(o,l,Ga(l,o,g,!1,!1))}else d===$h?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ga(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Mu||h===zy||h===$h&&4&l.type)this.addMatch(l.index,-2);else{const g=Ga(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function ZT(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function xg(s,o,l,d){return-1===l?function qh(s,o){return 11&s.type?Ea(s,o):4&s.type?Hy(s,o):null}(o,s):-2===l?function wc(s,o,l){return l===Mu?Ea(o,s):l===$h?Hy(o,s):l===zy?$y(o,s):void 0}(s,o,d):oa(s,s[et],l,o)}function KT(s,o,l,d){const h=o[Ni].queries[d];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let C=0;C<v.length;C+=2){const T=v[C];E.push(T<0?null:xg(o,g[T],v[C+1],l.metadata.read))}h.matches=E}return h.matches}function CE(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=KT(s,o,h,l);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)d.push(v[E/2]);else{const T=g[E+1],M=o[-C];for(let k=$r;k<M.length;k++){const W=M[k];W[Js]===W[$n]&&CE(W[et],W,T,d)}if(null!==M[As]){const k=M[As];for(let W=0;W<k.length;W++){const ee=k[W];CE(ee[et],ee,T,d)}}}}}return d}function Og(s){const o=be(),l=yn(),d=Lf();Bf(d+1);const h=tS(l,d);if(s.dirty&&function Vc(s){return 4==(4&s[Kt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?CE(l,o,d,[]):KT(l,o,h,d);s.reset(g,$b),s.notifyOnChanges()}return!0}return!1}function QT(s,o,l,d){const h=yn();if(h.firstCreatePass){const g=ni();(function eS(s,o,l){null===s.queries&&(s.queries=new EE),s.queries.track(new bc(o,l))})(h,new Gy(o,l,d),g.index),function Ak(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}!function IE(s,o,l){const d=new jy(4==(4&l));R_(s,o,d,d.destroy),null===o[Ni]&&(o[Ni]=new ll),o[Ni].queries.push(new wE(d))}(h,be(),l)}function XT(){return function JT(s,o){return s[Ni].queries[o].queryList}(be(),Lf())}function tS(s,o){return s.queries.getByIndex(o)}function DE(s){return!!An(s)}function Rg(...s){}const wS=new jn("Application Initializer");let Wy=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Rg,this.reject=Rg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Ih(g))l.push(g);else if(H0(g)){const v=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(We(wS,8))},s.\u0275prov=Xe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ES=new jn("AppId",{providedIn:"root",factory:function CS(){return`${xE()}${xE()}${xE()}`}});function xE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IS=new jn("Platform Initializer"),Zk=new jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),DS=new jn("appBootstrapListener"),Kk=new jn("AnimationModuleType");let Yk=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Xe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Zy=new jn("LocaleId",{providedIn:"root",factory:()=>at(Zy,yt.Optional|yt.SkipSelf)||function Qk(){return typeof $localize<"u"&&$localize.locale||Uu}()}),Xk=new jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Jk{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let eR=(()=>{class s{compileModuleSync(l){return new Jw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=Ca(An(l).declarations).reduce((v,E)=>{const C=lt(E);return C&&v.push(new Ru(C)),v},[]);return new Jk(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Xe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rR=(()=>Promise.resolve(0))();function OE(s){typeof Zone>"u"?rR.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class vo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Aa(!1),this.onMicrotaskEmpty=new Aa(!1),this.onStable=new Aa(!1),this.onError=new Aa(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function iR(){let s=mt.requestAnimationFrame,o=mt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function aR(s){const o=()=>{!function oR(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,RE(s),s.isCheckStableRunning=!0,kE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),RE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,E)=>{try{return MS(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),AS(s)}},onInvoke:(l,d,h,g,v,E,C)=>{try{return MS(s),l.invoke(h,g,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),AS(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,RE(s),kE(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vo.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(vo.isInAngularZone())throw new ue(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,sR,Rg,Rg);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const sR={};function kE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function RE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function MS(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function AS(s){s._nesting--,kE(s)}class lR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Aa,this.onMicrotaskEmpty=new Aa,this.onStable=new Aa,this.onError=new Aa}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const xS=new jn(""),OS=new jn("");let PE,cR=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,PE||(function uR(s){PE=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vo.assertNotInAngularZone(),OE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())OE(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(We(vo),We(kS),We(OS))},s.\u0275prov=Xe({token:s,factory:s.\u0275fac}),s})(),kS=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return PE?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Xe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ec=null;const RS=new jn("AllowMultipleToken"),NE=new jn("PlatformDestroyListeners"),cl=!1;class hR{constructor(o,l){this.name=o,this.token=l}}function BS(s,o,l=[]){const d=`Platform: ${o}`,h=new jn(d);return(g=[])=>{let v=LE();if(!v||v.injector.get(RS,!1)){const E=[...l,...g,{provide:h,useValue:!0}];s?s(E):function NS(s){if(Ec&&!Ec.get(RS,!1))throw new ue(400,!1);Ec=s;const o=s.get(Ky);(function FS(s){const o=s.get(IS,null);o&&o.forEach(l=>l())})(s)}(function FE(s=[],o){return ac.create({name:o,providers:[{provide:Ub,useValue:"platform"},{provide:NE,useValue:new Set([()=>Ec=null])},...s]})}(E,d))}return function pR(s){const o=LE();if(!o)throw new ue(401,!1);return o}()}}function LE(){return Ec?.get(Ky)??null}let Ky=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function BE(s,o){let l;return l="noop"===s?new lR:("zone.js"===s?void 0:s)||new vo(o),l}(d?.ngZone,function US(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:vo,useValue:h}];return h.run(()=>{const v=ac.create({providers:g,parent:this.injector,name:l.moduleType.name}),E=l.create(v),C=E.injector.get(Au,null);if(!C)throw new ue(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:M=>{C.handleError(M)}});E.onDestroy(()=>{Er(this._modules,E),T.unsubscribe()})}),function Zh(s,o,l){try{const d=l();return Ih(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(C,h,()=>{const T=E.injector.get(Wy);return T.runInitializers(),T.donePromise.then(()=>(function my(s){He(s,"Expected localeId to be defined"),"string"==typeof s&&(gy=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Zy,Uu)||Uu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=VE({},d);return function dR(s,o,l){const d=new Jw(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(qu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ue(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(NE,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(We(ac))},s.\u0275prov=Xe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function VE(s,o){return Array.isArray(o)?o.reduce(VE,s):{...s,...o}}let qu=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new N.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{vo.assertNotInAngularZone(),OE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{vo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ie.T)(g,v.pipe((0,te.B)()))}bootstrap(l,d){const h=l instanceof f_;if(!this._injector.get(Wy).done){!h&&Sr(l);throw new ue(405,cl)}let v;v=h?l:this._injector.get(fh).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function PS(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Ma),T=v.create(ac.NULL,[],d||v.selector,E),M=T.location.nativeElement,k=T.injector.get(xS,null);return k?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),Er(this.components,T),k?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Er(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(DS,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Er(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ue(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(We(vo),We(sc),We(Au))},s.\u0275prov=Xe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Er(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function Wu(){return!1}let HE=(()=>{class s{}return s.__NG_ELEMENT_ID__=yR,s})();function yR(s){return function zE(s,o,l){if(li(s)&&!l){const d=hi(s.index,o);return new Gp(d,d)}return 47&s.type?new Gp(o[zr],o):null}(ni(),be(),16==(16&s))}class Yy{constructor(){}supports(o){return uc(o)}create(o){return new AR(o)}}const MR=(s,o)=>o;class AR{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||MR}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<qS(d,h,g)?l:d,E=qS(v,h,g),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const T=E-h,M=C-h;if(T!=M){for(let W=0;W<T;W++){const ee=W<g.length?g[W]:g[W]=0,Ce=ee+W;M<=Ce&&Ce<T&&(g[W]=ee+1)}g[v.previousIndex]=M-T}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!uc(o))throw new ue(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),d=!0),l=l._next}else h=0,function R0(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new xR(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new GS),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GS),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class xR{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OR{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class GS{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new OR,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qS(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class WS{constructor(){}supports(o){return o instanceof Map||wh(o)}create(){return new kR}}class kR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||wh(o)))throw new ue(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new RR(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class RR{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZS(){return new ZE([new Yy])}let ZE=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||ZS()),deps:[[s,new Ll,new Fl]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new ue(901,!1)}}return s.\u0275prov=Xe({token:s,providedIn:"root",factory:ZS}),s})();function KE(){return new Qy([new WS])}let Qy=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||KE()),deps:[[s,new Ll,new Fl]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new ue(901,!1)}}return s.\u0275prov=Xe({token:s,providedIn:"root",factory:KE}),s})();const FR=BS(null,"core",[]);let LR=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(We(qu))},s.\u0275mod=B({type:s}),s.\u0275inj=Pn({}),s})();function KS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Et,Me,O)=>{O.d(Me,{Z:()=>Qe});var u=O(2090),X=O(4859),N=O(9681),ie=O(1877);class te{constructor(ue,Ae){this._delegate=ue,this.firebase=Ae,(0,N._addComponent)(ue,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ue,Ae=N._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(ue);return!Ve.isInitialized()&&"EXPLICIT"===(null===(Re=Ve.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Ae})}_removeServiceInstance(ue,Ae=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(Ae)}_addComponent(ue){(0,N._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,N._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ce(){const Je=function _e(Je){const ue={},Ae={__esModule:!0,initializeApp:function xe(Pe,U={}){const ye=N.initializeApp(Pe,U);if((0,u.r3)(ue,ye.name))return ue[ye.name];const qe=new Je(ye,Ae);return ue[ye.name]=qe,qe},app:Ve,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Pe){const U=Pe.name,ye=U.replace("-compat","");if(N._registerComponent(Pe)&&"PUBLIC"===Pe.type){const qe=(Ye=Ve())=>{if("function"!=typeof Ye[ye])throw ge.create("invalid-app-argument",{appName:U});return Ye[ye]()};void 0!==Pe.serviceProps&&(0,u.ZB)(qe,Pe.serviceProps),Ae[ye]=qe,Je.prototype[ye]=function(...Ye){return this._getService.bind(this,U).apply(this,Pe.multipleInstances?Ye:[])}}return"PUBLIC"===Pe.type?Ae[ye]:null},removeApp:function Re(Pe){delete ue[Pe]},useAsService:function $e(Pe,U){return"serverAuth"===U?null:U},modularAPIs:N}};function Ve(Pe){if(!(0,u.r3)(ue,Pe=Pe||N._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Pe});return ue[Pe]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Ee(){return Object.keys(ue).map(Pe=>ue[Pe])}}),Ve.App=Je,Ae}(te);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function ue(Ae){(0,u.ZB)(Je,Ae)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Je}(),$=new ie.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=H;!function ve(Je){(0,N.registerVersion)("@firebase/app-compat","0.2.4",Je)}()},9681:(Et,Me,O)=>{O.r(Me),O.d(Me,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>Le,_addComponent:()=>_n,_addOrOverwriteComponent:()=>xt,_apps:()=>He,_clearComponents:()=>Pn,_components:()=>st,_getProvider:()=>Xe,_registerComponent:()=>un,_removeServiceInstance:()=>At,deleteApp:()=>ei,getApp:()=>Jr,getApps:()=>ir,initializeApp:()=>ii,onLog:()=>yt,registerVersion:()=>tr,setLogLevel:()=>ti});var u=O(5861),X=O(4859),N=O(1877),ie=O(2090),te=O(8766);class J{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function ge(We){return"VERSION"===We.getComponent()?.type}(at)){const Rt=at.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(at=>at).join(" ")}}const _e="@firebase/app",H=new N.Yd("@firebase/app"),Le="[DEFAULT]",Ue={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},He=new Map,st=new Map;function _n(We,Se){try{We.container.addComponent(Se)}catch(at){H.debug(`Component ${Se.name} failed to register with FirebaseApp ${We.name}`,at)}}function xt(We,Se){We.container.addOrOverwriteComponent(Se)}function un(We){const Se=We.name;if(st.has(Se))return H.debug(`There were multiple attempts to register component ${Se}.`),!1;st.set(Se,We);for(const at of He.values())_n(at,We);return!0}function Xe(We,Se){const at=We.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),We.container.getProvider(Se)}function At(We,Se,at=Le){Xe(We,Se).clearInstance(at)}function Pn(){st.clear()}const Sn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mn{constructor(Se,at,Rt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const vr="9.17.2";function ii(We,Se={}){let at=We;"object"!=typeof Se&&(Se={name:Se});const Rt=Object.assign({name:Le,automaticDataCollectionEnabled:!1},Se),jt=Rt.name;if("string"!=typeof jt||!jt)throw Sn.create("bad-app-name",{appName:String(jt)});if(at||(at=(0,ie.aH)()),!at)throw Sn.create("no-options");const Gt=He.get(jt);if(Gt){if((0,ie.vZ)(at,Gt.options)&&(0,ie.vZ)(Rt,Gt.config))return Gt;throw Sn.create("duplicate-app",{appName:jt})}const nr=new X.H0(jt);for(const L of st.values())nr.addComponent(L);const V=new mn(at,Rt,nr);return He.set(jt,V),V}function Jr(We=Le){const Se=He.get(We);if(!Se&&We===Le)return ii();if(!Se)throw Sn.create("no-app",{appName:We});return Se}function ir(){return Array.from(He.values())}function ei(We){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(We){const Se=We.name;He.has(Se)&&(He.delete(Se),yield Promise.all(We.container.getProviders().map(at=>at.delete())),We.isDeleted=!0)})).apply(this,arguments)}function tr(We,Se,at){var Rt;let jt=null!==(Rt=Ue[We])&&void 0!==Rt?Rt:We;at&&(jt+=`-${at}`);const Gt=jt.match(/\s|\//),nr=Se.match(/\s|\//);if(Gt||nr){const V=[`Unable to register library "${jt}" with version "${Se}":`];return Gt&&V.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Gt&&nr&&V.push("and"),nr&&V.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void H.warn(V.join(" "))}un(new X.wA(`${jt}-version`,()=>({library:jt,version:Se}),"VERSION"))}function yt(We,Se){if(null!==We&&"function"!=typeof We)throw Sn.create("invalid-log-argument");(0,N.Am)(We,Se)}function ti(We){(0,N.Ub)(We)}const si="firebase-heartbeat-database",Fn=1,Tr="firebase-heartbeat-store";let Pi=null;function mt(){return Pi||(Pi=(0,te.X3)(si,Fn,{upgrade:(We,Se)=>{0===Se&&We.createObjectStore(Tr)}}).catch(We=>{throw Sn.create("idb-open",{originalErrorMessage:We.message})})),Pi}function Nt(){return(Nt=(0,u.Z)(function*(We){try{return(yield mt()).transaction(Tr).objectStore(Tr).get(zn(We))}catch(Se){if(Se instanceof ie.ZR)H.warn(Se.message);else{const at=Sn.create("idb-get",{originalErrorMessage:Se?.message});H.warn(at.message)}}})).apply(this,arguments)}function Zi(We,Se){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(We,Se){try{const Rt=(yield mt()).transaction(Tr,"readwrite");return yield Rt.objectStore(Tr).put(Se,zn(We)),Rt.done}catch(at){if(at instanceof ie.ZR)H.warn(at.message);else{const Rt=Sn.create("idb-set",{originalErrorMessage:at?.message});H.warn(Rt.message)}}})).apply(this,arguments)}function zn(We){return`${We.name}!${We.options.appId}`}class Ki{constructor(Se){this.container=Se,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new on(at),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var Se=this;return(0,u.Z)(function*(){const Rt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=hn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Se._heartbeatsCache.heartbeats.some(Gt=>Gt.date===jt))return Se._heartbeatsCache.heartbeats.push({date:jt,agent:Rt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Gt=>{const nr=new Date(Gt.date).valueOf();return Date.now()-nr<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,u.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const at=hn(),{heartbeatsToSend:Rt,unsentEntries:jt}=function oi(We,Se=1024){const at=[];let Rt=We.slice();for(const jt of We){const Gt=at.find(nr=>nr.agent===jt.agent);if(Gt){if(Gt.dates.push(jt.date),bn(at)>Se){Gt.dates.pop();break}}else if(at.push({agent:jt.agent,dates:[jt.date]}),bn(at)>Se){at.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:at,unsentEntries:Rt}}(Se._heartbeatsCache.heartbeats),Gt=(0,ie.L)(JSON.stringify({version:2,heartbeats:Rt}));return Se._heartbeatsCache.lastSentHeartbeatDate=at,jt.length>0?(Se._heartbeatsCache.heartbeats=jt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Gt})()}}function hn(){return(new Date).toISOString().substring(0,10)}class on{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,u.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Tt(We){return Nt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var at=this;return(0,u.Z)(function*(){var Rt;if(yield at._canUseIndexedDBPromise){const Gt=yield at.read();return Zi(at.app,{lastSentHeartbeatDate:null!==(Rt=Se.lastSentHeartbeatDate)&&void 0!==Rt?Rt:Gt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var at=this;return(0,u.Z)(function*(){var Rt;if(yield at._canUseIndexedDBPromise){const Gt=yield at.read();return Zi(at.app,{lastSentHeartbeatDate:null!==(Rt=Se.lastSentHeartbeatDate)&&void 0!==Rt?Rt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...Se.heartbeats]})}})()}}function bn(We){return(0,ie.L)(JSON.stringify({version:2,heartbeats:We})).length}!function jr(We){un(new X.wA("platform-logger",Se=>new J(Se),"PRIVATE")),un(new X.wA("heartbeat",Se=>new Ki(Se),"PRIVATE")),tr(_e,"0.9.4",We),tr(_e,"0.9.4","esm2017"),tr("fire-js","")}("")},4859:(Et,Me,O)=>{O.d(Me,{H0:()=>_e,wA:()=>N});var u=O(5861),X=O(2090);class N{constructor(H,$,Y){this.name=H,this.instanceFactory=$,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ie="[DEFAULT]";class te{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const Y=new X.BH;if(this.instancesDeferred.set($,Y),this.isInitialized($)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:$});Ze&&Y.resolve(Ze)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const Y=this.normalizeInstanceIdentifier(H?.identifier),Ze=null!==($=H?.optional)&&void 0!==$&&$;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(ve){if(Ze)return null;throw ve}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ge(ce){return"EAGER"===ce.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[$,Y]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier($);try{const ve=this.getOrInitializeService({instanceIdentifier:Ze});Y.resolve(ve)}catch{}}}}clearInstance(H=ie){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,u.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...$.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ie){return this.instances.has(H)}getOptions(H=ie){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,Y=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Y,options:$});for(const[ve,Qe]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(ve)&&Qe.resolve(Ze);return Ze}onInit(H,$){var Y;const Ze=this.normalizeInstanceIdentifier($),ve=null!==(Y=this.onInitCallbacks.get(Ze))&&void 0!==Y?Y:new Set;ve.add(H),this.onInitCallbacks.set(Ze,ve);const Qe=this.instances.get(Ze);return Qe&&H(Qe,Ze),()=>{ve.delete(H)}}invokeOnInitCallbacks(H,$){const Y=this.onInitCallbacks.get($);if(Y)for(const Ze of Y)try{Ze(H,$)}catch{}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let Y=this.instances.get(H);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=H,ce===ie?void 0:ce),options:$}),this.instances.set(H,Y),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(Y,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Y)}catch{}var ce;return Y||null}normalizeInstanceIdentifier(H=ie){return this.component?this.component.multipleInstances?H:ie:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new te(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},2833:(Et,Me,O)=>{var u=O(5861),X=O(9681),N=O(4859),ie=O(2090),te=O(8766);const J="@firebase/installations",ge="0.6.4",_e=1e4,ce=`w:${ge}`,H="FIS_v2",$="https://firebaseinstallations.googleapis.com/v1",Y=36e5,Je=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ue(B){return B instanceof ie.ZR&&B.code.includes("request-failed")}function Ae({projectId:B}){return`${$}/projects/${B}/installations`}function Re(B){return{token:B.token,requestStatus:2,expiresIn:U(B.expiresIn),creationTime:Date.now()}}function Ve(B,oe){return xe.apply(this,arguments)}function xe(){return(xe=(0,u.Z)(function*(B,oe){const _t=(yield oe.json()).error;return Je.create("request-failed",{requestName:B,serverCode:_t.code,serverMessage:_t.message,serverStatus:_t.status})})).apply(this,arguments)}function Ee({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function $e(B){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(B){const oe=yield B();return oe.status>=500&&oe.status<600?B():oe})).apply(this,arguments)}function U(B){return Number(B.replace("s","000"))}function Ye(){return(Ye=(0,u.Z)(function*({appConfig:B,heartbeatServiceProvider:oe},{fid:Ne}){const _t=Ae(B),In=Ee(B),lt=oe.getImmediate({optional:!0});if(lt){const An=yield lt.getHeartbeatsHeader();An&&In.append("x-firebase-client",An)}const pn={method:"POST",headers:In,body:JSON.stringify({fid:Ne,authVersion:H,appId:B.appId,sdkVersion:ce})},Sr=yield $e(()=>fetch(_t,pn));if(Sr.ok){const An=yield Sr.json();return{fid:An.fid||Ne,registrationStatus:2,refreshToken:An.refreshToken,authToken:Re(An.authToken)}}throw yield Ve("Create Installation",Sr)})).apply(this,arguments)}function vt(B){return new Promise(oe=>{setTimeout(oe,B)})}const ae=/^[cdef][\w-]{21}$/,he="";function we(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const Ne=function ke(B){return function tt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return ae.test(Ne)?Ne:he}catch{return he}}function Le(B){return`${B.appName}!${B.appId}`}const Ue=new Map;function He(B,oe){const Ne=Le(B);xt(Ne,oe),function un(B,oe){const Ne=function At(){return!Xe&&"BroadcastChannel"in self&&(Xe=new BroadcastChannel("[Firebase] FID Change"),Xe.onmessage=B=>{xt(B.data.key,B.data.fid)}),Xe}();Ne&&Ne.postMessage({key:B,fid:oe}),function Pn(){0===Ue.size&&Xe&&(Xe.close(),Xe=null)}()}(Ne,oe)}function xt(B,oe){const Ne=Ue.get(B);if(Ne)for(const _t of Ne)_t(oe)}let Xe=null;const Nn="firebase-installations-database",Sn=1,mn="firebase-installations-store";let vr=null;function ii(){return vr||(vr=(0,te.X3)(Nn,Sn,{upgrade:(B,oe)=>{0===oe&&B.createObjectStore(mn)}})),vr}function Jr(B,oe){return ir.apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(B,oe){const Ne=Le(B),In=(yield ii()).transaction(mn,"readwrite"),lt=In.objectStore(mn),Ct=yield lt.get(Ne);return yield lt.put(oe,Ne),yield In.done,(!Ct||Ct.fid!==oe.fid)&&He(B,oe.fid),oe})).apply(this,arguments)}function ei(B){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(B){const oe=Le(B),_t=(yield ii()).transaction(mn,"readwrite");yield _t.objectStore(mn).delete(oe),yield _t.done})).apply(this,arguments)}function tr(B,oe){return yt.apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(B,oe){const Ne=Le(B),In=(yield ii()).transaction(mn,"readwrite"),lt=In.objectStore(mn),Ct=yield lt.get(Ne),pn=oe(Ct);return void 0===pn?yield lt.delete(Ne):yield lt.put(pn,Ne),yield In.done,pn&&(!Ct||Ct.fid!==pn.fid)&&He(B,pn.fid),pn})).apply(this,arguments)}function ti(B){return si.apply(this,arguments)}function si(){return si=(0,u.Z)(function*(B){let oe;const Ne=yield tr(B.appConfig,_t=>{const In=function Fn(B){return vn(B||{fid:we(),registrationStatus:0})}(_t),lt=function Tr(B,oe){if(0===oe.registrationStatus){if(!navigator.onLine)return{installationEntry:oe,registrationPromise:Promise.reject(Je.create("app-offline"))};const Ne={fid:oe.fid,registrationStatus:1,registrationTime:Date.now()},_t=function Pi(B,oe){return mt.apply(this,arguments)}(B,Ne);return{installationEntry:Ne,registrationPromise:_t}}return 1===oe.registrationStatus?{installationEntry:oe,registrationPromise:Tt(B)}:{installationEntry:oe}}(B,In);return oe=lt.registrationPromise,lt.installationEntry});return Ne.fid===he?{installationEntry:yield oe}:{installationEntry:Ne,registrationPromise:oe}}),si.apply(this,arguments)}function mt(){return mt=(0,u.Z)(function*(B,oe){try{const Ne=yield function qe(B,oe){return Ye.apply(this,arguments)}(B,oe);return Jr(B.appConfig,Ne)}catch(Ne){throw ue(Ne)&&409===Ne.customData.serverCode?yield ei(B.appConfig):yield Jr(B.appConfig,{fid:oe.fid,registrationStatus:0}),Ne}}),mt.apply(this,arguments)}function Tt(B){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,u.Z)(function*(B){let oe=yield Zi(B.appConfig);for(;1===oe.registrationStatus;)yield vt(100),oe=yield Zi(B.appConfig);if(0===oe.registrationStatus){const{installationEntry:Ne,registrationPromise:_t}=yield ti(B);return _t||Ne}return oe})).apply(this,arguments)}function Zi(B){return tr(B,oe=>{if(!oe)throw Je.create("installation-not-found");return vn(oe)})}function vn(B){return function zn(B){return 1===B.registrationStatus&&B.registrationTime+_e<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Zn(){return(Zn=(0,u.Z)(function*({appConfig:B,heartbeatServiceProvider:oe},Ne){const _t=function Ki(B,{fid:oe}){return`${Ae(B)}/${oe}/authTokens:generate`}(B,Ne),In=function Oe(B,{refreshToken:oe}){const Ne=Ee(B);return Ne.append("Authorization",function ye(B){return`${H} ${B}`}(oe)),Ne}(B,Ne),lt=oe.getImmediate({optional:!0});if(lt){const An=yield lt.getHeartbeatsHeader();An&&In.append("x-firebase-client",An)}const pn={method:"POST",headers:In,body:JSON.stringify({installation:{sdkVersion:ce,appId:B.appId}})},Sr=yield $e(()=>fetch(_t,pn));if(Sr.ok)return Re(yield Sr.json());throw yield Ve("Generate Auth Token",Sr)})).apply(this,arguments)}function hn(B){return oi.apply(this,arguments)}function oi(){return oi=(0,u.Z)(function*(B,oe=!1){let Ne;const _t=yield tr(B.appConfig,lt=>{if(!at(lt))throw Je.create("not-registered");const Ct=lt.authToken;if(!oe&&function Rt(B){return 2===B.requestStatus&&!function jt(B){const oe=Date.now();return oe<B.creationTime||B.creationTime+B.expiresIn<oe+Y}(B)}(Ct))return lt;if(1===Ct.requestStatus)return Ne=function on(B,oe){return bn.apply(this,arguments)}(B,oe),lt;{if(!navigator.onLine)throw Je.create("app-offline");const pn=function Gt(B){const oe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:oe})}(lt);return Ne=function We(B,oe){return Se.apply(this,arguments)}(B,pn),pn}});return Ne?yield Ne:_t.authToken}),oi.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(B,oe){let Ne=yield jr(B.appConfig);for(;1===Ne.authToken.requestStatus;)yield vt(100),Ne=yield jr(B.appConfig);const _t=Ne.authToken;return 0===_t.requestStatus?hn(B,oe):_t})).apply(this,arguments)}function jr(B){return tr(B,oe=>{if(!at(oe))throw Je.create("not-registered");return function nr(B){return 1===B.requestStatus&&B.requestTime+_e<Date.now()}(oe.authToken)?Object.assign(Object.assign({},oe),{authToken:{requestStatus:0}}):oe})}function Se(){return Se=(0,u.Z)(function*(B,oe){try{const Ne=yield function lr(B,oe){return Zn.apply(this,arguments)}(B,oe),_t=Object.assign(Object.assign({},oe),{authToken:Ne});return yield Jr(B.appConfig,_t),Ne}catch(Ne){if(!ue(Ne)||401!==Ne.customData.serverCode&&404!==Ne.customData.serverCode){const _t=Object.assign(Object.assign({},oe),{authToken:{requestStatus:0}});yield Jr(B.appConfig,_t)}else yield ei(B.appConfig);throw Ne}}),Se.apply(this,arguments)}function at(B){return void 0!==B&&2===B.registrationStatus}function L(){return(L=(0,u.Z)(function*(B){const oe=B,{installationEntry:Ne,registrationPromise:_t}=yield ti(oe);return _t?_t.catch(console.error):hn(oe).catch(console.error),Ne.fid})).apply(this,arguments)}function me(){return me=(0,u.Z)(function*(B,oe=!1){const Ne=B;return yield function ne(B){return ht.apply(this,arguments)}(Ne),(yield hn(Ne,oe)).token}),me.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(B){const{registrationPromise:oe}=yield ti(B);oe&&(yield oe)})).apply(this,arguments)}function kr(B){return Je.create("missing-app-config-values",{valueName:B})}const Q="installations",nt=B=>{const oe=B.getProvider("app").getImmediate(),Ne=function sr(B){if(!B||!B.options)throw kr("App Configuration");if(!B.name)throw kr("App Name");const oe=["projectId","apiKey","appId"];for(const Ne of oe)if(!B.options[Ne])throw kr(Ne);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(oe);return{app:oe,appConfig:Ne,heartbeatServiceProvider:(0,X._getProvider)(oe,"heartbeat"),_delete:()=>Promise.resolve()}},ft=B=>{const oe=B.getProvider("app").getImmediate(),Ne=(0,X._getProvider)(oe,Q).getImmediate();return{getId:()=>function V(B){return L.apply(this,arguments)}(Ne),getToken:In=>function q(B){return me.apply(this,arguments)}(Ne,In)}};(function Wt(){(0,X._registerComponent)(new N.wA(Q,nt,"PUBLIC")),(0,X._registerComponent)(new N.wA("installations-internal",ft,"PRIVATE"))})(),(0,X.registerVersion)(J,ge),(0,X.registerVersion)(J,ge,"esm2017")},1877:(Et,Me,O)=>{O.d(Me,{Am:()=>ce,Ub:()=>_e,Yd:()=>ge,in:()=>X});const u=[];var X=(()=>{return(H=X||(X={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",X;var H})();const N={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ie=X.INFO,te={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},J=(H,$,...Y)=>{if($<H.logLevel)return;const Ze=(new Date).toISOString(),ve=te[$];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[ve](`[${Ze}]  ${H.name}:`,...Y)};class ge{constructor($){this.name=$,this._logLevel=ie,this._logHandler=J,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function _e(H){u.forEach($=>{$.setLogLevel(H)})}function ce(H,$){for(const Y of u){let Ze=null;$&&$.level&&(Ze=N[$.level]),Y.userLogHandler=null===H?null:(ve,Qe,...Je)=>{const ue=Je.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Qe>=(Ze??ve.logLevel)&&H({level:X[Qe].toLowerCase(),message:ue,args:Je,type:ve.name})}}}},908:(Et,Me,O)=>{O.d(Me,{Gb:()=>ht,LP:()=>nn,pQ:()=>sr,ps:()=>kr});var u=O(5861),N=(O(2833),O(4859)),ie=O(8766),te=O(2090),J=O(9681);const ge="/firebase-messaging-sw.js",_e="/firebase-cloud-messaging-push-scope",ce="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",H="https://fcmregistrations.googleapis.com/v1",$="google.c.a.c_id",Y="google.c.a.c_l",Ze="google.c.a.ts",ve="google.c.a.e";var Je=(()=>{return(Q=Je||(Je={})).PUSH_RECEIVED="push-received",Q.NOTIFICATION_CLICKED="notification-clicked",Je;var Q})();function ue(Q){const se=new Uint8Array(Q);return btoa(String.fromCharCode(...se)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ae(Q){const nt=(Q+"=".repeat((4-Q.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ft=atob(nt),Wt=new Uint8Array(ft.length);for(let B=0;B<ft.length;++B)Wt[B]=ft.charCodeAt(B);return Wt}const Re="fcm_token_details_db",Ve=5,xe="fcm_token_object_Store";function Oe(){return Oe=(0,u.Z)(function*(Q){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(B=>B.name).includes(Re))return null;let se=null;return(yield(0,ie.X3)(Re,Ve,{upgrade:(ft=(0,u.Z)(function*(Wt,B,oe,Ne){var _t;if(B<2||!Wt.objectStoreNames.contains(xe))return;const In=Ne.objectStore(xe),lt=yield In.index("fcmSenderId").get(Q);if(yield In.clear(),lt)if(2===B){const Ct=lt;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;se={token:Ct.fcmToken,createTime:null!==(_t=Ct.createTime)&&void 0!==_t?_t:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:ue(Ct.vapidKey)}}}else if(3===B){const Ct=lt;se={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:ue(Ct.auth),p256dh:ue(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:ue(Ct.vapidKey)}}}else if(4===B){const Ct=lt;se={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:ue(Ct.auth),p256dh:ue(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:ue(Ct.vapidKey)}}}}),function(B,oe,Ne,_t){return ft.apply(this,arguments)})})).close(),yield(0,ie.Lj)(Re),yield(0,ie.Lj)("fcm_vapid_details_db"),yield(0,ie.Lj)("undefined"),function $e(Q){if(!Q||!Q.subscriptionOptions)return!1;const{subscriptionOptions:se}=Q;return"number"==typeof Q.createTime&&Q.createTime>0&&"string"==typeof Q.token&&Q.token.length>0&&"string"==typeof se.auth&&se.auth.length>0&&"string"==typeof se.p256dh&&se.p256dh.length>0&&"string"==typeof se.endpoint&&se.endpoint.length>0&&"string"==typeof se.swScope&&se.swScope.length>0&&"string"==typeof se.vapidKey&&se.vapidKey.length>0}(se)?se:null;var ft}),Oe.apply(this,arguments)}const Pe="firebase-messaging-database",U=1,ye="firebase-messaging-store";let qe=null;function Ye(){return qe||(qe=(0,ie.X3)(Pe,U,{upgrade:(Q,se)=>{0===se&&Q.createObjectStore(ye)}})),qe}function vt(Q){return tt.apply(this,arguments)}function tt(){return tt=(0,u.Z)(function*(Q){const se=Le(Q),ft=yield(yield Ye()).transaction(ye).objectStore(ye).get(se);if(ft)return ft;{const Wt=yield function Ee(Q){return Oe.apply(this,arguments)}(Q.appConfig.senderId);if(Wt)return yield ae(Q,Wt),Wt}}),tt.apply(this,arguments)}function ae(Q,se){return he.apply(this,arguments)}function he(){return(he=(0,u.Z)(function*(Q,se){const nt=Le(Q),Wt=(yield Ye()).transaction(ye,"readwrite");return yield Wt.objectStore(ye).put(se,nt),yield Wt.done,se})).apply(this,arguments)}function ke(){return(ke=(0,u.Z)(function*(Q){const se=Le(Q),ft=(yield Ye()).transaction(ye,"readwrite");yield ft.objectStore(ye).delete(se),yield ft.done})).apply(this,arguments)}function Le({appConfig:Q}){return Q.appId}const He=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function st(Q,se){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(Q,se){const nt=yield Nn(Q),ft=mn(se),Wt={method:"POST",headers:nt,body:JSON.stringify(ft)};let B;try{B=yield(yield fetch(Pn(Q.appConfig),Wt)).json()}catch(oe){throw He.create("token-subscribe-failed",{errorInfo:oe?.toString()})}if(B.error)throw He.create("token-subscribe-failed",{errorInfo:B.error.message});if(!B.token)throw He.create("token-subscribe-no-token");return B.token})).apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(Q,se){const nt=yield Nn(Q),ft=mn(se.subscriptionOptions),Wt={method:"PATCH",headers:nt,body:JSON.stringify(ft)};let B;try{B=yield(yield fetch(`${Pn(Q.appConfig)}/${se.token}`,Wt)).json()}catch(oe){throw He.create("token-update-failed",{errorInfo:oe?.toString()})}if(B.error)throw He.create("token-update-failed",{errorInfo:B.error.message});if(!B.token)throw He.create("token-update-no-token");return B.token})).apply(this,arguments)}function Xe(Q,se){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(Q,se){const ft={method:"DELETE",headers:yield Nn(Q)};try{const B=yield(yield fetch(`${Pn(Q.appConfig)}/${se}`,ft)).json();if(B.error)throw He.create("token-unsubscribe-failed",{errorInfo:B.error.message})}catch(Wt){throw He.create("token-unsubscribe-failed",{errorInfo:Wt?.toString()})}})).apply(this,arguments)}function Pn({projectId:Q}){return`${H}/projects/${Q}/registrations`}function Nn(Q){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*({appConfig:Q,installations:se}){const nt=yield se.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Q.apiKey,"x-goog-firebase-installations-auth":`FIS ${nt}`})})).apply(this,arguments)}function mn({p256dh:Q,auth:se,endpoint:nt,vapidKey:ft}){const Wt={web:{endpoint:nt,auth:se,p256dh:Q}};return ft!==ce&&(Wt.web.applicationPubKey=ft),Wt}const vr=6048e5;function Jr(){return Jr=(0,u.Z)(function*(Q){const se=yield function si(Q,se){return Fn.apply(this,arguments)}(Q.swRegistration,Q.vapidKey),nt={vapidKey:Q.vapidKey,swScope:Q.swRegistration.scope,endpoint:se.endpoint,auth:ue(se.getKey("auth")),p256dh:ue(se.getKey("p256dh"))},ft=yield vt(Q.firebaseDependencies);if(ft){if(function Tr(Q,se){return se.vapidKey===Q.vapidKey&&se.endpoint===Q.endpoint&&se.auth===Q.auth&&se.p256dh===Q.p256dh}(ft.subscriptionOptions,nt))return Date.now()>=ft.createTime+vr?function Mn(Q,se){return tr.apply(this,arguments)}(Q,{token:ft.token,createTime:Date.now(),subscriptionOptions:nt}):ft.token;try{yield Xe(Q.firebaseDependencies,ft.token)}catch(Wt){console.warn(Wt)}return yt(Q.firebaseDependencies,nt)}return yt(Q.firebaseDependencies,nt)}),Jr.apply(this,arguments)}function ir(Q){return ei.apply(this,arguments)}function ei(){return ei=(0,u.Z)(function*(Q){const se=yield vt(Q.firebaseDependencies);se&&(yield Xe(Q.firebaseDependencies,se.token),yield function we(Q){return ke.apply(this,arguments)}(Q.firebaseDependencies));const nt=yield Q.swRegistration.pushManager.getSubscription();return!nt||nt.unsubscribe()}),ei.apply(this,arguments)}function tr(){return tr=(0,u.Z)(function*(Q,se){try{const nt=yield function xt(Q,se){return un.apply(this,arguments)}(Q.firebaseDependencies,se),ft=Object.assign(Object.assign({},se),{token:nt,createTime:Date.now()});return yield ae(Q.firebaseDependencies,ft),nt}catch(nt){throw yield ir(Q),nt}}),tr.apply(this,arguments)}function yt(Q,se){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(Q,se){const ft={token:yield st(Q,se),createTime:Date.now(),subscriptionOptions:se};return yield ae(Q,ft),ft.token})).apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(Q,se){return(yield Q.pushManager.getSubscription())||Q.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ae(se)})})).apply(this,arguments)}function Pi(Q){const se={from:Q.from,collapseKey:Q.collapse_key,messageId:Q.fcmMessageId};return function mt(Q,se){if(!se.notification)return;Q.notification={};const nt=se.notification.title;nt&&(Q.notification.title=nt);const ft=se.notification.body;ft&&(Q.notification.body=ft);const Wt=se.notification.image;Wt&&(Q.notification.image=Wt);const B=se.notification.icon;B&&(Q.notification.icon=B)}(se,Q),function Tt(Q,se){se.data&&(Q.data=se.data)}(se,Q),function Nt(Q,se){var nt,ft,Wt,B,oe;if(!(se.fcmOptions||null!==(nt=se.notification)&&void 0!==nt&&nt.click_action))return;Q.fcmOptions={};const Ne=null!==(Wt=null===(ft=se.fcmOptions)||void 0===ft?void 0:ft.link)&&void 0!==Wt?Wt:null===(B=se.notification)||void 0===B?void 0:B.click_action;Ne&&(Q.fcmOptions.link=Ne);const _t=null===(oe=se.fcmOptions)||void 0===oe?void 0:oe.analytics_label;_t&&(Q.fcmOptions.analyticsLabel=_t)}(se,Q),se}function vn(Q,se){const nt=[];for(let ft=0;ft<Q.length;ft++)nt.push(Q.charAt(ft)),ft<se.length&&nt.push(se.charAt(ft));return nt.join("")}function lr(Q){return He.create("missing-app-config-values",{valueName:Q})}vn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zn{constructor(se,nt,ft){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Wt=function zn(Q){if(!Q||!Q.options)throw lr("App Configuration Object");if(!Q.name)throw lr("App Name");const se=["projectId","apiKey","appId","messagingSenderId"],{options:nt}=Q;for(const ft of se)if(!nt[ft])throw lr(ft);return{appName:Q.name,projectId:nt.projectId,apiKey:nt.apiKey,appId:nt.appId,senderId:nt.messagingSenderId}}(se);this.firebaseDependencies={app:se,appConfig:Wt,installations:nt,analyticsProvider:ft}}_delete(){return Promise.resolve()}}function Ki(Q){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(Q){try{Q.swRegistration=yield navigator.serviceWorker.register(ge,{scope:_e}),Q.swRegistration.update().catch(()=>{})}catch(se){throw He.create("failed-service-worker-registration",{browserErrorMessage:se?.message})}})).apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(Q,se){if(!se&&!Q.swRegistration&&(yield Ki(Q)),se||!Q.swRegistration){if(!(se instanceof ServiceWorkerRegistration))throw He.create("invalid-sw-registration");Q.swRegistration=se}})).apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(Q,se){se?Q.vapidKey=se:Q.vapidKey||(Q.vapidKey=ce)})).apply(this,arguments)}function We(Q,se){return Se.apply(this,arguments)}function Se(){return Se=(0,u.Z)(function*(Q,se){if(!navigator)throw He.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw He.create("permission-blocked");return yield function bn(Q,se){return jr.apply(this,arguments)}(Q,se?.vapidKey),yield function oi(Q,se){return on.apply(this,arguments)}(Q,se?.serviceWorkerRegistration),function ii(Q){return Jr.apply(this,arguments)}(Q)}),Se.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(Q,se,nt){const ft=function jt(Q){switch(Q){case Je.NOTIFICATION_CLICKED:return"notification_open";case Je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(se);(yield Q.firebaseDependencies.analyticsProvider.get()).logEvent(ft,{message_id:nt[$],message_name:nt[Y],message_time:nt[Ze],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nr(){return nr=(0,u.Z)(function*(Q,se){const nt=se.data;if(!nt.isFirebaseMessaging)return;Q.onMessageHandler&&nt.messageType===Je.PUSH_RECEIVED&&("function"==typeof Q.onMessageHandler?Q.onMessageHandler(Pi(nt)):Q.onMessageHandler.next(Pi(nt)));const ft=nt.data;(function Zi(Q){return"object"==typeof Q&&!!Q&&$ in Q})(ft)&&"1"===ft[ve]&&(yield function at(Q,se,nt){return Rt.apply(this,arguments)}(Q,nt.messageType,ft))}),nr.apply(this,arguments)}const V="@firebase/messaging",L="0.12.4",q=Q=>{const se=new Zn(Q.getProvider("app").getImmediate(),Q.getProvider("installations-internal").getImmediate(),Q.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",nt=>function Gt(Q,se){return nr.apply(this,arguments)}(se,nt)),se},me=Q=>{const se=Q.getProvider("messaging").getImmediate();return{getToken:ft=>We(se,ft)}};function ht(){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(){try{yield(0,te.eu)()}catch{return!1}return typeof window<"u"&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(Q){if(!navigator)throw He.create("only-available-in-window");return Q.swRegistration||(yield Ki(Q)),ir(Q)})).apply(this,arguments)}function nn(Q,se){return cr.apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(Q,se){return We(Q=(0,te.m9)(Q),se)})).apply(this,arguments)}function sr(Q){return function dn(Q){return Ot.apply(this,arguments)}(Q=(0,te.m9)(Q))}function kr(Q,se){return function Vn(Q,se){if(!navigator)throw He.create("only-available-in-window");return Q.onMessageHandler=se,()=>{Q.onMessageHandler=null}}(Q=(0,te.m9)(Q),se)}!function ne(){(0,J._registerComponent)(new N.wA("messaging",q,"PUBLIC")),(0,J._registerComponent)(new N.wA("messaging-internal",me,"PRIVATE")),(0,J.registerVersion)(V,L),(0,J.registerVersion)(V,L,"esm2017")}()},259:(Et,Me,O)=>{O.d(Me,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=O(9681);(0,u.registerVersion)("firebase","9.17.2","app")},9260:(Et,Me,O)=>{O.d(Me,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.17.2","app-compat")},4217:(Et,Me,O)=>{O.r(Me);var u=O(5861),X=O(3942),N=O(2090),ie=O(9681),te=O(1877),J=O(655),ge=O(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y_EMAIL_SIGNIN="EMAIL_SIGNIN",Y_PASSWORD_RESET="PASSWORD_RESET",Y_RECOVER_EMAIL="RECOVER_EMAIL",Y_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Y_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Y_VERIFY_EMAIL="VERIFY_EMAIL";const Qe=function Ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ue=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new te.Yd("@firebase/auth");function Ve(y,...p){Re.logLevel<=te.in.ERROR&&Re.error(`Auth (${ie.SDK_VERSION}): ${y}`,...p)}function xe(y,...p){throw Pe(y,...p)}function Ee(y,...p){return Pe(y,...p)}function Oe(y,p,m){const b=Object.assign(Object.assign({},Je()),{[p]:m});return new N.LL("auth","Firebase",b).create(p,{appName:y.name})}function $e(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&xe(y,"argument-error"),Oe(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return ue.create(y,...p)}function U(y,p,...m){if(!y)throw Pe(p,...m)}function ye(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ve(p),new Error(p)}function qe(y,p){y||ye(p)}const Ye=new Map;function vt(y){qe(y instanceof Function,"Expected a class definition");let p=Ye.get(y);return p?(qe(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ye.set(y,p),p)}function he(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function we(){return"http:"===ke()||"https:"===ke()}function ke(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class He{constructor(p,m){this.shortDelay=p,this.longDelay=m,qe(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Le(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(we()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(y,p){qe(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class _n{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},un=new He(3e4,6e4);function Xe(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function At(y,p,m,b){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(y,p,m,b,D={}){return Nn(y,D,(0,u.Z)(function*(){let x={},K={};b&&("GET"===p?K=b:x={body:JSON.stringify(b)});const pe=(0,N.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),ze=yield y._getAdditionalHeaders();return ze["Content-Type"]="application/json",y.languageCode&&(ze["X-Firebase-Locale"]=y.languageCode),_n.fetch()(ii(y,y.config.apiHost,m,pe),Object.assign({method:p,headers:ze,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Nn(y,p,m){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},xt),p);try{const D=new Jr(y),x=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const K=yield x.json();if("needConfirmation"in K)throw ir(y,"account-exists-with-different-credential",K);if(x.ok&&!("errorMessage"in K))return K;{const pe=x.ok?K.errorMessage:K.error.message,[ze,ct]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw ir(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===ze)throw ir(y,"email-already-in-use",K);if("USER_DISABLED"===ze)throw ir(y,"user-disabled",K);const Vt=b[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw Oe(y,Vt,ct);xe(y,Vt)}}catch(D){if(D instanceof N.ZR)throw D;xe(y,"internal-error",{message:String(D)})}})).apply(this,arguments)}function mn(y,p,m,b){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(y,p,m,b,D={}){const x=yield At(y,p,m,b,D);return"mfaPendingCredential"in x&&xe(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function ii(y,p,m,b){const D=`${p}${m}?${b}`;return y.config.emulator?st(y.config,D):`${y.config.apiScheme}://${D}`}class Jr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ee(this.auth,"network-request-failed")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ir(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const D=Ee(y,p,b);return D.customData._tokenResponse=m,D}function Mn(){return(Mn=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Fn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function mt(){return(mt=(0,u.Z)(function*(y,p=!1){const m=(0,N.m9)(y),b=yield m.getIdToken(p),D=Nt(b);U(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,K=x?.sign_in_provider;return{claims:D,token:b,authTime:Fn(Tt(D.auth_time)),issuedAtTime:Fn(Tt(D.iat)),expirationTime:Fn(Tt(D.exp)),signInProvider:K||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(y){return 1e3*Number(y)}function Nt(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,N.tV)(m);return D?JSON.parse(D):(Ve("Failed to decode base64 JWT payload"),null)}catch(D){return Ve("Caught error parsing JWT payload as JSON",D?.toString()),null}}function vn(y,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof N.ZR&&function lr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}class Zn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Ki{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fn(this.lastLoginAt),this.creationTime=Fn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hn(y){return oi.apply(this,arguments)}function oi(){return oi=(0,u.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),D=yield vn(y,function ti(y,p){return si.apply(this,arguments)}(m,{idToken:b}));U(D?.users.length,m,"internal-error");const x=D.users[0];y._notifyReloadListener(x);const K=null!==(p=x.providerUserInfo)&&void 0!==p&&p.length?function We(y){return y.map(p=>{var{providerId:m}=p,b=(0,J._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(x.providerUserInfo):[],pe=function jr(y,p){return[...y.filter(b=>!p.some(D=>D.providerId===b.providerId)),...p]}(y.providerData,K),Vt=!!y.isAnonymous&&!(y.email&&x.passwordHash||pe?.length),Pt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:pe,metadata:new Ki(x.createdAt,x.lastLoginAt),isAnonymous:Vt};Object.assign(y,Pt)}),oi.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(y){const p=(0,N.m9)(y);yield hn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(y,p){const m=yield Nn(y,{},(0,u.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:x}=y.config,K=ii(y,D,"/v1/token",`key=${x}`),pe=yield y._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",_n.fetch()(K,{method:"POST",headers:pe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){U(p.idToken,"internal-error"),U(typeof p.idToken<"u","internal-error"),U(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Zi(y){const p=Nt(y);return U(p,"internal-error"),U(typeof p.exp<"u","internal-error"),U(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,u.Z)(function*(){return U(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,u.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:K}=yield function Se(y,p){return at.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(D,x,Number(K))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:D,expirationTime:x}=m,K=new Rt;return b&&(U("string"==typeof b,"internal-error",{appName:p}),K.refreshToken=b),D&&(U("string"==typeof D,"internal-error",{appName:p}),K.accessToken=D),x&&(U("number"==typeof x,"internal-error",{appName:p}),K.expirationTime=x),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return ye("not implemented")}}function jt(y,p){U("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Gt{constructor(p){var{uid:m,auth:b,stsTokenManager:D}=p,x=(0,J._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Ki(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const b=yield vn(m,m.stsTokenManager.getToken(m.auth,p));return U(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Pi(y){return mt.apply(this,arguments)}(this,p)}reload(){return function on(y){return bn.apply(this,arguments)}(this)}_assign(p){this!==p&&(U(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Gt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,u.Z)(function*(){let D=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),D=!0),m&&(yield hn(b)),yield b.auth._persistUserIfCurrent(b),D&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield vn(p,function ei(y,p){return Mn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,D,x,K,pe,ze,ct,Vt;const Pt=null!==(b=m.displayName)&&void 0!==b?b:void 0,xr=null!==(D=m.email)&&void 0!==D?D:void 0,Nr=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,Yl=null!==(K=m.photoURL)&&void 0!==K?K:void 0,yp=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,ho=null!==(ze=m._redirectEventId)&&void 0!==ze?ze:void 0,hs=null!==(ct=m.createdAt)&&void 0!==ct?ct:void 0,Ho=null!==(Vt=m.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:Ql,emailVerified:Xl,isAnonymous:Jl,providerData:vp,stsTokenManager:ec}=m;U(Ql&&ec,p,"internal-error");const Ob=Rt.fromJSON(this.name,ec);U("string"==typeof Ql,p,"internal-error"),jt(Pt,p.name),jt(xr,p.name),U("boolean"==typeof Xl,p,"internal-error"),U("boolean"==typeof Jl,p,"internal-error"),jt(Nr,p.name),jt(Yl,p.name),jt(yp,p.name),jt(ho,p.name),jt(hs,p.name),jt(Ho,p.name);const tc=new Gt({uid:Ql,auth:p,email:xr,emailVerified:Xl,displayName:Pt,isAnonymous:Jl,photoURL:Yl,phoneNumber:Nr,tenantId:yp,stsTokenManager:Ob,createdAt:hs,lastLoginAt:Ho});return vp&&Array.isArray(vp)&&(tc.providerData=vp.map(nc=>Object.assign({},nc))),ho&&(tc._redirectEventId=ho),tc}static _fromIdTokenResponse(p,m,b=!1){return(0,u.Z)(function*(){const D=new Rt;D.updateFromServerResponse(m);const x=new Gt({uid:m.localId,auth:p,stsTokenManager:D,isAnonymous:b});return yield hn(x),x})()}}const V=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,b){var D=this;return(0,u.Z)(function*(){D.storage[m]=b})()}_get(m){var b=this;return(0,u.Z)(function*(){const D=b.storage[m];return void 0===D?null:D})()}_remove(m){var b=this;return(0,u.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function L(y,p,m){return`firebase:${y}:${p}:${m}`}class q{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:D,name:x}=this.auth;this.fullUserKey=L(this.userKey,D.apiKey,x),this.fullPersistenceKey=L("persistence",D.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Gt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,u.Z)(function*(){if(!m.length)return new q(vt(V),p,b);const D=(yield Promise.all(m.map(function(){var ct=(0,u.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return ct.apply(this,arguments)}}()))).filter(ct=>ct);let x=D[0]||vt(V);const K=L(b,p.config.apiKey,p.name);let pe=null;for(const ct of m)try{const Vt=yield ct._get(K);if(Vt){const Pt=Gt._fromJSON(p,Vt);ct!==x&&(pe=Pt),x=ct;break}}catch{}const ze=D.filter(ct=>ct._shouldAllowMigration);return x._shouldAllowMigration&&ze.length?(x=ze[0],pe&&(yield x._set(K,pe.toJSON())),yield Promise.all(m.map(function(){var ct=(0,u.Z)(function*(Vt){if(Vt!==x)try{yield Vt._remove(K)}catch{}});return function(Vt){return ct.apply(this,arguments)}}())),new q(x,p,b)):new q(x,p,b)})()}}function me(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(dn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ne(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Vn(p))return"Blackberry";if(Un(p))return"Webos";if(ht(p))return"Safari";if((p.includes("chrome/")||Mt(p))&&!p.includes("edge/"))return"Chrome";if(Ot(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function ne(y=(0,N.z$)()){return/firefox\//i.test(y)}function ht(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Mt(y=(0,N.z$)()){return/crios\//i.test(y)}function dn(y=(0,N.z$)()){return/iemobile/i.test(y)}function Ot(y=(0,N.z$)()){return/android/i.test(y)}function Vn(y=(0,N.z$)()){return/blackberry/i.test(y)}function Un(y=(0,N.z$)()){return/webos/i.test(y)}function nn(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Q(y=(0,N.z$)()){return nn(y)||Ot(y)||Un(y)||Vn(y)||/windows phone/i.test(y)||dn(y)}function nt(y,p=[]){let m;switch(y){case"Browser":m=me((0,N.z$)());break;case"Worker":m=`${me((0,N.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ie.SDK_VERSION}/${b}`}class ft{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=x=>new Promise((K,pe)=>{try{K(p(x))}catch(ze){pe(ze)}});b.onAbort=m,this.queue.push(b);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const D of m.queue)yield D(p),D.onAbort&&b.push(D.onAbort)}catch(D){b.reverse();for(const x of b)try{x()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Wt{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oe(this),this.idTokenSubscription=new oe(this),this.beforeStateQueue=new ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=vt(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var D,x;if(!b._deleted&&(b.persistenceManager=yield q.create(b,p),!b._deleted)){if(null!==(D=b._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var b;const D=yield m.assertedPersistence.getCurrentUser();let x=D,K=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ze=x?._redirectEventId,ct=yield m.tryRedirectSignIn(p);(!pe||pe===ze)&&ct?.user&&(x=ct.user,K=!0)}if(!x)return m.directlySetCurrentUser(null);if(!x._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(x)}catch(pe){x=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return x?m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield hn(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const b=p?(0,N.m9)(p):null;return b&&U(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return p&&U(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(vt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,u.Z)(function*(){const D=yield b.getOrInitRedirectPersistenceManager(m);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&vt(p)||m._popupRedirectResolver;U(b,m,"argument-error"),m.redirectPersistenceManager=yield q.create(m,[vt(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var b,D;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,D){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return U(K,this,"internal-error"),K.then(()=>x(this.currentUser)),"function"==typeof m?p.addObserver(m,b,D):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=nt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const D=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(b["X-Firebase-Client"]=D),b})()}}function B(y){return(0,N.m9)(y)}class oe{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _t(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function lt(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class pn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ye("not implemented")}_getIdTokenResponse(p){return ye("not implemented")}_linkToIdToken(p,m){return ye("not implemented")}_getReauthenticationResolver(p){return ye("not implemented")}}function Sr(y,p){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:resetPassword",Xe(y,p))})).apply(this,arguments)}function Hr(y,p){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",Xe(y,p))})).apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithPassword",Xe(y,p))})).apply(this,arguments)}function br(y,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:sendOobCode",Xe(y,p))})).apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(y,p){return br(y,p)})).apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(y,p){return br(y,p)})).apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(y,p){return br(y,p)})).apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(y,p){return br(y,p)})).apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,p))})).apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,p))})).apply(this,arguments)}class Ms extends pn{constructor(p,m,b,D=null){super("password",b),this._email=p,this._password=m,this._tenantId=D}static _fromEmailAndPassword(p,m){return new Ms(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new Ms(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function vi(y,p){return Yi.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function zr(y,p){return Js.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:xe(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return Hr(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ss(y,p){return Ni.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:xe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ls(y,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithIdp",Xe(y,p))})).apply(this,arguments)}class wi extends pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new wi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):xe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:D}=m,x=(0,J._T)(m,["providerId","signInMethod"]);if(!b||!D)return null;const K=new wi(b,D);return K.idToken=x.idToken||void 0,K.accessToken=x.accessToken||void 0,K.secret=x.secret,K.nonce=x.nonce,K.pendingToken=x.pendingToken||null,K}_getIdTokenResponse(p){return ls(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,ls(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ls(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function Do(){return(Do=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:sendVerificationCode",Xe(y,p))})).apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,p))})).apply(this,arguments)}function Pc(){return(Pc=(0,u.Z)(function*(y,p){const m=yield mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,p));if(m.temporaryProof)throw ir(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Gr={USER_NOT_FOUND:"user-not-found"};function eo(){return(eo=(0,u.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Gr)})).apply(this,arguments)}class li extends pn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new li({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new li({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Pa(y,p){return As.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function $r(y,p){return Pc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ai(y,p){return eo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:D}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:x}=p;return b||m||D||x?new li({verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:x}):null}}class to{constructor(p){var m,b,D,x,K,pe;const ze=(0,N.zd)((0,N.pd)(p)),ct=null!==(m=ze.apiKey)&&void 0!==m?m:null,Vt=null!==(b=ze.oobCode)&&void 0!==b?b:null,Pt=function To(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=ze.mode)&&void 0!==D?D:null);U(ct&&Vt&&Pt,"argument-error"),this.apiKey=ct,this.operation=Pt,this.code=Vt,this.continueUrl=null!==(x=ze.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(K=ze.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(pe=ze.tenantId)&&void 0!==pe?pe:null}static parseLink(p){const m=function ci(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||m||p||y}(p);try{return new to(m)}catch{return null}}}let Nc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return Ms._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const D=to.parseLink(b);return U(D,"argument-error"),Ms._fromEmailAndCode(m,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class xs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Jo extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ea extends Jo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return U("providerId"in m&&"signInMethod"in m,"argument-error"),wi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return U(p.idToken||p.accessToken,"argument-error"),wi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ea.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ea.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:D,pendingToken:x,nonce:K,providerId:pe}=p;if(!b&&!D&&!m&&!x||!pe)return null;try{return new ea(pe)._credential({idToken:m,accessToken:b,nonce:K,pendingToken:x})}catch{return null}}}let no=(()=>{class y extends Jo{constructor(){super("facebook.com")}static credential(m){return wi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Fc=(()=>{class y extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return wi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:D}=m;if(!b&&!D)return null;try{return y.credential(b,D)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ed=(()=>{class y extends Jo{constructor(){super("github.com")}static credential(m){return wi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ui extends pn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ls(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,ls(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ls(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:D,pendingToken:x}=m;return b&&D&&x&&b===D?new ui(b,x):null}static _create(p,m){return new ui(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Os extends xs{constructor(p){U(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Os.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Os.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=ui.fromJSON(p);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return ui._create(b,m)}catch{return null}}}let bm=(()=>{class y extends Jo{constructor(){super("twitter.com")}static credential(m,b){return wi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:D}=m;if(!b||!D)return null;try{return y.credential(b,D)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function wl(y,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signUp",Xe(y,p))})).apply(this,arguments)}class di{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,D=!1){return(0,u.Z)(function*(){const x=yield Gt._fromIdTokenResponse(p,b,D),K=El(b);return new di({user:x,providerId:K,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const D=El(b);return new di({user:p,providerId:D,_tokenResponse:b,operationType:m})})()}}function El(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function F(){return(F=(0,u.Z)(function*(y){var p;const m=B(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new di({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield wl(m,{returnSecureToken:!0}),D=yield di._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class R extends N.ZR{constructor(p,m,b,D){var x;super(m.code,m.message),this.operationType=b,this.user=D,Object.setPrototypeOf(this,R.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,D){return new R(p,m,b,D)}}function z(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?R._fromErrorAndOperation(y,x,p,b):x})}function de(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function je(){return je=(0,u.Z)(function*(y,p){const m=(0,N.m9)(y);yield Yt(!0,m,p);const{providerUserInfo:b}=yield function tr(y,p){return yt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),D=de(b||[]);return m.providerData=m.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),je.apply(this,arguments)}function pt(y,p){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(y,p,m=!1){const b=yield vn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return di._forOperation(y,"link",b)})).apply(this,arguments)}function Yt(y,p,m){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(y,p,m){yield hn(p);const D=!1===y?"provider-already-linked":"no-such-provider";U(de(p.providerData).has(m)===y,p.auth,D)})).apply(this,arguments)}function wn(y,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(y,p,m=!1){const{auth:b}=y,D="reauthenticate";try{const x=yield vn(y,z(b,D,p,y),m);U(x.idToken,b,"internal-error");const K=Nt(x.idToken);U(K,b,"internal-error");const{sub:pe}=K;return U(y.uid===pe,b,"user-mismatch"),di._forOperation(y,D,x)}catch(x){throw"auth/user-not-found"===x?.code&&xe(b,"user-mismatch"),x}})).apply(this,arguments)}function qr(y,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(y,p,m=!1){const b="signIn",D=yield z(y,b,p),x=yield di._fromIdTokenResponse(y,b,D);return m||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function ks(y,p){return So.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(y,p){return qr(B(y),p)})).apply(this,arguments)}function Yn(y,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(y,p){const m=(0,N.m9)(y);return yield Yt(!1,m,p.providerId),pt(m,p)})).apply(this,arguments)}function Ei(y,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(y,p){return wn((0,N.m9)(y),p)})).apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithCustomToken",Xe(y,p))})).apply(this,arguments)}function hi(){return hi=(0,u.Z)(function*(y,p){const m=B(y),b=yield function Em(y,p){return Bc.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),D=yield di._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(D.user),D}),hi.apply(this,arguments)}class Vc{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Fa._fromServerResponse(p,m):xe(p,"internal-error")}}class Fa extends Vc{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Fa(m)}}function Uc(y,p,m){var b;U((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function jc(){return jc=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y),D={requestType:"PASSWORD_RESET",email:p};m&&Uc(b,D,m),yield function yl(y,p){return en.apply(this,arguments)}(b,D)}),jc.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(y,p,m){yield Sr((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Cm(){return Cm=(0,u.Z)(function*(y,p){yield function Kt(y,p){return $n.apply(this,arguments)}((0,N.m9)(y),{oobCode:p})}),Cm.apply(this,arguments)}function kf(y,p){return Id.apply(this,arguments)}function Id(){return(Id=(0,u.Z)(function*(y,p){const m=(0,N.m9)(y),b=yield Sr(m,{oobCode:p}),D=b.requestType;switch(U(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(b.mfaInfo,m,"internal-error");default:U(b.email,m,"internal-error")}let x=null;return b.mfaInfo&&(x=Vc._fromServerResponse(B(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(y,p){const{data:m}=yield kf((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function Dd(){return(Dd=(0,u.Z)(function*(y,p,m){const b=B(y),D=yield wl(b,{returnSecureToken:!0,email:p,password:m}),x=yield di._fromIdTokenResponse(b,"signIn",D);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function Td(){return Td=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y),D={requestType:"EMAIL_SIGNIN",email:p};U(m.handleCodeInApp,b,"argument-error"),m&&Uc(b,D,m),yield function vl(y,p){return Ds.apply(this,arguments)}(b,D)}),Td.apply(this,arguments)}function Sd(){return(Sd=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y),D=Nc.credentialWithLink(p,m||he());return U(D._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),ks(b,D)})).apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:createAuthUri",Xe(y,p))})).apply(this,arguments)}function $c(){return $c=(0,u.Z)(function*(y,p){const b={identifier:p,continueUri:we()?he():"http://localhost"},{signinMethods:D}=yield function zc(y,p){return Xi.apply(this,arguments)}((0,N.m9)(y),b);return D||[]}),$c.apply(this,arguments)}function Md(){return Md=(0,u.Z)(function*(y,p){const m=(0,N.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Uc(m.auth,D,p);const{email:x}=yield function Kn(y,p){return Is.apply(this,arguments)}(m.auth,D);x!==y.email&&(yield y.reload())}),Md.apply(this,arguments)}function Wr(){return Wr=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Uc(b.auth,x,m);const{email:K}=yield function bl(y,p){return Ts.apply(this,arguments)}(b.auth,x);K!==y.email&&(yield y.reload())}),Wr.apply(this,arguments)}function Mo(){return(Mo=(0,u.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rs(){return Rs=(0,u.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,N.m9)(y),x={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield vn(b,function cs(y,p){return Mo.apply(this,arguments)}(b.auth,x));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const pe=b.providerData.find(({providerId:ze})=>"password"===ze);pe&&(pe.displayName=b.displayName,pe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)}),Rs.apply(this,arguments)}function Tm(y,p,m){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,u.Z)(function*(y,p,m){const{auth:b}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(x.email=p),m&&(x.password=m);const K=yield vn(y,Hr(b,x));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class ro{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Lf extends ro{constructor(p,m,b,D){super(p,m,b),this.username=D}}class Bf extends ro{constructor(p,m){super(p,"facebook.com",m)}}class wb extends Lf{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Sm extends ro{constructor(p,m){super(p,"google.com",m)}}class Vf extends Lf{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Mm(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function xd(y){var p,m;if(!y)return null;const{providerId:b}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const K=null===(m=null===(p=Nt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new ro(x,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new Bf(x,D);case"github.com":return new wb(x,D);case"google.com":return new Sm(x,D);case"twitter.com":return new Vf(x,D,y.screenName||null);case"custom":case"anonymous":return new ro(x,null);default:return new ro(x,b,D)}}(m)}class Ba{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new Ba("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ba("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ba._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Ba._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Uf{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=B(p),D=m.customData._serverResponse,x=(D.mfaInfo||[]).map(pe=>Vc._fromServerResponse(b,pe));U(D.mfaPendingCredential,b,"internal-error");const K=Ba._fromMfaPendingCredential(D.mfaPendingCredential);return new Uf(K,x,function(){var pe=(0,u.Z)(function*(ze){const ct=yield ze._process(b,K);delete D.mfaInfo,delete D.mfaPendingCredential;const Vt=Object.assign(Object.assign({},D),{idToken:ct.idToken,refreshToken:ct.refreshToken});switch(m.operationType){case"signIn":const Pt=yield di._fromIdTokenResponse(b,m.operationType,Vt);return yield b._updateCurrentUser(Pt.user),Pt;case"reauthenticate":return U(m.user,b,"internal-error"),di._forOperation(m.user,m.operationType,Vt);default:xe(b,"internal-error")}});return function(ze){return pe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}class Dl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Vc._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Dl(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ba._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,u.Z)(function*(){const D=p,x=yield b.getSession(),K=yield vn(b.user,D._process(b.user.auth,x,m));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,D=yield m.user.getIdToken();try{const x=yield vn(m.user,function Sb(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(y,p))}(m.user.auth,{idToken:D,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==b),yield m.user._updateTokensIfNecessary(x),yield m.user.reload()}catch(x){throw x}})()}}const Tl=new WeakMap,Va="__sak";class Sl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Va,"1"),this.storage.removeItem(Va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gc=(()=>{class y extends Sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ml(){const y=(0,N.z$)();return ht(y)||nn(y)}()&&function se(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Q(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const D=this.storage.getItem(b),x=this.localCache[b];D!==x&&m(b,x,D)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((pe,ze,ct)=>{this.notifyListeners(pe,ct)});const D=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(D);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!b)return}const x=()=>{const pe=this.storage.getItem(D);!b&&this.localCache[D]===pe||this.notifyListeners(D,pe)},K=this.storage.getItem(D);!function kr(){return(0,N.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?x():setTimeout(x,10)}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const x of Array.from(D))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var D=()=>super._set,x=this;return(0,u.Z)(function*(){yield D().call(x,m,b),x.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,D=this;return(0,u.Z)(function*(){const x=yield b().call(D,m);return D.localCache[m]=JSON.stringify(x),x})()}_remove(m){var b=()=>super._remove,D=this;return(0,u.Z)(function*(){yield b().call(D,m),delete D.localCache[m]})()}}return y.type="LOCAL",y})(),na=(()=>{class y extends Sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Rm=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(x=>x.isListeningto(m));if(b)return b;const D=new y(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,u.Z)(function*(){const D=m,{eventId:x,eventType:K,data:pe}=D.data,ze=b.handlersMap[K];if(!ze?.size)return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:K});const ct=Array.from(ze).map(function(){var Pt=(0,u.Z)(function*(xr){return xr(D.origin,pe)});return function(xr){return Pt.apply(this,arguments)}}()),Vt=yield function km(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(ct);D.ports[0].postMessage({status:"done",eventId:x,eventType:K,response:Vt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ra(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class qc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var D=this;return(0,u.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let K,pe;return new Promise((ze,ct)=>{const Vt=ra("",20);x.port1.start();const Pt=setTimeout(()=>{ct(new Error("unsupported_event"))},b);pe={messageChannel:x,onMessage(xr){const Nr=xr;if(Nr.data.eventId===Vt)switch(Nr.data.status){case"ack":clearTimeout(Pt),K=setTimeout(()=>{ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),ze(Nr.data.response);break;default:clearTimeout(Pt),clearTimeout(K),ct(new Error("invalid_response"))}}},D.handlers.add(pe),x.port1.addEventListener("message",pe.onMessage),D.target.postMessage({eventType:p,eventId:Vt,data:m},[x.port2])}).finally(()=>{pe&&D.removeMessageHandler(pe)})})()}}function or(){return window}function xo(){return typeof or().WorkerGlobalScope<"u"&&"function"==typeof or().importScripts}function ja(){return(ja=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hf="firebaseLocalStorageDb",Wc=1,Ha="firebaseLocalStorage",za="fbase_key";class Zc{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function xl(y,p){return y.transaction([Ha],p?"readwrite":"readonly").objectStore(Ha)}function Kc(){const y=indexedDB.open(Hf,Wc);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Ha,{keyPath:za})}catch(D){m(D)}}),y.addEventListener("success",(0,u.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Ha)?p(b):(b.close(),yield function Pd(){const y=indexedDB.deleteDatabase(Hf);return new Zc(y).toPromise()}(),p(yield Kc()))}))})}function Ii(y,p,m){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(y,p,m){const b=xl(y,!0).put({[za]:p,value:m});return new Zc(b).toPromise()})).apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(y,p){const m=xl(y,!1).get(p),b=yield new Zc(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Qc(y,p){const m=xl(y,!0).delete(p);return new Zc(m).toPromise()}const sa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield Kc()),m.db})()}_withRetries(m){var b=this;return(0,u.Z)(function*(){let D=0;for(;;)try{const x=yield b._openDb();return yield m(x)}catch(x){if(D++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return xo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Rm._getInstance(function Al(){return xo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(D,x){return{keyProcessed:(yield m._poll()).includes(x.key)}});return function(D,x){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var b,D;if(m.activeServiceWorker=yield function ia(){return ja.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new qc(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);x&&null!==(b=x[0])&&void 0!==b&&b.fulfilled&&null!==(D=x[0])&&void 0!==D&&D.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Rd(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Kc();return yield Ii(m,Va,"1"),yield Qc(m,Va),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(x=>Ii(x,m,b)),D.localCache[m]=b,D.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,u.Z)(function*(){const D=yield b._withRetries(x=>function Yc(y,p){return $a.apply(this,arguments)}(x,m));return b.localCache[m]=D,D})()}_remove(m){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(D=>Qc(D,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const b=yield m._withRetries(K=>{const pe=xl(K,!1).getAll();return new Zc(pe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:K,value:pe}of b)x.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(pe)&&(m.notifyListeners(K,pe),D.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!x.has(K)&&(m.notifyListeners(K,null),D.push(K));return D})()}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const x of Array.from(D))x(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ld(){return(Ld=(0,u.Z)(function*(y){return(yield At(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function oa(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=D=>{const x=Ee("internal-error");x.customData=D,m(x)},b.type="text/javascript",b.charset="UTF-8",function Ga(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Nm(y){return`__${y}${Math.floor(1e6*Math.random())}`}const io=1e12;class Lm{constructor(p){this.auth=p,this.counter=io,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Gf(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||io;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||io))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var b;return null===(b=m._widgets.get(p||io))||void 0===b||b.execute(),""})()}}class Gf{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;U(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xc(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vd=Nm("rcb"),Ud=new He(3e4,6e4);class aa{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=or().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return U(function la(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(or().grecaptcha):new Promise((b,D)=>{const x=or().setTimeout(()=>{D(Ee(p,"network-request-failed"))},Ud.get());or()[Vd]=()=>{or().clearTimeout(x),delete or()[Vd];const pe=or().grecaptcha;if(!pe)return void D(Ee(p,"internal-error"));const ze=pe.render;pe.render=(ct,Vt)=>{const Pt=ze(ct,Vt);return this.counter++,Pt},this.hostLanguage=m,b(pe)},oa(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Vd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),D(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=or().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rl{load(p){return(0,u.Z)(function*(){return new Lm(p)})()}clearedOneInstance(){}}const jd="recaptcha",qf={theme:"light",type:"image"};class qa{constructor(p,m=Object.assign({},qf),b){this.parameters=m,this.type=jd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=B(b),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;U(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rl:new aa,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(x=>{const K=pe=>{pe&&(p.tokenChangeListeners.delete(K),x(pe))};p.tokenChangeListeners.add(K),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=or()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){U(we()&&!xo(),p.auth,"internal-error"),yield function Bm(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function $f(y){return Ld.apply(this,arguments)}(p.auth);U(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hd{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=li._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Vm(){return(Vm=(0,u.Z)(function*(y,p,m){const b=B(y),D=yield $d(b,p,(0,N.m9)(m));return new Hd(D,x=>ks(b,x))})).apply(this,arguments)}function zd(){return(zd=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y);yield Yt(!1,b,"phone");const D=yield $d(b.auth,p,(0,N.m9)(m));return new Hd(D,x=>Yn(b,x))})).apply(this,arguments)}function Wf(){return(Wf=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y),D=yield $d(b.auth,p,(0,N.m9)(m));return new Hd(D,x=>Ei(b,x))})).apply(this,arguments)}function $d(y,p,m){return eu.apply(this,arguments)}function eu(){return eu=(0,u.Z)(function*(y,p,m){var b;const D=yield m.verify();try{let x;if(U("string"==typeof D,y,"argument-error"),U(m.type===jd,y,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const K=x.session;if("phoneNumber"in x)return U("enroll"===K.type,y,"internal-error"),(yield function Db(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:start",Xe(y,p))}(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{U("signin"===K.type,y,"internal-error");const pe=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return U(pe,y,"missing-multi-factor-info"),(yield function Fd(y,p){return At(y,"POST","/v2/accounts/mfaSignIn:start",Xe(y,p))}(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield function wd(y,p){return Do.apply(this,arguments)}(y,{phoneNumber:x.phoneNumber,recaptchaToken:D});return K}}finally{m._reset()}}),eu.apply(this,arguments)}function Um(){return(Um=(0,u.Z)(function*(y,p){yield pt((0,N.m9)(y),p)})).apply(this,arguments)}let Gd=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=B(m)}verifyPhoneNumber(m,b){return $d(this.auth,m,(0,N.m9)(b))}static credential(m,b){return li._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:D}=m;return b&&D?li._fromTokenResponse(b,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Xn(y,p){return p?vt(p):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Pl extends pn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ls(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ls(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ls(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function tu(y){return qr(y.auth,new Pl(y),y.bypassAuthState)}function Ab(y){const{auth:p,user:m}=y;return U(m,p,"internal-error"),wn(m,new Pl(y),y.bypassAuthState)}function us(y){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(y){const{auth:p,user:m}=y;return U(m,p,"internal-error"),pt(m,new Pl(y),y.bypassAuthState)})).apply(this,arguments)}class Zf{constructor(p,m,b,D,x=!1){this.auth=p,this.resolver=b,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(b,D){p.pendingPromise={resolve:b,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(b,D){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:D,postBody:x,tenantId:K,error:pe,type:ze}=p;if(pe)return void m.reject(pe);const ct={auth:m.auth,requestUri:b,sessionId:D,tenantId:K||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ze)(ct))}catch(Vt){m.reject(Vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return tu;case"linkViaPopup":case"linkViaRedirect":return us;case"reauthViaPopup":case"reauthViaRedirect":return Ab;default:xe(this.auth,"internal-error")}}resolve(p){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nu=new He(2e3,1e4);function Kf(){return(Kf=(0,u.Z)(function*(y,p,m){const b=B(y);$e(y,p,xs);const D=Xn(b,m);return new ua(b,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function Yf(){return(Yf=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y);$e(b.auth,p,xs);const D=Xn(b.auth,m);return new ua(b.auth,"reauthViaPopup",p,D,b).executeNotNull()})).apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y);$e(b.auth,p,xs);const D=Xn(b.auth,m);return new ua(b.auth,"linkViaPopup",p,D,b).executeNotNull()})).apply(this,arguments)}let ua=(()=>{class y extends Zf{constructor(m,b,D,x,K){super(m,b,x,K),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const b=yield m.execute();return U(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,u.Z)(function*(){qe(1===m.filter.length,"Popup operations only handle one event");const b=ra();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,D;this.pollId=null!==(D=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,nu.get())};m()}}return y.currentPopupAction=null,y})();const Za="pendingRedirect",Nl=new Map;class jm extends Zf{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let b=Nl.get(m.auth._key());if(!b){try{const x=(yield function Gn(y,p){return ko.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(x)}catch(D){b=()=>Promise.reject(D)}Nl.set(m.auth._key(),b)}return m.bypassAuthState||Nl.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const D=yield b.auth._redirectUserForId(p.eventId);if(D)return b.user=D,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ko(){return(ko=(0,u.Z)(function*(y,p){const m=hr(p),b=da(y);if(!(yield b._isAvailable()))return!1;const D="true"===(yield b._get(m));return yield b._remove(m),D})).apply(this,arguments)}function gt(y,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(y,p){return da(y)._set(hr(p),"true")})).apply(this,arguments)}function qd(y,p){Nl.set(y._key(),p)}function da(y){return vt(y._redirectPersistence)}function hr(y){return L(Za,y.config.apiKey,y.name)}function Wd(y,p,m){return function Fl(y,p,m){return iu.apply(this,arguments)}(y,p,m)}function iu(){return(iu=(0,u.Z)(function*(y,p,m){const b=B(y);$e(y,p,xs),yield b._initializationPromise;const D=Xn(b,m);return yield gt(D,b),D._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Ll(y,p,m){return function Qf(y,p,m){return su.apply(this,arguments)}(y,p,m)}function su(){return(su=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y);$e(b.auth,p,xs),yield b.auth._initializationPromise;const D=Xn(b.auth,m);yield gt(D,b.auth);const x=yield Xf(b);return D._openRedirect(b.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function so(y,p,m){return function rt(y,p,m){return ou.apply(this,arguments)}(y,p,m)}function ou(){return(ou=(0,u.Z)(function*(y,p,m){const b=(0,N.m9)(y);$e(b.auth,p,xs),yield b.auth._initializationPromise;const D=Xn(b.auth,m);yield Yt(!1,b,p.providerId),yield gt(D,b.auth);const x=yield Xf(b);return D._openRedirect(b.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(y,p){return yield B(y)._initializationPromise,Ps(y,p,!1)})).apply(this,arguments)}function Ps(y,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(y,p,m=!1){const b=B(y),D=Xn(b,p),K=yield new jm(b,D,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,p)),K})).apply(this,arguments)}function Xf(y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(y){const p=ra(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Zd{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ha(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ep(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!ep(p)){const D=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,D))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vl(p))}saveEventToCache(p){this.cachedEventUids.add(Vl(p)),this.lastProcessedEventTime=Date.now()}}function Vl(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function ep({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function oo(y){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(y,p={}){return At(y,"GET","/v1/projects",p)})).apply(this,arguments)}const tp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fi=/^https?/;function Fs(){return(Fs=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield oo(y);for(const m of p)try{if(Kd(m))return}catch{}xe(y,"unauthorized-domain")})).apply(this,arguments)}function Kd(y){const p=he(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===b}if(!Fi.test(m))return!1;if(tp.test(y))return b===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(b)}const Pr=new He(3e4,6e4);function au(){const y=or().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let gn=null;const lu=new He(5e3,15e3),fr="__/auth/iframe",Mr="emulator/auth/iframe",cu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xb(y){const p=y.config;U(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?st(p,Mr):`https://${y.config.authDomain}/${fr}`,b={apiKey:p.apiKey,appName:y.name,v:ie.SDK_VERSION},D=zm.get(y.config.apiHost);D&&(b.eid=D);const x=y._getFrameworks();return x.length&&(b.fw=x.join(",")),`${m}?${(0,N.xO)(b).slice(1)}`}function Ls(){return Ls=(0,u.Z)(function*(y){const p=yield function wr(y){return gn=gn||function Yd(y){return new Promise((p,m)=>{var b,D,x;function K(){au(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{au(),m(Ee(y,"network-request-failed"))},timeout:Pr.get()})}if(null!==(D=null===(b=or().gapi)||void 0===b?void 0:b.iframes)&&void 0!==D&&D.Iframe)p(gapi.iframes.getContext());else{if(null===(x=or().gapi)||void 0===x||!x.load){const pe=Nm("iframefcb");return or()[pe]=()=>{gapi.load?K():m(Ee(y,"network-request-failed"))},oa(`https://apis.google.com/js/api.js?onload=${pe}`).catch(ze=>m(ze))}K()}}).catch(p=>{throw gn=null,p})}(y),gn}(y),m=or().gapi;return U(m,y,"internal-error"),p.open({where:document.body,url:xb(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cu,dontclear:!0},b=>new Promise(function(){var D=(0,u.Z)(function*(x,K){yield b.restyle({setHideOnLeave:!1});const pe=Ee(y,"network-request-failed"),ze=or().setTimeout(()=>{K(pe)},lu.get());function ct(){or().clearTimeout(ze),x(b)}b.ping(ct).then(ct,()=>{K(pe)})});return function(x,K){return D.apply(this,arguments)}}()))}),Ls.apply(this,arguments)}const pr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ji=500,np=600,Ka="_blank",uu="http://localhost";class es{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const du="__/auth/handler",Jt="emulator/auth/handler";function lo(y,p,m,b,D,x){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ie.SDK_VERSION,eventId:D};if(p instanceof xs){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ze,ct]of Object.entries(x||{}))K[ze]=ct}if(p instanceof Jo){const ze=p.getScopes().filter(ct=>""!==ct);ze.length>0&&(K.scopes=ze.join(","))}y.tenantId&&(K.tid=y.tenantId);const pe=K;for(const ze of Object.keys(pe))void 0===pe[ze]&&delete pe[ze];return`${function Gm({config:y}){return y.emulator?st(y,Jt):`https://${y.authDomain}/${du}`}(y)}?${(0,N.xO)(pe).slice(1)}`}const No="webStorageSupport",Qd=class qm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=na,this._completeRedirectFn=Ps,this._overrideRedirectResult=qd}_openPopup(p,m,b,D){var x=this;return(0,u.Z)(function*(){var K;qe(null===(K=x.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const pe=lo(p,m,b,he(),D);return function $m(y,p,m,b=Ji,D=np){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let pe="";const ze=Object.assign(Object.assign({},pr),{width:b.toString(),height:D.toString(),top:x,left:K}),ct=(0,N.z$)().toLowerCase();m&&(pe=Mt(ct)?Ka:m),ne(ct)&&(p=p||uu,ze.scrollbars="yes");const Vt=Object.entries(ze).reduce((xr,[Nr,Yl])=>`${xr}${Nr}=${Yl},`,"");if(function sr(y=(0,N.z$)()){var p;return nn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ct)&&"_self"!==pe)return function rp(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",pe),new es(null);const Pt=window.open(p||"",pe,Vt);U(Pt,y,"popup-blocked");try{Pt.focus()}catch{}return new es(Pt)}(p,pe,ra())})()}_openRedirect(p,m,b,D){var x=this;return(0,u.Z)(function*(){return yield x._originValidation(p),function kd(y){or().location.href=y}(lo(p,m,b,he(),D)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:D,promise:x}=this.eventManagers[m];return D?Promise.resolve(D):(qe(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const b=yield function Po(y){return Ls.apply(this,arguments)}(p),D=new Zd(p);return b.register("authEvent",x=>(U(x?.authEvent,p,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:D},m.iframes[p._key()]=b,D})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(No,{type:No},D=>{var x;const K=null===(x=D?.[0])||void 0===x?void 0:x[No];void 0!==K&&m(!!K),xe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ro(y){return Fs.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Q()||ht()||nn()}};class Bs{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return ye("unexpected MultiFactorSessionType")}}}class hu extends Bs{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new hu(p)}_finalizeEnroll(p,m,b){return function Tb(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function zf(y,p){return At(y,"POST","/v2/accounts/mfaSignIn:finalize",Xe(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fi=(()=>{class y{constructor(){}static assertion(m){return hu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Ul="@firebase/auth";class Ar{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lo(){return window}(0,N.Pz)("authIdTokenMaxAge"),function Fo(y){(0,ie._registerComponent)(new ge.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),D=p.getProvider("heartbeat"),{apiKey:x,authDomain:K}=b.options;return((pe,ze)=>{U(x&&!x.includes(":"),"invalid-api-key",{appName:pe.name}),U(!K?.includes(":"),"argument-error",{appName:pe.name});const ct={apiKey:x,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nt(y)},Vt=new Wt(pe,ze,ct);return function ae(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(vt);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(Vt,m),Vt})(b,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ge.wA("auth-internal",p=>{const m=B(p.getProvider("auth").getImmediate());return new Ar(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Ul,"0.21.4",function rr(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ie.registerVersion)(Ul,"0.21.4","esm2017")}("Browser");const ap=2e3;function Ya(){return Ya=(0,u.Z)(function*(y,p,m){var b;const{BuildInfo:D}=Lo();qe(p.sessionId,"AuthEvent did not contain a session ID");const x=yield function jl(y){return pa.apply(this,arguments)}(p.sessionId),K={};return nn()?K.ibi=D.packageName:Ot()?K.apn=D.packageName:xe(y,"operation-not-supported-in-this-environment"),D.displayName&&(K.appDisplayName=D.displayName),K.sessionId=x,lo(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,K)}),Ya.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(y){const{BuildInfo:p}=Lo(),m={};nn()?m.iosBundleId=p.packageName:Ot()?m.androidPackageName=p.packageName:xe(y,"operation-not-supported-in-this-environment"),yield oo(y,m)})).apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(y,p,m){const{cordova:b}=Lo();let D=()=>{};try{yield new Promise((x,K)=>{let pe=null;function ze(){var Pt;x();const xr=null===(Pt=b.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof xr&&xr(),"function"==typeof m?.close&&m.close()}function ct(){pe||(pe=window.setTimeout(()=>{K(Ee(y,"redirect-cancelled-by-user"))},ap))}function Vt(){"visible"===document?.visibilityState&&ct()}p.addPassiveListener(ze),document.addEventListener("resume",ct,!1),Ot()&&document.addEventListener("visibilitychange",Vt,!1),D=()=>{p.removePassiveListener(ze),document.removeEventListener("resume",ct,!1),document.removeEventListener("visibilitychange",Vt,!1),pe&&window.clearTimeout(pe)}})}finally{D()}})).apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(y){const p=function th(y){if(qe(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Hl=20;class Vs extends Zd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function lp(y){return ga.apply(this,arguments)}function ga(){return(ga=(0,u.Z)(function*(y){const p=yield gu()._get(nh(y));return p&&(yield gu()._remove(nh(y))),p})).apply(this,arguments)}function cp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Hl;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function gu(){return vt(Gc)}function nh(y){return L("authEvent",y.config.apiKey,y.name)}function Vo(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}const ih=class up{constructor(){this._redirectPersistence=na,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ps,this._overrideRedirectResult=qd}_initialize(p){var m=this;return(0,u.Z)(function*(){const b=p._key();let D=m.eventManagers.get(b);return D||(D=new Vs(p),m.eventManagers.set(b,D),m.attachCallbackListeners(p,D)),D})()}_openPopup(p){xe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,D){var x=this;return(0,u.Z)(function*(){!function Km(y){var p,m,b,D,x,K,pe,ze,ct,Vt;const Pt=Lo();U("function"==typeof(null===(p=Pt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(m=Pt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(x=null===(D=null===(b=Pt?.cordova)||void 0===b?void 0:b.plugins)||void 0===D?void 0:D.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(ze=null===(pe=null===(K=Pt?.cordova)||void 0===K?void 0:K.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===ze?void 0:ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Vt=null===(ct=Pt?.cordova)||void 0===ct?void 0:ct.InAppBrowser)||void 0===Vt?void 0:Vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield x._initialize(p);yield K.initialized(),K.resetRedirect(),function kn(){Nl.clear()}(),yield x._originValidation(p);const pe=function fu(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:cp(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(p,b,D);yield function zl(y,p){return gu()._set(nh(y),p)}(p,pe);const ze=yield function eh(y,p,m){return Ya.apply(this,arguments)}(p,pe,m),ct=yield function fa(y){const{cordova:p}=Lo();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let D=null;b?p.plugins.browsertab.openUrl(y):D=p.InAppBrowser.open(y,function cr(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(D)})})}(ze);return function Zm(y,p,m){return Li.apply(this,arguments)}(p,K,ct)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Bo(y){return rn.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:D,BuildInfo:x}=Lo(),K=setTimeout((0,u.Z)(function*(){yield lp(p),m.onEvent(dp())}),500),pe=function(){var Vt=(0,u.Z)(function*(Pt){clearTimeout(K);const xr=yield lp(p);let Nr=null;xr&&Pt?.url&&(Nr=function pu(y,p){var m,b;const D=function Qm(y){const p=Vo(y),m=p.link?decodeURIComponent(p.link):void 0,b=Vo(m).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Vo(D).link||D||b||m||y}(p);if(D.includes("/__/auth/callback")){const x=Vo(D),K=x.firebaseError?function Ym(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,pe=null===(b=null===(m=K?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],ze=pe?Ee(pe):null;return ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(xr,Pt.url)),m.onEvent(Nr||dp())});return function(xr){return Vt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,pe);const ze=D,ct=`${x.packageName.toLowerCase()}://`;Lo().handleOpenURL=function(){var Vt=(0,u.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(ct)&&pe({url:Pt}),"function"==typeof ze)try{ze(Pt)}catch(xr){console.error(xr)}});return function(Pt){return Vt.apply(this,arguments)}}()}};function dp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}const ma=1e3;function ts(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Jm(y=(0,N.z$)()){return!("file:"!==ts()&&"ionic:"!==ts()&&"capacitor:"!==ts()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function _a(){try{const y=self.localStorage,p=ra();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Qa(y=(0,N.z$)()){return function Gl(){return(0,N.w1)()&&11===document?.documentMode}()||function t_(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return co()&&(0,N.hl)()}return!1}function co(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xa(){return(function _u(){return"http:"===ts()||"https:"===ts()}()||(0,N.ru)()||Jm())&&!function e_(){return(0,N.b$)()||(0,N.UG)()}()&&_a()&&!co()}function yu(){return Jm()&&typeof document<"u"}function ds(){return(ds=(0,u.Z)(function*(){return!!yu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},ma);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const pi={LOCAL:"local",NONE:"none",SESSION:"session"},Uo=U,vu="persistence";function jo(y){return bu.apply(this,arguments)}function bu(){return(bu=(0,u.Z)(function*(y){yield y._initializationPromise;const p=fp(),m=L(vu,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function fp(){var y;try{return(null===(y=function hp(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const pp=U;class Us{constructor(){this.browserResolver=vt(Qd),this.cordovaResolver=vt(ih),this.underlyingResolver=null,this._redirectPersistence=na,this._completeRedirectFn=Ps,this._overrideRedirectResult=qd}_initialize(p){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,D){var x=this;return(0,u.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(p,m,b,D)})()}_openRedirect(p,m,b,D){var x=this;return(0,u.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(p,m,b,D)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return yu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const m=yield function ql(){return ds.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function va(y){return y.unwrap()}function Wl(y){return Zl(y)}function Zl(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Gd.credentialFromResult(y);const m=p.providerId;if(!m||m===ce.PASSWORD)return null;let b;switch(m){case ce.GOOGLE:b=Fc;break;case ce.FACEBOOK:b=no;break;case ce.GITHUB:b=Ed;break;case ce.TWITTER:b=bm;break;default:const{oauthIdToken:D,oauthAccessToken:x,oauthTokenSecret:K,pendingToken:pe,nonce:ze}=p;return x||K||D||pe?pe?m.startsWith("saml.")?ui._create(m,pe):wi._fromParams({providerId:m,signInMethod:m,pendingToken:pe,idToken:D,accessToken:x}):new ea(m).credential({idToken:D,accessToken:x,rawNonce:ze}):null}return y instanceof N.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Zr(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function ns(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new ah(y,function Ib(y,p){var m;const b=(0,N.m9)(y),D=p;return U(p.customData.operationType,b,"argument-error"),U(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Uf._fromError(b,D)}(y,p));else if(b){const D=Zl(p),x=p;D&&(x.credential=D,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:Wl(m),additionalUserInfo:Mm(m),user:uo.getOrCreate(D)}})}function wu(y,p){return oh.apply(this,arguments)}function oh(){return(oh=(0,u.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Zr(y,m.confirm(b))}})).apply(this,arguments)}class ah{constructor(p,m){this.resolver=m,this.auth=function Bi(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Zr(va(this.auth),this.resolver.resolveSignIn(p))}}class uo{constructor(p){this._delegate=p,this.multiFactor=function Od(y){const p=(0,N.m9)(y);return Tl.has(p)||Tl.set(p,Dl._fromUser(p)),Tl.get(p)}(p)}static getOrCreate(p){return uo.USER_MAP.has(p)||uo.USER_MAP.set(p,new uo(p)),uo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,u.Z)(function*(){return Zr(m.auth,Yn(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,u.Z)(function*(){return wu(b.auth,function BI(y,p,m){return zd.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,u.Z)(function*(){return Zr(m.auth,function UI(y,p,m){return Di.apply(this,arguments)}(m._delegate,p,Us))})()}linkWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield jo(B(m.auth)),so(m._delegate,p,Us)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,u.Z)(function*(){return Zr(m.auth,Ei(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return wu(this.auth,function ca(y,p,m){return Wf.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Zr(this.auth,function VI(y,p,m){return Yf.apply(this,arguments)}(this._delegate,p,Us))}reauthenticateWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield jo(B(m.auth)),Ll(m._delegate,p,Us)})()}sendEmailVerification(p){return function bb(y,p){return Md.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,u.Z)(function*(){return yield function De(y,p){return je.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Nf(y,p){return Tm((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Ad(y,p){return Tm((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Wa(y,p){return Um.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Il(y,p){return Rs.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Pf(y,p,m){return Wr.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}uo.USER_MAP=new WeakMap;const Ja=U;let Kl=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;Ja(D,"invalid-api-key",{appName:m.name}),Ja(D,"invalid-api-key",{appName:m.name});const x=typeof window<"u"?Us:void 0;this._delegate=b.initialize({options:{persistence:gp(D,m.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Ne(y,p,m){const b=B(y);U(b._canInitEmulator,b,"emulator-config-failed"),U(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const D=!!m?.disableWarnings,x=_t(p),{host:K,port:pe}=function In(y){const p=_t(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(b);if(D){const x=D[1];return{host:x,port:lt(b.substr(x.length+1))}}{const[x,K]=b.split(":");return{host:x,port:lt(K)}}}(p);b.config.emulator={url:`${x}//${K}${null===pe?"":`:${pe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:pe,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Ct(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Of(y,p){return Cm.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return kf(this._delegate,m)}confirmPasswordReset(m,b){return function Cd(y,p,m){return Qt.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var D=this;return(0,u.Z)(function*(){return Zr(D._delegate,function vb(y,p,m){return Dd.apply(this,arguments)}(D._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Rf(y,p){return $c.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Dm(y,p){return"EMAIL_SIGNIN"===to.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){Ja(Xa(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Hm(y,p){return Bl.apply(this,arguments)}(m._delegate,Us);return b?Zr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Xm(y,p){B(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,D){const{next:x,error:K,complete:pe}=Eu(m,b,D);return this._delegate.onAuthStateChanged(x,K,pe)}onIdTokenChanged(m,b,D){const{next:x,error:K,complete:pe}=Eu(m,b,D);return this._delegate.onIdTokenChanged(x,K,pe)}sendSignInLinkToEmail(m,b){return function yn(y,p,m){return Td.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function ta(y,p,m){return jc.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,u.Z)(function*(){let D;switch(function ya(y,p){Uo(Object.values(pi).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Uo(p!==pi.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Uo(p===pi.NONE,y,"unsupported-persistence-type"):co()?Uo(p===pi.NONE||p===pi.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Uo(p===pi.NONE||_a(),y,"unsupported-persistence-type")}(b._delegate,m),m){case pi.SESSION:D=na;break;case pi.LOCAL:D=(yield vt(sa)._isAvailable())?sa:Gc;break;case pi.NONE:D=V;break;default:return xe("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Zr(this._delegate,function wm(y){return F.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Zr(this._delegate,ks(this._delegate,m))}signInWithCustomToken(m){return Zr(this._delegate,function Cl(y,p){return hi.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Zr(this._delegate,function be(y,p,m){return ks((0,N.m9)(y),Nc.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Zr(this._delegate,function ni(y,p,m){return Sd.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return wu(this._delegate,function jn(y,p,m){return Vm.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,u.Z)(function*(){return Ja(Xa(),b._delegate,"operation-not-supported-in-this-environment"),Zr(b._delegate,function ru(y,p,m){return Kf.apply(this,arguments)}(b._delegate,m,Us))})()}signInWithRedirect(m){var b=this;return(0,u.Z)(function*(){return Ja(Xa(),b._delegate,"operation-not-supported-in-this-environment"),yield jo(b._delegate),Wd(b._delegate,m,Us)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Im(y,p){return Hc.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=pi,y})();function Eu(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const D=b;return{next:K=>D(K&&uo.getOrCreate(K)),error:p,complete:m}}function gp(y,p){const m=function sh(y,p){const m=fp();if(!m)return[];const b=L(vu,y,p);switch(m.getItem(b)){case pi.NONE:return[V];case pi.LOCAL:return[sa,na];case pi.SESSION:return[na];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(sa)&&m.push(sa),typeof window<"u")for(const b of[Gc,na])m.includes(b)||m.push(b);return m.includes(V)||m.push(V),m}class Cu{constructor(){this.providerId="phone",this._delegate=new Gd(va(X.Z.auth()))}static credential(p,m){return Gd.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Cu.PHONE_SIGN_IN_METHOD=Gd.PHONE_SIGN_IN_METHOD,Cu.PROVIDER_ID=Gd.PROVIDER_ID;const mp=U;class ba{constructor(p,m,b=X.Z.app()){var D;mp(null===(D=b.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new qa(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _p(y){y.INTERNAL.registerComponent(new ge.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Kl(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y_EMAIL_SIGNIN,PASSWORD_RESET:Y_PASSWORD_RESET,RECOVER_EMAIL:Y_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y_VERIFY_EMAIL}},EmailAuthProvider:Nc,FacebookAuthProvider:no,GithubAuthProvider:Ed,GoogleAuthProvider:Fc,OAuthProvider:ea,SAMLAuthProvider:Os,PhoneAuthProvider:Cu,PhoneMultiFactorGenerator:fi,RecaptchaVerifier:ba,TwitterAuthProvider:bm,Auth:Kl,AuthCredential:pn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.4")}(X.Z)},6774:(Et,Me,O)=>{O.d(Me,{Gb:()=>u.Gb});var u=O(908)},8766:(Et,Me,O)=>{O.d(Me,{Lj:()=>xe,X3:()=>Ve});var u=O(5861);const X=(U,ye)=>ye.some(qe=>U instanceof qe);let N,ie;const ge=new WeakMap,_e=new WeakMap,ce=new WeakMap,H=new WeakMap,$=new WeakMap;let ve={get(U,ye,qe){if(U instanceof IDBTransaction){if("done"===ye)return _e.get(U);if("objectStoreNames"===ye)return U.objectStoreNames||ce.get(U);if("store"===ye)return qe.objectStoreNames[1]?void 0:qe.objectStore(qe.objectStoreNames[0])}return Ae(U[ye])},set:(U,ye,qe)=>(U[ye]=qe,!0),has:(U,ye)=>U instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in U};function ue(U){return"function"==typeof U?function Je(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ye){return U.apply(Re(this),ye),Ae(ge.get(this))}:function(...ye){return Ae(U.apply(Re(this),ye))}:function(ye,...qe){const Ye=U.call(Re(this),ye,...qe);return ce.set(Ye,ye.sort?ye.sort():[ye]),Ae(Ye)}}(U):(U instanceof IDBTransaction&&function Ze(U){if(_e.has(U))return;const ye=new Promise((qe,Ye)=>{const vt=()=>{U.removeEventListener("complete",tt),U.removeEventListener("error",ae),U.removeEventListener("abort",ae)},tt=()=>{qe(),vt()},ae=()=>{Ye(U.error||new DOMException("AbortError","AbortError")),vt()};U.addEventListener("complete",tt),U.addEventListener("error",ae),U.addEventListener("abort",ae)});_e.set(U,ye)}(U),X(U,function te(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,ve):U)}function Ae(U){if(U instanceof IDBRequest)return function Y(U){const ye=new Promise((qe,Ye)=>{const vt=()=>{U.removeEventListener("success",tt),U.removeEventListener("error",ae)},tt=()=>{qe(Ae(U.result)),vt()},ae=()=>{Ye(U.error),vt()};U.addEventListener("success",tt),U.addEventListener("error",ae)});return ye.then(qe=>{qe instanceof IDBCursor&&ge.set(qe,U)}).catch(()=>{}),$.set(ye,U),ye}(U);if(H.has(U))return H.get(U);const ye=ue(U);return ye!==U&&(H.set(U,ye),$.set(ye,U)),ye}const Re=U=>$.get(U);function Ve(U,ye,{blocked:qe,upgrade:Ye,blocking:vt,terminated:tt}={}){const ae=indexedDB.open(U,ye),he=Ae(ae);return Ye&&ae.addEventListener("upgradeneeded",we=>{Ye(Ae(ae.result),we.oldVersion,we.newVersion,Ae(ae.transaction))}),qe&&ae.addEventListener("blocked",()=>qe()),he.then(we=>{tt&&we.addEventListener("close",()=>tt()),vt&&we.addEventListener("versionchange",()=>vt())}).catch(()=>{}),he}function xe(U,{blocked:ye}={}){const qe=indexedDB.deleteDatabase(U);return ye&&qe.addEventListener("blocked",()=>ye()),Ae(qe).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],$e=new Map;function Pe(U,ye){if(!(U instanceof IDBDatabase)||ye in U||"string"!=typeof ye)return;if($e.get(ye))return $e.get(ye);const qe=ye.replace(/FromIndex$/,""),Ye=ye!==qe,vt=Oe.includes(qe);if(!(qe in(Ye?IDBIndex:IDBObjectStore).prototype)||!vt&&!Ee.includes(qe))return;const tt=function(){var ae=(0,u.Z)(function*(he,...we){const ke=this.transaction(he,vt?"readwrite":"readonly");let Le=ke.store;return Ye&&(Le=Le.index(we.shift())),(yield Promise.all([Le[qe](...we),vt&&ke.done]))[0]});return function(we){return ae.apply(this,arguments)}}();return $e.set(ye,tt),tt}!function Qe(U){ve=U(ve)}(U=>({...U,get:(ye,qe,Ye)=>Pe(ye,qe)||U.get(ye,qe,Ye),has:(ye,qe)=>!!Pe(ye,qe)||U.has(ye,qe)}))},5861:(Et,Me,O)=>{function u(N,ie,te,J,ge,_e,ce){try{var H=N[_e](ce),$=H.value}catch(Y){return void te(Y)}H.done?ie($):Promise.resolve($).then(J,ge)}function X(N){return function(){var ie=this,te=arguments;return new Promise(function(J,ge){var _e=N.apply(ie,te);function ce($){u(_e,J,ge,ce,H,"next",$)}function H($){u(_e,J,ge,ce,H,"throw",$)}ce(void 0)})}}O.d(Me,{Z:()=>X})}},Et=>{Et(Et.s=2848)}]);